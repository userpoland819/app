(function(q,O){"object"==typeof exports&&typeof module<"u"?O(exports):"function"==typeof define&&define.amd?define(["exports"],O):O((q=typeof globalThis<"u"?globalThis:q||self).leaflet={})})(this,function(q){"use strict";function O(t){for(var e,i,s=1,v=arguments.length;s<v;s++)for(e in i=arguments[s])t[e]=i[e];return t}var k=Object.create||function(t){return n.prototype=t,new n};function n(){}function p(t,e){var i,s=Array.prototype.slice;return t.bind?t.bind.apply(t,s.call(arguments,1)):(i=s.call(arguments,2),function(){return t.apply(e,i.length?i.concat(s.call(arguments)):arguments)})}var c=0;function y(t){return"_leaflet_id"in t||(t._leaflet_id=++c),t._leaflet_id}function g(t,e,i){var s,v,A=function(){s=!1,v&&(W.apply(i,v),v=!1)},W=function(){s?v=arguments:(t.apply(i,arguments),setTimeout(A,e),s=!0)};return W}function d(t,v,i){var s=v[1],A=s-(v=v[0]);return t===s&&i?t:((t-v)%A+A)%A+v}function o(){return!1}function r(t,e){return!1===e?t:(e=Math.pow(10,void 0===e?6:e),Math.round(t*e)/e)}function a(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function l(t){return a(t).split(/\s+/)}function f(t,e){for(var i in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?k(t.options):{}),e)t.options[i]=e[i];return t.options}function h(t,e,i){var s,v=[];for(s in t)v.push(encodeURIComponent(i?s.toUpperCase():s)+"="+encodeURIComponent(t[s]));return(e&&-1!==e.indexOf("?")?"&":"?")+v.join("&")}var u=/\{ *([\w_ -]+) *\}/g;function m(t,e){return t.replace(u,function(i,s){if(void 0===(s=e[s]))throw new Error("No value provided for variable "+i);return"function"==typeof s?s(e):s})}var x=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function _(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}var P="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function S(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var M=0;function N(t){var e=+new Date,i=Math.max(0,16-(e-M));return M=e+i,window.setTimeout(t,i)}var T=window.requestAnimationFrame||S("RequestAnimationFrame")||N,C=window.cancelAnimationFrame||S("CancelAnimationFrame")||S("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function b(t,e,i){if(!i||T!==N)return T.call(window,p(t,e));t.call(e)}function w(t){t&&C.call(window,t)}var j={__proto__:null,extend:O,create:k,bind:p,get lastId(){return c},stamp:y,throttle:g,wrapNum:d,falseFn:o,formatNum:r,trim:a,splitWords:l,setOptions:f,getParamString:h,template:m,isArray:x,indexOf:_,emptyImageUrl:P,requestFn:T,cancelFn:C,requestAnimFrame:b,cancelAnimFrame:w};function z(){}z.extend=function(t){function e(){f(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()}var i,s=e.__super__=this.prototype,v=k(s);for(i in(v.constructor=e).prototype=v,this)Object.prototype.hasOwnProperty.call(this,i)&&"prototype"!==i&&"__super__"!==i&&(e[i]=this[i]);if(t.statics&&O(e,t.statics),t.includes){var A=t.includes;if(typeof L<"u"&&L&&L.Mixin){A=x(A)?A:[A];for(var W=0;W<A.length;W++)A[W]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}O.apply(null,[v].concat(t.includes))}return O(v,t),delete v.statics,delete v.includes,v.options&&(v.options=s.options?k(s.options):{},O(v.options,t.options)),v._initHooks=[],v.callInitHooks=function(){if(!this._initHooksCalled){s.callInitHooks&&s.callInitHooks.call(this),this._initHooksCalled=!0;for(var U=0,Q=v._initHooks.length;U<Q;U++)v._initHooks[U].call(this)}},e},z.include=function(t){var e=this.prototype.options;return O(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},z.mergeOptions=function(t){return O(this.prototype.options,t),this},z.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};var G={on:function(t,e,i){if("object"==typeof t)for(var s in t)this._on(s,t[s],e);else for(var v=0,A=(t=l(t)).length;v<A;v++)this._on(t[v],e,i);return this},off:function(t,e,i){if(arguments.length)if("object"==typeof t)for(var s in t)this._off(s,t[s],e);else{t=l(t);for(var v=1===arguments.length,A=0,W=t.length;A<W;A++)v?this._off(t[A]):this._off(t[A],e,i)}else delete this._events;return this},_on:function(t,e,i,s){"function"!=typeof e?console.warn("wrong listener type: "+typeof e):!1===this._listens(t,e,i)&&(e={fn:e,ctx:i=i===this?void 0:i},s&&(e.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e))},_off:function(t,e,i){var s,v,A;if(this._events&&(s=this._events[t]))if(1===arguments.length){if(this._firingCount)for(v=0,A=s.length;v<A;v++)s[v].fn=o;delete this._events[t]}else"function"!=typeof e?console.warn("wrong listener type: "+typeof e):!1!==(e=this._listens(t,e,i))&&(i=s[e],this._firingCount&&(i.fn=o,this._events[t]=s=s.slice()),s.splice(e,1))},fire:function(t,e,i){if(this.listens(t,i)){var s=O({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var v=this._events[t];if(v){this._firingCount=this._firingCount+1||1;for(var A=0,W=v.length;A<W;A++){var U=v[A],Q=U.fn;U.once&&this.off(t,Q,U.ctx),Q.call(U.ctx||this,s)}this._firingCount--}}i&&this._propagateEvent(s)}return this},listens:function(t,e,i,s){"string"!=typeof t&&console.warn('"string" type argument expected');var v=e,A=("function"!=typeof e&&(s=!!e,i=v=void 0),this._events&&this._events[t]);if(A&&A.length&&!1!==this._listens(t,v,i))return!0;if(s)for(var W in this._eventParents)if(this._eventParents[W].listens(t,e,i,s))return!0;return!1},_listens:function(t,e,i){if(this._events){var s=this._events[t]||[];if(!e)return!!s.length;i===this&&(i=void 0);for(var v=0,A=s.length;v<A;v++)if(s[v].fn===e&&s[v].ctx===i)return v}return!1},once:function(t,e,i){if("object"==typeof t)for(var s in t)this._on(s,t[s],e,!0);else for(var v=0,A=(t=l(t)).length;v<A;v++)this._on(t[v],e,i,!0);return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[y(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[y(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,O({layer:t.target,propagatedFrom:t.target},t),!0)}},Y=(G.addEventListener=G.on,G.removeEventListener=G.clearAllEventListeners=G.off,G.addOneTimeEventListener=G.once,G.fireEvent=G.fire,G.hasEventListeners=G.listens,z.extend(G));function X(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e}var $=Math.trunc||function(t){return 0<t?Math.floor(t):Math.ceil(t)};function F(t,e,i){return t instanceof X?t:x(t)?new X(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new X(t.x,t.y):new X(t,e,i)}function E(t,e){if(t)for(var i=e?[t,e]:t,s=0,v=i.length;s<v;s++)this.extend(i[s])}function I(t,e){return!t||t instanceof E?t:new E(t,e)}function R(t,e){if(t)for(var i=e?[t,e]:t,s=0,v=i.length;s<v;s++)this.extend(i[s])}function Z(t,e){return t instanceof R?t:new R(t,e)}function H(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==i&&(this.alt=+i)}function D(t,e,i){return t instanceof H?t:x(t)&&"object"!=typeof t[0]?3===t.length?new H(t[0],t[1],t[2]):2===t.length?new H(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new H(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new H(t,e,i)}X.prototype={clone:function(){return new X(this.x,this.y)},add:function(t){return this.clone()._add(F(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(F(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new X(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new X(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=$(this.x),this.y=$(this.y),this},distanceTo:function(i){var e=(i=F(i)).x-this.x;return i=i.y-this.y,Math.sqrt(e*e+i*i)},equals:function(t){return(t=F(t)).x===this.x&&t.y===this.y},contains:function(t){return t=F(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+r(this.x)+", "+r(this.y)+")"}},E.prototype={extend:function(t){var e,i;if(t){if(t instanceof X||"number"==typeof t[0]||"x"in t)e=i=F(t);else if(e=(t=I(t)).min,i=t.max,!e||!i)return this;this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(i.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(i.y,this.max.y)):(this.min=e.clone(),this.max=i.clone())}return this},getCenter:function(t){return F((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return F(this.min.x,this.max.y)},getTopRight:function(){return F(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return(t=("number"==typeof t[0]||t instanceof X?F:I)(t))instanceof E?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(A){A=I(A);var e=this.min,i=this.max,s=A.min,v=(A=A.max).x>=e.x&&s.x<=i.x;return A=A.y>=e.y&&s.y<=i.y,v&&A},overlaps:function(A){A=I(A);var e=this.min,i=this.max,s=A.min,v=(A=A.max).x>e.x&&s.x<i.x;return A=A.y>e.y&&s.y<i.y,v&&A},isValid:function(){return!(!this.min||!this.max)},pad:function(v){var e=this.min,i=this.max,s=Math.abs(e.x-i.x)*v;return v=Math.abs(e.y-i.y)*v,I(F(e.x-s,e.y-v),F(i.x+s,i.y+v))},equals:function(t){return!!t&&(t=I(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight()))}},R.prototype={extend:function(t){var e,i,s=this._southWest,v=this._northEast;if(t instanceof H)i=e=t;else{if(!(t instanceof R))return t?this.extend(D(t)||Z(t)):this;if(i=t._northEast,!(e=t._southWest)||!i)return this}return s||v?(s.lat=Math.min(e.lat,s.lat),s.lng=Math.min(e.lng,s.lng),v.lat=Math.max(i.lat,v.lat),v.lng=Math.max(i.lng,v.lng)):(this._southWest=new H(e.lat,e.lng),this._northEast=new H(i.lat,i.lng)),this},pad:function(v){var e=this._southWest,i=this._northEast,s=Math.abs(e.lat-i.lat)*v;return v=Math.abs(e.lng-i.lng)*v,new R(new H(e.lat-s,e.lng-v),new H(i.lat+s,i.lng+v))},getCenter:function(){return new H((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new H(this.getNorth(),this.getWest())},getSouthEast:function(){return new H(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t=("number"==typeof t[0]||t instanceof H||"lat"in t?D:Z)(t);var e,i,s=this._southWest,v=this._northEast;return t instanceof R?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=s.lat&&i.lat<=v.lat&&e.lng>=s.lng&&i.lng<=v.lng},intersects:function(A){A=Z(A);var e=this._southWest,i=this._northEast,s=A.getSouthWest(),v=(A=A.getNorthEast()).lat>=e.lat&&s.lat<=i.lat;return A=A.lng>=e.lng&&s.lng<=i.lng,v&&A},overlaps:function(A){A=Z(A);var e=this._southWest,i=this._northEast,s=A.getSouthWest(),v=(A=A.getNorthEast()).lat>e.lat&&s.lat<i.lat;return A=A.lng>e.lng&&s.lng<i.lng,v&&A},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=Z(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}};var B={latLngToPoint:function(t,e){return t=this.projection.project(t),e=this.scale(e),this.transformation._transform(t,e)},pointToLatLng:function(t,e){return e=this.scale(e),t=this.transformation.untransform(t,e),this.projection.unproject(t)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){var e;return this.infinite?null:(e=this.projection.bounds,t=this.scale(t),new E(this.transformation.transform(e.min,t),this.transformation.transform(e.max,t)))},infinite:!(H.prototype={equals:function(t,e){return!!t&&(t=D(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+r(this.lat,t)+", "+r(this.lng,t)+")"},distanceTo:function(t){return V.distance(this,D(t))},wrap:function(){return V.wrapLatLng(this)},toBounds:function(e){var i=(e=180*e/40075017)/Math.cos(Math.PI/180*this.lat);return Z([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new H(this.lat,this.lng,this.alt)}}),wrapLatLng:function(t){var e=this.wrapLng?d(t.lng,this.wrapLng,!0):t.lng;return new H(this.wrapLat?d(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var s=t.getCenter(),e=this.wrapLatLng(s),i=s.lat-e.lat;return s=s.lng-e.lng,0==i&&0==s?t:(e=t.getSouthWest(),t=t.getNorthEast(),new R(new H(e.lat-i,e.lng-s),new H(t.lat-i,t.lng-s)))}},V=O({},B,{wrapLng:[-180,180],R:6371e3,distance:function(W,A){var U=Math.PI/180,i=W.lat*U,s=A.lat*U,v=Math.sin((A.lat-W.lat)*U/2);return A=Math.sin((A.lng-W.lng)*U/2),W=v*v+Math.cos(i)*Math.cos(s)*A*A,U=2*Math.atan2(Math.sqrt(W),Math.sqrt(1-W)),this.R*U}}),K={R:K=6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE;return i=Math.max(Math.min(i,t.lat),-i),i=Math.sin(i*e),new X(this.R*t.lng*e,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(t){var e=180/Math.PI;return new H((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:new E([-(K*=Math.PI),-K],[K,K])};function it(t,e,i,s){x(t)?(this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3]):(this._a=t,this._b=e,this._c=i,this._d=s)}function et(t,e,i,s){return new it(t,e,i,s)}it.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return t.x=(e=e||1)*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return new X((t.x/(e=e||1)-this._b)/this._a,(t.y/e-this._d)/this._c)}};var lt=O({},V,{code:"EPSG:3857",projection:K,transformation:et(lt=.5/(Math.PI*K.R),.5,-lt,.5)}),pt=O({},lt,{code:"EPSG:900913"});function _t(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function vt(t,e){for(var i,s,v,A,W="",U=0,Q=t.length;U<Q;U++){for(i=0,s=(v=t[U]).length;i<s;i++)W+=(i?"L":"M")+(A=v[i]).x+" "+A.y;W+=e?at.svg?"z":"x":""}return W||"M0 0"}var Yt=document.documentElement.style,Et="ActiveXObject"in window,mi=Et&&!document.addEventListener,Bt="msLaunchUri"in navigator&&!("documentMode"in document),be=bt("webkit"),Tt=bt("android"),Be=bt("android 2")||bt("android 3"),oe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),re=(oe=Tt&&bt("Google")&&oe<537&&!("AudioNode"in window),!!window.opera),ze=!Bt&&bt("chrome"),kt=bt("gecko")&&!be&&!re&&!Et,vi=!ze&&bt("safari"),Re=bt("phantom"),It="OTransition"in Yt,J=0===navigator.platform.indexOf("Win"),We=Et&&"transition"in Yt,ke="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Be,$e=(Yt="MozPerspective"in Yt,!window.L_DISABLE_3D&&(We||ke||Yt)&&!It&&!Re),Je=(Jt=typeof orientation<"u"||bt("mobile"))&&be,Qe=Jt&&ke,Ee=!window.PointerEvent&&window.MSPointerEvent,Te=!(!window.PointerEvent&&!Ee),tt="ontouchstart"in window||!!window.TouchEvent,nt=!window.L_NO_TOUCH&&(tt||Te),st=Jt&&re,rt=Jt&&kt,ct=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),xt=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",o,e),window.removeEventListener("testPassiveEventSupport",o,e)}catch{}return t}(),mt=!!document.createElement("canvas").getContext,Mt=!(!document.createElementNS||!_t("svg").createSVGRect),wt=!!Mt&&((wt=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(wt.firstChild&&wt.firstChild.namespaceURI));function bt(t){return 0<=navigator.userAgent.toLowerCase().indexOf(t)}var at={ie:Et,ielt9:mi,edge:Bt,webkit:be,android:Tt,android23:Be,androidStock:oe,opera:re,chrome:ze,gecko:kt,safari:vi,phantom:Re,opera12:It,win:J,ie3d:We,webkit3d:ke,gecko3d:Yt,any3d:$e,mobile:Jt,mobileWebkit:Je,mobileWebkit3d:Qe,msPointer:Ee,pointer:Te,touch:nt,touchNative:tt,mobileOpera:st,mobileGecko:rt,retina:ct,passiveEvents:xt,canvas:mt,svg:Mt,vml:!Mt&&function(){try{var t=document.createElement("div"),e=(t.innerHTML='<v:shape adj="1"/>',t.firstChild);return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch{return!1}}(),inlineSvg:wt,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Li=at.msPointer?"MSPointerDown":"pointerdown",Oi=at.msPointer?"MSPointerMove":"pointermove",ki=at.msPointer?"MSPointerUp":"pointerup",Pi=at.msPointer?"MSPointerCancel":"pointercancel",ei={touchstart:Li,touchmove:Oi,touchend:ki,touchcancel:Pi},Ei={touchstart:function(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&Nt(e),Ce(t,e)},touchmove:Ce,touchend:Ce,touchcancel:Ce},se={},Ti=!1;function fn(t){se[t.pointerId]=t}function dn(t){se[t.pointerId]&&(se[t.pointerId]=t)}function Ci(t){delete se[t.pointerId]}function Ce(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){for(var i in e.touches=[],se)e.touches.push(se[i]);e.changedTouches=[e],t(e)}}var ii,ae,_e,Ae,Se,ni,pn=200,oi=je(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),me=je(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ai="webkitTransition"===me||"OTransition"===me?me+"End":"transitionend";function Si(t){return"string"==typeof t?document.getElementById(t):t}function ye(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];return"auto"===(i=i&&"auto"!==i||!document.defaultView?i:(t=document.defaultView.getComputedStyle(t,null))?t[e]:null)?null:i}function gt(t,e,i){return(t=document.createElement(t)).className=e||"",i&&i.appendChild(t),t}function Pt(t){var e=t.parentNode;e&&e.removeChild(t)}function Me(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function le(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function ue(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ri(t,e){return void 0!==t.classList?t.classList.contains(e):0<(t=Ne(t)).length&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(t)}function ft(t,e){var i;if(void 0!==t.classList)for(var s=l(e),v=0,A=s.length;v<A;v++)t.classList.add(s[v]);else ri(t,e)||si(t,((i=Ne(t))?i+" ":"")+e)}function Ct(t,e){void 0!==t.classList?t.classList.remove(e):si(t,a((" "+Ne(t)+" ").replace(" "+e+" "," ")))}function si(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function Ne(t){return void 0===(t=t.correspondingElement?t.correspondingElement:t).className.baseVal?t.className:t.className.baseVal}function Rt(t,e){if("opacity"in t.style)t.style.opacity=e;else if("filter"in t.style){var i=!1,s="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(s)}catch{if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+s+"(opacity="+e+")"}}function je(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function Qt(t,e,i){e=e||new X(0,0),t.style[oi]=(at.ie3d?"translate("+e.x+"px,"+e.y+"px)":"translate3d("+e.x+"px,"+e.y+"px,0)")+(i?" scale("+i+")":"")}function St(t,e){t._leaflet_pos=e,at.any3d?Qt(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function te(t){return t._leaflet_pos||new X(0,0)}function ai(){ht(window,"dragstart",Nt)}function li(){Lt(window,"dragstart",Nt)}function ui(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(qe(),ni=(Se=t).style.outline,t.style.outline="none",ht(window,"keydown",qe))}function qe(){Se&&(Se.style.outline=ni,ni=Se=void 0,Lt(window,"keydown",qe))}function Mi(t){for(;!((t=t.parentNode).offsetWidth&&t.offsetHeight||t===document.body););return t}function ci(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}function ht(t,e,i,s){if(e&&"object"==typeof e)for(var v in e)fi(t,v,e[v],i);else for(var A=0,W=(e=l(e)).length;A<W;A++)fi(t,e[A],i,s);return this}Ae="onselectstart"in document?(_e=function(){ht(window,"selectstart",Nt)},function(){Lt(window,"selectstart",Nt)}):(ae=je(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),_e=function(){var t;ae&&(t=document.documentElement.style,ii=t[ae],t[ae]="none")},function(){ae&&(document.documentElement.style[ae]=ii,ii=void 0)}),Et={__proto__:null,TRANSFORM:oi,TRANSITION:me,TRANSITION_END:Ai,get:Si,getStyle:ye,create:gt,remove:Pt,empty:Me,toFront:le,toBack:ue,hasClass:ri,addClass:ft,removeClass:Ct,setClass:si,getClass:Ne,setOpacity:Rt,testProp:je,setTransform:Qt,setPosition:St,getPosition:te,get disableTextSelection(){return _e},get enableTextSelection(){return Ae},disableImageDrag:ai,enableImageDrag:li,preventOutline:ui,restoreOutline:qe,getSizedParentNode:Mi,getScale:ci};var Ft="_leaflet_events";function Lt(t,e,i,s){if(1===arguments.length)Ni(t),delete t[Ft];else if(e&&"object"==typeof e)for(var v in e)di(t,v,e[v],i);else if(e=l(e),2===arguments.length)Ni(t,function(U){return-1!==_(e,U)});else for(var A=0,W=e.length;A<W;A++)di(t,e[A],i,s);return this}function Ni(t,e){for(var i in t[Ft]){var s=i.split(/\d/)[0];e&&!e(s)||di(t,s,null,null,i)}}var hi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function fi(t,e,i,s){var v,A,W=e+y(i)+(s?"_"+y(s):"");t[Ft]&&t[Ft][W]||(A=v=function(U){return i.call(s||t,U||window.event)},!at.touchNative&&at.pointer&&0===e.indexOf("touch")?v=function hn(t,e,i){return"touchstart"!==e||Ti||(document.addEventListener(Li,fn,!0),document.addEventListener(Oi,dn,!0),document.addEventListener(ki,Ci,!0),document.addEventListener(Pi,Ci,!0),Ti=!0),Ei[e]?(i=Ei[e].bind(this,i),t.addEventListener(ei[e],i,!1),i):(console.warn("wrong event specified:",e),o)}(t,e,v):at.touch&&"dblclick"===e?v=function _n(t,e){t.addEventListener("dblclick",e);var i,s=0;function v(A){var W;1!==A.detail?i=A.detail:"mouse"===A.pointerType||A.sourceCapabilities&&!A.sourceCapabilities.firesTouchEvents||(W=ji(A)).some(function(U){return U instanceof HTMLLabelElement&&U.attributes.for})&&!W.some(function(U){return U instanceof HTMLInputElement||U instanceof HTMLSelectElement})||((W=Date.now())-s<=pn?2==++i&&e(function(U){var Q,ot,ut={};for(ot in U)ut[ot]=(Q=U[ot])&&Q.bind?Q.bind(U):Q;return(U=ut).type="dblclick",ut.detail=2,ut.isTrusted=!1,ut._simulated=!0,ut}(A)):i=1,s=W)}return t.addEventListener("click",v),{dblclick:e,simDblclick:v}}(t,v):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(hi[e]||e,v,!!at.passiveEvents&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?t.addEventListener(hi[e],v=function(U){U=U||window.event,_i(t,U)&&A(U)},!1):t.addEventListener(e,A,!1):t.attachEvent("on"+e,v),t[Ft]=t[Ft]||{},t[Ft][W]=v)}function di(t,e,U,s,v){var A,W;v=v||e+y(U)+(s?"_"+y(s):""),(U=t[Ft]&&t[Ft][v])&&(!at.touchNative&&at.pointer&&0===e.indexOf("touch")?(s=t,W=U,ei[A=e]?s.removeEventListener(ei[A],W,!1):console.warn("wrong event specified:",A)):at.touch&&"dblclick"===e?((W=t).removeEventListener("dblclick",(s=U).dblclick),W.removeEventListener("click",s.simDblclick)):"removeEventListener"in t?t.removeEventListener(hi[e]||e,U,!1):t.detachEvent("on"+e,U),t[Ft][v]=null)}function ee(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function pi(t){return fi(t,"wheel",ee),this}function ge(t){return ht(t,"mousedown touchstart dblclick contextmenu",ee),t._leaflet_disable_click=!0,this}function Nt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function ie(t){return Nt(t),ee(t),this}function ji(t){if(t.composedPath)return t.composedPath();for(var e=[],i=t.target;i;)e.push(i),i=i.parentNode;return e}function qi(t,e){var i,s;return e?(s=(i=ci(e)).boundingClientRect,new X((t.clientX-s.left)/i.x-e.clientLeft,(t.clientY-s.top)/i.y-e.clientTop)):new X(t.clientX,t.clientY)}var mn=at.linux&&at.chrome?window.devicePixelRatio:at.mac?3*window.devicePixelRatio:0<window.devicePixelRatio?2*window.devicePixelRatio:1;function Ii(t){return at.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/mn:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function _i(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch{return!1}return i!==t}mi={__proto__:null,on:ht,off:Lt,stopPropagation:ee,disableScrollPropagation:pi,disableClickPropagation:ge,preventDefault:Nt,stop:ie,getPropagationPath:ji,getMousePosition:qi,getWheelDelta:Ii,isExternalTarget:_i,addListener:ht,removeListener:Lt};var Bi=Y.extend({run:function(t,e,i,s){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(s||.5,.2),this._startPos=te(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=b(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=1e3*this._duration;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){t=this._startPos.add(this._offset.multiplyBy(t)),e&&t._round(),St(this._el,t),this.fire("step")},_complete:function(){w(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),yt=Y.extend({options:{crs:lt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=f(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(D(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=me&&at.any3d&&!at.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ht(this._proxy,Ai,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(D(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=O({animate:i.animate},i.zoom),i.pan=O({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e,i.pan&&i.pan.noMoveStart),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return this.setZoom(this._zoom+(t=t||(at.any3d?this.options.zoomDelta:1)),e)},zoomOut:function(t,e){return this.setZoom(this._zoom-(t=t||(at.any3d?this.options.zoomDelta:1)),e)},setZoomAround:function(v,e,i){var A=this.getZoomScale(e),s=this.getSize().divideBy(2);return v=(v instanceof X?v:this.latLngToContainerPoint(v)).subtract(s).multiplyBy(1-1/A),A=this.containerPointToLatLng(s.add(v)),this.setView(A,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():Z(t);var i=F(e.paddingTopLeft||e.padding||[0,0]),s=F(e.paddingBottomRight||e.padding||[0,0]),v=this.getBoundsZoom(t,!1,i.add(s));return(v="number"==typeof e.maxZoom?Math.min(e.maxZoom,v):v)===1/0?{center:t.getCenter(),zoom:v}:(e=s.subtract(i).divideBy(2),s=this.project(t.getSouthWest(),v),i=this.project(t.getNorthEast(),v),{center:this.unproject(s.add(i).divideBy(2).add(e),v),zoom:v})},fitBounds:function(t,e){if((t=Z(t)).isValid())return t=this._getBoundsCenterZoom(t,e),this.setView(t.center,t.zoom,e);throw new Error("Bounds are not valid.")},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){var i;return e=e||{},(t=F(t).round()).x||t.y?(!0===e.animate||this.getSize().contains(t)?(this._panAnim||(this._panAnim=new Bi,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate?(ft(this._mapPane,"leaflet-pan-anim"),i=this._getMapPanePos().subtract(t).round(),this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)):(this._rawPanBy(t),this.fire("move").fire("moveend"))):this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this):this.fire("moveend")},flyTo:function(t,e,i){if(!1===(i=i||{}).animate||!at.any3d)return this.setView(t,e,i);this._stop();var s=this.project(this.getCenter()),v=this.project(t),A=this.getSize(),W=this._zoom,U=(t=D(t),e=void 0===e?W:e,Math.max(A.x,A.y)),Q=U*this.getZoomScale(W,e),ot=v.distanceTo(s)||1,ut=1.42,dt=ut*ut;function Ot(At){return At=(Q*Q-U*U+(At?-1:1)*dt*dt*ot*ot)/(2*(At?Q:U)*dt*ot),(At=Math.sqrt(At*At+1)-At)<1e-9?-18:Math.log(At)}function jt(At){return(Math.exp(At)-Math.exp(-At))/2}function Ht(At){return(Math.exp(At)+Math.exp(-At))/2}var qt=Ot(0),gn=Date.now(),un=(Ot(1)-qt)/ut,vn=i.duration?1e3*i.duration:1e3*un*.8;return this._moveStart(!0,i.noMoveStart),function At(){var ti=(Date.now()-gn)/vn,cn=(1-Math.pow(1-ti,1.5))*un;ti<=1?(this._flyToFrame=b(At,this),this._move(this.unproject(s.add(v.subtract(s).multiplyBy(function zt(At){return U*(Ht(qt)*(jt(At=qt+ut*At)/Ht(At))-jt(qt))/dt}(cn)/ot)),W),this.getScaleZoom(U/(ti=cn,U*(Ht(qt)/Ht(qt+ut*ti))),W),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){return t=this._getBoundsCenterZoom(t,e),this.flyTo(t.center,t.zoom,e)},setMaxBounds:function(t){return t=Z(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(s,e){this._enforcingBounds=!0;var i=this.getCenter();return s=this._limitCenter(i,this._zoom,Z(s)),i.equals(s)||this.panTo(s,e),this._enforcingBounds=!1,this},panInside:function(v,e){var A=F((e=e||{}).paddingTopLeft||e.padding||[0,0]),i=F(e.paddingBottomRight||e.padding||[0,0]),s=this.project(this.getCenter()),W=(v=this.project(v),(A=I([(W=this.getPixelBounds()).min.add(A),W.max.subtract(i)])).getSize());return A.contains(v)||(this._enforcingBounds=!0,i=v.subtract(A.getCenter()),A=A.extend(v).getSize().subtract(W),s.x+=i.x<0?-A.x:A.x,s.y+=i.y<0?-A.y:A.y,this.panTo(this.unproject(s),e),this._enforcingBounds=!1),this},invalidateSize:function(t){if(!this._loaded)return this;t=O({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize(),i=(this._sizeChanged=!0,this._lastCenter=null,this.getSize()),v=e.divideBy(2).round(),s=i.divideBy(2).round();return(v=v.subtract(s)).x||v.y?(t.animate&&t.pan?this.panBy(v):(t.pan&&this._rawPanBy(v),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){var e,i;return t=this._locateOptions=O({timeout:1e4,watch:!1},t),"geolocation"in navigator?(e=p(this._handleGeolocationResponse,this),i=p(this._handleGeolocationError,this),t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t)):this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e;this._container._leaflet_id&&(e=t.code,t=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout"),this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+t+"."}))},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e,i,s=new H(t.coords.latitude,t.coords.longitude),v=s.toBounds(2*t.coords.accuracy),A=this._locateOptions,W=(A.setView&&(e=this.getBoundsZoom(v),this.setView(s,A.maxZoom?Math.min(e,A.maxZoom):e)),{latlng:s,bounds:v,timestamp:t.timestamp});for(i in t.coords)"number"==typeof t.coords[i]&&(W[i]=t.coords[i]);this.fire("locationfound",W)}},addHandler:function(t,e){return e&&(e=this[t]=new e(this),this._handlers.push(e),this.options[t]&&e.enable()),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}for(var t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),Pt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(w(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)Pt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){return e=gt("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane),t&&(this._panes[t]=e),e},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new R(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(Q,e,U){Q=Z(Q),U=F(U||[0,0]);var ot=this.getZoom()||0,s=this.getMinZoom(),v=this.getMaxZoom(),A=Q.getNorthWest(),W=(Q=Q.getSouthEast(),U=this.getSize().subtract(U),Q=I(this.project(Q,ot),this.project(A,ot)).getSize(),A=at.any3d?this.options.zoomSnap:1,U.x/Q.x);return U=U.y/Q.y,Q=e?Math.max(W,U):Math.min(W,U),ot=this.getScaleZoom(Q,ot),A&&(ot=Math.round(ot/(A/100))*(A/100),ot=e?Math.ceil(ot/A)*A:Math.floor(ot/A)*A),Math.max(s,Math.min(v,ot))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new X(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){return new E(t=this._getTopLeftPoint(t,e),t.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=void 0===e?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(s,e){var i=this.options.crs;return s=i.zoom(s*i.scale(e=void 0===e?this._zoom:e)),isNaN(s)?1/0:s},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(D(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(F(t),e)},layerPointToLatLng:function(t){return t=F(t).add(this.getPixelOrigin()),this.unproject(t)},latLngToLayerPoint:function(t){return this.project(D(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(D(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(Z(t))},distance:function(t,e){return this.options.crs.distance(D(t),D(e))},containerPointToLayerPoint:function(t){return F(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return F(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){return t=this.containerPointToLayerPoint(F(t)),this.layerPointToLatLng(t)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(D(t)))},mouseEventToContainerPoint:function(t){return qi(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){if(!(t=this._container=Si(t)))throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");ht(t,"scroll",this._onScroll,this),this._containerId=y(t)},_initLayout:function(){var t=this._container,e=(this._fadeAnimated=this.options.fadeAnimation&&at.any3d,ft(t,"leaflet-container"+(at.touch?" leaflet-touch":"")+(at.retina?" leaflet-retina":"")+(at.ielt9?" leaflet-oldie":"")+(at.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":"")),ye(t,"position"));"absolute"!==e&&"relative"!==e&&"fixed"!==e&&"sticky"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),St(this._mapPane,new X(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ft(t.markerPane,"leaflet-zoom-hide"),ft(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,i){St(this._mapPane,new X(0,0));var s=!this._loaded,v=(this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset"),this._zoom!==e);this._moveStart(v,i)._move(t,e)._moveEnd(v),this.fire("viewreset"),s&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,i,s){void 0===e&&(e=this._zoom);var v=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),s?i&&i.pinch&&this.fire("zoom",i):((v||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return w(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){St(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={};var e=t?Lt:ht;e((this._targets[y(this._container)]=this)._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),at.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){w(this._resizeRequest),this._resizeRequest=b(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var i,s=[],v="mouseout"===e||"mouseover"===e,A=t.target||t.srcElement,W=!1;A;){if((i=this._targets[y(A)])&&("click"===e||"preclick"===e)&&this._draggableMoved(i)){W=!0;break}if(i&&i.listens(e,!0)&&(v&&!_i(A,t)||(s.push(i),v))||A===this._container)break;A=A.parentNode}return s.length||W||v||!this.listens(e,!0)?s:[this]},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e,i=t.target||t.srcElement;!this._loaded||i._leaflet_disable_events||"click"===t.type&&this._isClickDisabled(i)||("mousedown"===(e=t.type)&&ui(i),this._fireDOMEvent(t,e))},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,i){"click"===t.type&&((U=O({},t)).type="preclick",this._fireDOMEvent(U,U.type,i));var s=this._findEventTargets(t,e);if(i){for(var v=[],A=0;A<i.length;A++)i[A].listens(e,!0)&&v.push(i[A]);s=v.concat(s)}if(s.length){"contextmenu"===e&&Nt(t);var W,U=s[0],Q={originalEvent:t};for("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type&&(Q.containerPoint=(W=U.getLatLng&&(!U._radius||U._radius<=10))?this.latLngToContainerPoint(U.getLatLng()):this.mouseEventToContainerPoint(t),Q.layerPoint=this.containerPointToLayerPoint(Q.containerPoint),Q.latlng=W?U.getLatLng():this.layerPointToLatLng(Q.layerPoint)),A=0;A<s.length;A++)if(s[A].fire(e,Q,!0),Q.originalEvent._stopped||!1===s[A].options.bubblingMouseEvents&&-1!==_(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return te(this._mapPane)||new X(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){return i=this._getNewPixelOrigin(i,e),this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,i){return i=this._getNewPixelOrigin(i,e),I([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){var s,v;return!i||(s=this.project(t,e),v=this.getSize().divideBy(2),v=new E(s.subtract(v),s.add(v)),v=this._getBoundsOffset(v,i,e),Math.abs(v.x)<=1&&Math.abs(v.y)<=1)?t:this.unproject(s.add(v),e)},_limitOffset:function(t,e){var i;return e?(i=new E((i=this.getPixelBounds()).min.add(t),i.max.add(t)),t.add(this._getBoundsOffset(i,e))):t},_getBoundsOffset:function(t,e,i){return i=(e=I(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i))).min.subtract(t.min),e=e.max.subtract(t.max),new X(this._rebound(i.x,-e.x),this._rebound(i.y,-e.y))},_rebound:function(t,e){return 0<t+e?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),s=at.any3d?this.options.zoomSnap:1;return s&&(t=Math.round(t/s)*s),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ct(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){return t=this._getCenterOffset(t)._trunc(),!(!0!==(e&&e.animate)&&!this.getSize().contains(t)||(this.panBy(t,e),0))},_createAnimProxy:function(){var t=this._proxy=gt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var i=oi,s=this._proxy.style[i];Qt(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),s===this._proxy.style[i]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Pt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Qt(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&0<=t.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(!this._animatingZoom){if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var s=this.getZoomScale(e);if(s=this._getCenterOffset(t)._divideBy(1-1/s),!0!==i.animate&&!this.getSize().contains(s))return!1;b(function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)},this)}return!0},_animateZoom:function(t,e,i,s){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,ft(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:s}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ct(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ve(t){return new Dt(t)}var zi,Dt=z.extend({options:{position:"topright"},initialize:function(t){f(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var e=this._container=this.onAdd(s),i=this.getPosition();return s=s._controlCorners[i],ft(e,"leaflet-control"),-1!==i.indexOf("bottom")?s.insertBefore(e,s.firstChild):s.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map&&(Pt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null),this},_refocusOnMap:function(t){this._map&&t&&0<t.screenX&&0<t.screenY&&this._map.getContainer().focus()}}),Ri=(yt.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",i=this._controlContainer=gt("div",e+"control-container",this._container);function s(v,A){t[v+A]=gt("div",e+v+" "+e+A,i)}s("top","left"),s("top","right"),s("bottom","left"),s("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)Pt(this._controlCorners[t]);Pt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}}),Dt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,s){return i<s?-1:s<i?1:0}},initialize:function(t,e,i){for(var s in f(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[s],s);for(s in e)this._addLayer(e[s],s,!0)},onAdd:function(t){this._initLayout(),this._update(),(this._map=t).on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Dt.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){return t.off("add remove",this._onLayerChange,this),(t=this._getLayer(y(t)))&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){ft(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(ft(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Ct(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ct(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=gt("div",t),i=this.options.collapsed,s=(e.setAttribute("aria-haspopup",!0),ge(e),pi(e),this._section=gt("section",t+"-list")),v=(i&&(this._map.on("click",this.collapse,this),ht(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this)),this._layersLink=gt("a",t+"-toggle",e));v.href="#",v.title="Layers",v.setAttribute("role","button"),ht(v,{keydown:function(A){13===A.keyCode&&this._expandSafely()},click:function(A){Nt(A),this._expandSafely()}},this),i||this.expand(),this._baseLayersList=gt("div",t+"-base",s),this._separator=gt("div",t+"-separator",s),this._overlaysList=gt("div",t+"-overlays",s),e.appendChild(s)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&y(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(p(function(s,v){return this.options.sortFunction(s.layer,v.layer,s.name,v.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(this._container){Me(this._baseLayersList),Me(this._overlaysList),this._layerControlInputs=[];for(var t,e,i,s=0,v=0;v<this._layers.length;v++)this._addItem(i=this._layers[v]),e=e||i.overlay,t=t||!i.overlay,s+=i.overlay?0:1;this.options.hideSingleBase&&(this._baseLayersList.style.display=(t=t&&1<s)?"":"none"),this._separator.style.display=e&&t?"":"none"}return this},_onLayerChange:function(i){this._handlingClick||this._update();var e=this._getLayer(y(i.target));(i=e.overlay?"add"===i.type?"overlayadd":"overlayremove":"add"===i.type?"baselayerchange":null)&&this._map.fire(i,e)},_createRadioElement:function(t,e){return t='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",(e=document.createElement("div")).innerHTML=t,e.firstChild},_addItem:function(t){var e,i=document.createElement("label"),s=this._map.hasLayer(t.layer),v=((t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=s):e=this._createRadioElement("leaflet-base-layers_"+y(this),s),this._layerControlInputs.push(e),e.layerId=y(t.layer),ht(e,"click",this._onInputClick,this),s=document.createElement("span")).innerHTML=" "+t.name,document.createElement("span"));return i.appendChild(v),v.appendChild(e),v.appendChild(s),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var t,e,i=this._layerControlInputs,s=[],v=[];this._handlingClick=!0;for(var A=i.length-1;0<=A;A--)e=this._getLayer((t=i[A]).layerId).layer,t.checked?s.push(e):t.checked||v.push(e);for(A=0;A<v.length;A++)this._map.hasLayer(v[A])&&this._map.removeLayer(v[A]);for(A=0;A<s.length;A++)this._map.hasLayer(s[A])||this._map.addLayer(s[A]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,i=this._layerControlInputs,s=this._map.getZoom(),v=i.length-1;0<=v;v--)e=this._getLayer((t=i[v]).layerId).layer,t.disabled=void 0!==e.options.minZoom&&s<e.options.minZoom||void 0!==e.options.maxZoom&&s>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;ht(t,"click",Nt),this.expand(),setTimeout(function(){Lt(t,"click",Nt)})}})),yi=Dt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=gt("div",e+" leaflet-bar"),s=this.options;return this._zoomInButton=this._createButton(s.zoomInText,s.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(s.zoomOutText,s.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,s,v){return(i=gt("a",i,s)).innerHTML=t,i.href="#",i.title=e,i.setAttribute("role","button"),i.setAttribute("aria-label",e),ge(i),ht(i,"click",ie),ht(i,"click",v,this),ht(i,"click",this._refocusOnMap,this),i},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";Ct(this._zoomInButton,e),Ct(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),!this._disabled&&t._zoom!==t.getMinZoom()||(ft(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),!this._disabled&&t._zoom!==t.getMaxZoom()||(ft(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}}),Zi=(yt.mergeOptions({zoomControl:!0}),yt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new yi,this.addControl(this.zoomControl))}),Dt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",i=gt("div",e),s=this.options;return this._addScales(s,e+"-line",i),t.on(s.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=gt("div",e,i)),t.imperial&&(this._iScale=gt("div",e,i))},_update:function(){var t=(e=this._map).getSize().y/2,e=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(e)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t);this._updateScale(this._mScale,e<1e3?e+" m":e/1e3+" km",e/t)},_updateImperial:function(s){var e,i;5280<(s*=3.2808399)?(i=this._getRoundNum(e=s/5280),this._updateScale(this._iScale,i+" mi",i/e)):(i=this._getRoundNum(s),this._updateScale(this._iScale,i+" ft",i/s))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(i){var e=Math.pow(10,(Math.floor(i)+"").length-1);return e*(10<=(i/=e)?10:5<=i?5:3<=i?3:2<=i?2:1)}})),gi=Dt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(at.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(t){f(this,t),this._attributions={}},onAdd:function(t){for(var e in(t.attributionControl=this)._container=gt("div","leaflet-control-attribution"),ge(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t&&(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update()),this},removeAttribution:function(t){return t&&this._attributions[t]&&(this._attributions[t]--,this._update()),this},_update:function(){if(this._map){var t,e=[];for(t in this._attributions)this._attributions[t]&&e.push(t);var i=[];this.options.prefix&&i.push(this.options.prefix),e.length&&i.push(e.join(", ")),this._container.innerHTML=i.join(' <span aria-hidden="true">|</span> ')}}}),Di=((yt.mergeOptions({attributionControl:!0}),yt.addInitHook(function(){this.options.attributionControl&&(new gi).addTo(this)}),Dt.Layers=Ri,Dt.Zoom=yi,Dt.Scale=Zi,Dt.Attribution=gi,ve.layers=function(t,e,i){return new Ri(t,e,i)},ve.zoom=function(t){return new yi(t)},ve.scale=function(t){return new Zi(t)},ve.attribution=function(t){return new gi(t)},Bt=z.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}})).addTo=function(t,e){return t.addHandler(e,this),this},be={Events:G},at.touch?"touchstart mousedown":"mousedown"),Xt=Y.extend({options:{clickTolerance:3},initialize:function(t,e,i,s){f(this,s),this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(ht(this._dragStartTarget,Di,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Xt._dragging===this&&this.finishDrag(!0),Lt(this._dragStartTarget,Di,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){var e,i;this._enabled&&(this._moved=!1,ri(this._element,"leaflet-zoom-anim")||(t.touches&&1!==t.touches.length?Xt._dragging===this&&this.finishDrag():Xt._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||((Xt._dragging=this)._preventOutline&&ui(this._element),ai(),_e(),this._moving||(this.fire("down"),i=t.touches?t.touches[0]:t,e=Mi(this._element),this._startPoint=new X(i.clientX,i.clientY),this._startPos=te(this._element),this._parentScale=ci(e),i="mousedown"===t.type,ht(document,i?"mousemove":"touchmove",this._onMove,this),ht(document,i?"mouseup":"touchend touchcancel",this._onUp,this)))))},_onMove:function(t){var e;this._enabled&&(t.touches&&1<t.touches.length?this._moved=!0:!(e=new X((e=t.touches&&1===t.touches.length?t.touches[0]:t).clientX,e.clientY)._subtract(this._startPoint)).x&&!e.y||Math.abs(e.x)+Math.abs(e.y)<this.options.clickTolerance||(e.x/=this._parentScale.x,e.y/=this._parentScale.y,Nt(t),this._moved||(this.fire("dragstart"),this._moved=!0,ft(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ft(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(e),this._moving=!0,this._lastEvent=t,this._updatePosition()))},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),St(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Ct(document.body,"leaflet-dragging"),this._lastTarget&&(Ct(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Lt(document,"mousemove touchmove",this._onMove,this),Lt(document,"mouseup touchend touchcancel",this._onUp,this),li(),Ae(),this._moved&&this._moving&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,Xt._dragging=!1}});function Fi(t,e){if(e&&t.length){var i=t=function(U,Q){for(var ot=[U[0]],ut=1,dt=0,Ot=U.length;ut<Ot;ut++)void 0,(qt=(zt=U[dt]).x-(jt=U[ut]).x)*qt+(zt=zt.y-jt.y)*zt>Q&&(ot.push(U[ut]),dt=ut);var jt,zt,qt;return dt<Ot-1&&ot.push(U[Ot-1]),ot}(t,e*=e),s=i.length,v=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(s);v[0]=v[s-1]=1,function U(Q,ot,ut,dt,Ot){var jt,Ht,qt,zt=0;for(Ht=dt+1;Ht<=Ot-1;Ht++)zt<(qt=xe(Q[Ht],Q[dt],Q[Ot],!0))&&(jt=Ht,zt=qt);ut<zt&&(ot[jt]=1,U(Q,ot,ut,dt,jt),U(Q,ot,ut,jt,Ot))}(i,v,e,0,s-1);var A,W=[];for(A=0;A<s;A++)v[A]&&W.push(i[A]);return W}return t.slice()}function Ui(t,e,i){return Math.sqrt(xe(t,e,i,!0))}function Hi(t,e,i,s,v){var A,W,U,Q=s?zi:ne(t,i),ot=ne(e,i);for(zi=ot;;){if(!(Q|ot))return[t,e];if(Q&ot)return!1;U=ne(W=Ie(t,e,A=Q||ot,i,v),i),A===Q?(t=W,Q=U):(e=W,ot=U)}}function Ie(t,Q,i,ut,v){var A,W,U=Q.x-t.x,ot=(Q=Q.y-t.y,ut.min);return ut=ut.max,8&i?(A=t.x+U*(ut.y-t.y)/Q,W=ut.y):4&i?(A=t.x+U*(ot.y-t.y)/Q,W=ot.y):2&i?(A=ut.x,W=t.y+Q*(ut.x-t.x)/U):1&i&&(A=ot.x,W=t.y+Q*(ot.x-t.x)/U),new X(A,W,v)}function ne(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i}function xe(t,A,i,s){var v=A.x,W=i.x-v,U=i.y-(A=A.y),Q=W*W+U*U;return 0<Q&&(1<(Q=((t.x-v)*W+(t.y-A)*U)/Q)?(v=i.x,A=i.y):0<Q&&(v+=W*Q,A+=U*Q)),W=t.x-v,U=t.y-A,s?W*W+U*U:new X(v,A)}function Zt(t){return!x(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function Gi(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Zt(t)}function Wi(t,e){var i,s,v,A,W;if(!t||0===t.length)throw new Error("latlngs not passed");Zt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var U,Q=[];for(U in t)Q.push(e.project(D(t[U])));for(var ot=Q.length,ut=0,dt=0;ut<ot-1;ut++)dt+=Q[ut].distanceTo(Q[ut+1])/2;if(0===dt)W=Q[0];else for(i=ut=0;ut<ot-1;ut++)if(dt<(i+=A=(s=Q[ut]).distanceTo(v=Q[ut+1]))){W=[v.x-(A=(i-dt)/A)*(v.x-s.x),v.y-A*(v.y-s.y)];break}return e.unproject(F(W))}function Vi(t,e,i){for(var s,v,A,W,U,Q,ot,ut=[1,4,2,8],dt=0,Ot=t.length;dt<Ot;dt++)t[dt]._code=ne(t[dt],e);for(A=0;A<4;A++){for(Q=ut[A],s=[],dt=0,v=(Ot=t.length)-1;dt<Ot;v=dt++)U=t[v],(W=t[dt])._code&Q?U._code&Q||((ot=Ie(U,W,Q,e,i))._code=ne(ot,e),s.push(ot)):(U._code&Q&&((ot=Ie(U,W,Q,e,i))._code=ne(ot,e),s.push(ot)),s.push(W));t=s}return t}function Ki(t,e){var i,s,v,A,W;if(!t||0===t.length)throw new Error("latlngs not passed");Zt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Q,ot=[];for(Q in t)ot.push(e.project(D(t[Q])));for(var ut=ot.length,dt=A=W=0,Ot=0,jt=ut-1;Ot<ut;jt=Ot++)A+=((i=ot[Ot]).x+(s=ot[jt]).x)*(v=i.y*s.x-s.y*i.x),W+=(i.y+s.y)*v,dt+=3*v;return e.unproject(F(0===dt?ot[0]:[A/dt,W/dt]))}Tt={__proto__:null,simplify:Fi,pointToSegmentDistance:Ui,closestPointOnSegment:function(t,e,i){return xe(t,e,i)},clipSegment:Hi,_getEdgeIntersection:Ie,_getBitCode:ne,_sqClosestPointOnSegment:xe,isFlat:Zt,_flat:Gi,polylineCenter:Wi},Be={__proto__:null,clipPolygon:Vi,polygonCenter:Ki},ze={__proto__:null,LonLat:oe={project:function(t){return new X(t.lng,t.lat)},unproject:function(t){return new H(t.y,t.x)},bounds:new E([-180,-90],[180,90])},Mercator:re={R:6378137,R_MINOR:6356752.314245179,bounds:new E([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,i=this.R,A=t.lat*e,s=this.R_MINOR/i,v=(s=Math.sqrt(1-s*s))*Math.sin(A);return v=Math.tan(Math.PI/4-A/2)/Math.pow((1-v)/(1+v),s/2),A=-i*Math.log(Math.max(v,1e-10)),new X(t.lng*e*i,A)},unproject:function(t){for(var e,i=180/Math.PI,s=this.R,v=this.R_MINOR/s,A=Math.sqrt(1-v*v),W=Math.exp(-t.y/s),U=Math.PI/2-2*Math.atan(W),Q=0,ot=.1;Q<15&&1e-7<Math.abs(ot);Q++)e=A*Math.sin(U),e=Math.pow((1-e)/(1+e),A/2),U+=ot=Math.PI/2-2*Math.atan(W*e)-U;return new H(U*i,t.x*i/s)}},SphericalMercator:K},vi=O({},V,{code:"EPSG:3395",projection:re,transformation:et(kt=.5/(Math.PI*re.R),.5,-kt,.5)});var Yi=O({},V,{code:"EPSG:4326",projection:oe,transformation:et(1/180,1,-1/180,.5)}),ce=(Re=O({},B,{projection:oe,transformation:et(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,s){var i=s.lng-t.lng;return s=s.lat-t.lat,Math.sqrt(i*i+s*s)},infinite:!0}),B.Earth=V,B.EPSG3395=vi,B.EPSG3857=lt,B.EPSG900913=pt,B.EPSG4326=Yi,B.Simple=Re,It=Y.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[y(t)]=this},removeInteractiveTarget:function(t){return delete this._map._targets[y(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e,i=t.target;i.hasLayer(this)&&(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents&&(e=this.getEvents(),i.on(e,this),this.once("remove",function(){i.off(e,this)},this)),this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this}))}}),yt.include({addLayer:function(t){var e;if(t._layerAdd)return e=y(t),this._layers[e]||((this._layers[e]=t)._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this;throw new Error("The provided object is not a Layer.")},removeLayer:function(t){var e=y(t);return this._layers[e]&&(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null),this},hasLayer:function(t){return y(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){for(var e=0,i=(t=t?x(t)?t:[t]:[]).length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[y(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){t=y(t),this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var t,e=1/0,i=-1/0,s=this._getZoomSpan();for(t in this._zoomBoundLayers){var v=this._zoomBoundLayers[t].options;e=void 0===v.minZoom?e:Math.min(e,v.minZoom),i=void 0===v.maxZoom?i:Math.max(i,v.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=e===1/0?void 0:e,s!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}}),It.extend({initialize:function(t,e){var i,s;if(f(this,e),this._layers={},t)for(i=0,s=t.length;i<s;i++)this.addLayer(t[i])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){return t=t in this._layers?t:this.getLayerId(t),this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(t){return("number"==typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,i,s=Array.prototype.slice.call(arguments,1);for(e in this._layers)(i=this._layers[e])[t]&&i[t].apply(i,s);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:y})),Gt=ce.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),ce.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?((t=t in this._layers?this._layers[t]:t).removeEventParent(this),ce.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t,e=new R;for(t in this._layers){var i=this._layers[t];e.extend(i.getBounds?i.getBounds():i.getLatLng())}return e}}),he=z.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){f(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(i)return i=this._createImg(i,e&&"IMG"===e.tagName?e:null),this._setIconStyles(i,t),!this.options.crossOrigin&&""!==this.options.crossOrigin||(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),i;if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null},_setIconStyles:function(t,e){var i=this.options,s=F(s="number"==typeof(s=i[e+"Size"])?[s,s]:s),v=F("shadow"===e&&i.shadowAnchor||i.iconAnchor||s&&s.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),v&&(t.style.marginLeft=-v.x+"px",t.style.marginTop=-v.y+"px"),s&&(t.style.width=s.x+"px",t.style.height=s.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return at.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),we=he.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return"string"!=typeof we.imagePath&&(we.imagePath=this._detectIconPath()),(this.options.imagePath||we.imagePath)+he.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){function e(i,s,v){return(s=s.exec(i))&&s[v]}return(t=e(t,/^url\((['"])?(.+)\1\)$/,2))&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=gt("div","leaflet-default-icon-path",document.body),e=ye(t,"background-image")||ye(t,"backgroundImage");return document.body.removeChild(t),(e=this._stripUrl(e))?e:(t=document.querySelector('link[href$="leaflet.css"]'))?t.href.substring(0,t.href.length-11-1):""}}),Xi=Bt.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Xt(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ft(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ct(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,i=e._map,s=this._marker.options.autoPanSpeed,v=this._marker.options.autoPanPadding,A=te(e._icon),W=i.getPixelBounds(),U=i.getPixelOrigin();(U=I(W.min._subtract(U).add(v),W.max._subtract(U).subtract(v))).contains(A)||(v=F((Math.max(U.max.x,A.x)-U.max.x)/(W.max.x-U.max.x)-(Math.min(U.min.x,A.x)-U.min.x)/(W.min.x-U.min.x),(Math.max(U.max.y,A.y)-U.max.y)/(W.max.y-U.max.y)-(Math.min(U.min.y,A.y)-U.min.y)/(W.min.y-U.min.y)).multiplyBy(s),i.panBy(v,{animate:!1}),this._draggable._newPos._add(v),this._draggable._startPos._add(v),St(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=b(this._adjustPan.bind(this,t)))},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(w(this._panRequest),this._panRequest=b(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,i=e._shadow,s=te(e._icon),v=e._map.layerPointToLatLng(s);i&&St(i,s),e._latlng=v,t.latlng=v,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){w(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Ze=It.extend({options:{icon:new we,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){f(this,e),this._latlng=D(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=D(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){var t;return this._icon&&this._map&&(t=this._map.latLngToLayerPoint(this._latlng).round(),this._setPos(t)),this},_initIcon:function(){var s,t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=!1,v=!1;(s=t.icon.createIcon(this._icon))!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(s.title=t.title),"IMG"===s.tagName&&(s.alt=t.alt||"")),ft(s,e),t.keyboard&&(s.tabIndex="0",s.setAttribute("role","button")),this._icon=s,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ht(s,"focus",this._panOnFocus,this),(s=t.icon.createShadow(this._shadow))!==this._shadow&&(this._removeShadow(),v=!0),s&&(ft(s,e),s.alt=""),this._shadow=s,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),s&&v&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Lt(this._icon,"focus",this._panOnFocus,this),Pt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Pt(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&St(this._icon,t),this._shadow&&St(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){t=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round(),this._setPos(t)},_initInteraction:function(){var t;this.options.interactive&&(ft(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Xi&&(t=this.options.draggable,this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Xi(this),t&&this.dragging.enable()))},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Rt(this._icon,t),this._shadow&&Rt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t,e,i=this._map;i&&(t=(e=this.options.icon.options).iconSize?F(e.iconSize):F(0,0),e=e.iconAnchor?F(e.iconAnchor):F(0,0),i.panInside(this._latlng,{paddingTopLeft:e,paddingBottomRight:t.subtract(e)}))},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),$t=It.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return f(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),De=$t.extend({options:{fill:!0,radius:10},initialize:function(t,e){f(this,e),this._latlng=D(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=D(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return $t.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,t=this._radiusY||i,e=this._clickTolerance();this._pxBounds=new E(this._point.subtract(i=[i+e,t+e]),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),bi=De.extend({initialize:function(t,e,i){if(f(this,e="number"==typeof e?O({},i,{radius:e}):e),this._latlng=D(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new R(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:$t.prototype.setStyle,_project:function(){var t,e,i,s,v,A=this._latlng.lng,W=this._latlng.lat,U=this._map,Q=U.options.crs;Q.distance===V.distance?(s=Math.PI/180,t=U.project([W+(v=this._mRadius/V.R/s),A]),e=U.project([W-v,A]),e=t.add(e).divideBy(2),i=U.unproject(e).lat,s=Math.acos((Math.cos(v*s)-Math.sin(W*s)*Math.sin(i*s))/(Math.cos(W*s)*Math.cos(i*s)))/s,!isNaN(s)&&0!==s||(s=v/Math.cos(Math.PI/180*W)),this._point=e.subtract(U.getPixelOrigin()),this._radius=isNaN(s)?0:e.x-U.project([i,A-s]).x,this._radiusY=e.y-t.y):(v=Q.unproject(Q.project(this._latlng).subtract([this._mRadius,0])),this._point=U.latLngToLayerPoint(this._latlng),this._radius=this._point.x-U.latLngToLayerPoint(v).x),this._updateBounds()}}),Wt=$t.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){f(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e=1/0,i=null,s=xe,v=0,A=this._parts.length;v<A;v++)for(var W=this._parts[v],U=1,Q=W.length;U<Q;U++){var ot,ut,dt=s(t,ot=W[U-1],ut=W[U],!0);dt<e&&(e=dt,i=s(t,ot,ut))}return i&&(i.distance=Math.sqrt(e)),i},getCenter:function(){if(this._map)return Wi(this._defaultShape(),this._map.options.crs);throw new Error("Must add layer to map before using getCenter()")},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=D(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new R,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Zt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=Zt(t),s=0,v=t.length;s<v;s++)i?(e[s]=D(t[s]),this._bounds.extend(e[s])):e[s]=this._convertLatLngs(t[s]);return e},_project:function(){var t=new E;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=new X(t=this._clickTolerance(),t);this._rawPxBounds&&(this._pxBounds=new E([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(t,e,i){var s,v,W=t.length;if(t[0]instanceof H){for(v=[],s=0;s<W;s++)v[s]=this._map.latLngToLayerPoint(t[s]),i.extend(v[s]);e.push(v)}else for(s=0;s<W;s++)this._projectLatlngs(t[s],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var e,i,s,v,A=this._parts,W=0,U=0,Q=this._rings.length;W<Q;W++)for(e=0,i=(v=this._rings[W]).length;e<i-1;e++)(s=Hi(v[e],v[e+1],t,e,!0))&&(A[U]=A[U]||[],A[U].push(s[0]),s[1]===v[e+1]&&e!==i-2||(A[U].push(s[1]),U++))},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,s=t.length;i<s;i++)t[i]=Fi(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var i,s,v,A,W,U,Q=this._clickTolerance();if(this._pxBounds&&this._pxBounds.contains(t))for(i=0,A=this._parts.length;i<A;i++)for(s=0,v=(W=(U=this._parts[i]).length)-1;s<W;v=s++)if((e||0!==s)&&Ui(t,U[v],U[s])<=Q)return!0;return!1}});Wt._flat=Gi;var fe=Wt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(this._map)return Ki(this._defaultShape(),this._map.options.crs);throw new Error("Must add layer to map before using getCenter()")},_convertLatLngs:function(e){var i=(e=Wt.prototype._convertLatLngs.call(this,e)).length;return 2<=i&&e[0]instanceof H&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){Wt.prototype._setLatLngs.call(this,t),Zt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return(Zt(this._latlngs[0])?this._latlngs:this._latlngs[0])[0]},_clipPoints:function(){var e=this._renderer._bounds,t=new X(t=this.options.weight,t);if(e=new E(e.min.subtract(t),e.max.add(t)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var i,s=0,v=this._rings.length;s<v;s++)(i=Vi(this._rings[s],e,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,i,s,v,A,W,U,Q,ot=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(v=0,U=this._parts.length;v<U;v++)for(A=0,W=(Q=(e=this._parts[v]).length)-1;A<Q;W=A++)(i=e[A]).y>t.y!=(s=e[W]).y>t.y&&t.x<(s.x-i.x)*(t.y-i.y)/(s.y-i.y)+i.x&&(ot=!ot);return ot||Wt.prototype._containsPoint.call(this,t,!0)}}),Vt=Gt.extend({initialize:function(t,e){f(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,s,v=x(t)?t:t.features;if(v){for(e=0,i=v.length;e<i;e++)((s=v[e]).geometries||s.geometry||s.features||s.coordinates)&&this.addData(s);return this}var A,W=this.options;return W.filter&&!W.filter(t)||!(A=Fe(t,W))?this:(A.feature=Ge(t),A.defaultOptions=A.options,this.resetStyle(A),W.onEachFeature&&W.onEachFeature(t,A),this.addLayer(A))},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=O({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function Fe(t,e){var i,s,v,A,W="Feature"===t.type?t.geometry:t,U=W?W.coordinates:null,Q=[],ot=e&&e.pointToLayer,ut=e&&e.coordsToLatLng||xi;if(!U&&!W)return null;switch(W.type){case"Point":return $i(ot,t,i=ut(U),e);case"MultiPoint":for(v=0,A=U.length;v<A;v++)i=ut(U[v]),Q.push($i(ot,t,i,e));return new Gt(Q);case"LineString":case"MultiLineString":return s=Ue(U,"LineString"===W.type?0:1,ut),new Wt(s,e);case"Polygon":case"MultiPolygon":return s=Ue(U,"Polygon"===W.type?1:2,ut),new fe(s,e);case"GeometryCollection":for(v=0,A=W.geometries.length;v<A;v++){var dt=Fe({geometry:W.geometries[v],type:"Feature",properties:t.properties},e);dt&&Q.push(dt)}return new Gt(Q);case"FeatureCollection":for(v=0,A=W.features.length;v<A;v++){var Ot=Fe(W.features[v],e);Ot&&Q.push(Ot)}return new Gt(Q);default:throw new Error("Invalid GeoJSON object.")}}function $i(t,e,i,s){return t?t(e,i):new Ze(i,s&&s.markersInheritOptions&&s)}function xi(t){return new H(t[1],t[0],t[2])}function Ue(t,e,i){for(var s,v=[],A=0,W=t.length;A<W;A++)s=e?Ue(t[A],e-1,i):(i||xi)(t[A]),v.push(s);return v}function wi(t,e){return void 0!==(t=D(t)).alt?[r(t.lng,e),r(t.lat,e),r(t.alt,e)]:[r(t.lng,e),r(t.lat,e)]}function He(t,e,i,s){for(var v=[],A=0,W=t.length;A<W;A++)v.push(e?He(t[A],Zt(t[A])?0:e-1,i,s):wi(t[A],s));return!e&&i&&v.push(v[0].slice()),v}function de(t,e){return t.feature?O({},t.feature,{geometry:e}):Ge(e)}function Ge(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}function Ji(t,e){return new Vt(t,e)}Ze.include(J={toGeoJSON:function(t){return de(this,{type:"Point",coordinates:wi(this.getLatLng(),t)})}}),bi.include(J),De.include(J),Wt.include({toGeoJSON:function(t){var e=!Zt(this._latlngs);return de(this,{type:(e?"Multi":"")+"LineString",coordinates:He(this._latlngs,e?1:0,!1,t)})}}),fe.include({toGeoJSON:function(s){var e=!Zt(this._latlngs),i=e&&!Zt(this._latlngs[0]);return s=He(this._latlngs,i?2:e?1:0,!0,s),de(this,{type:(i?"Multi":"")+"Polygon",coordinates:s=e?s:[s]})}}),ce.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(i){e.push(i.toGeoJSON(t).geometry.coordinates)}),de(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e,i,s=this.feature&&this.feature.geometry&&this.feature.geometry.type;return"MultiPoint"===s?this.toMultiPoint(t):(e="GeometryCollection"===s,i=[],this.eachLayer(function(v){v.toGeoJSON&&(v=v.toGeoJSON(t),e?i.push(v.geometry):"FeatureCollection"===(v=Ge(v)).type?i.push.apply(i,v.features):i.push(v))}),e?de(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i})}}),We=Ji;var Ve=It.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,i){this._url=t,this._bounds=Z(e),f(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ft(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Pt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&le(this._image),this},bringToBack:function(){return this._map&&ue(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=Z(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:gt("img");ft(e,"leaflet-image-layer"),this._zoomAnimated&&ft(e,"leaflet-zoom-animated"),this.options.className&&ft(e,this.options.className),e.onselectstart=o,e.onmousemove=o,e.onload=p(this.fire,this,"load"),e.onerror=p(this._overlayOnError,this,"error"),!this.options.crossOrigin&&""!==this.options.crossOrigin||(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(i){var e=this._map.getZoomScale(i.zoom);i=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min,Qt(this._image,i,e)},_reset:function(){var t=this._image,e=new E(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();St(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){Rt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Qi=Ve.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:gt("video");if(ft(e,"leaflet-image-layer"),this._zoomAnimated&&ft(e,"leaflet-zoom-animated"),this.options.className&&ft(e,this.options.className),e.onselectstart=o,e.onmousemove=o,e.onloadeddata=p(this.fire,this,"load"),t){for(var i=e.getElementsByTagName("source"),s=[],v=0;v<i.length;v++)s.push(i[v].src);this._url=0<i.length?s:[e.src]}else{x(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var A=0;A<this._url.length;A++){var W=gt("source");W.src=this._url[A],e.appendChild(W)}}}}),tn=Ve.extend({_initImage:function(){var t=this._image=this._url;ft(t,"leaflet-image-layer"),this._zoomAnimated&&ft(t,"leaflet-zoom-animated"),this.options.className&&ft(t,this.options.className),t.onselectstart=o,t.onmousemove=o}}),Ut=It.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof H||x(t))?(this._latlng=D(t),f(this,e)):(f(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return(t=arguments.length?t:this._source._map).hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Rt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Rt(this._container,1),this.bringToFront(),this.options.interactive&&(ft(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Rt(this._container,0),this._removeTimeout=setTimeout(p(Pt,void 0,this._container),200)):Pt(this._container),this.options.interactive&&(Ct(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=D(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&le(this._container),this},bringToBack:function(){return this._map&&ue(this._container),this},_prepareOpen:function(t){if(!(i=this._source)._map)return!1;if(i instanceof Gt){var e,i=null,s=this._source._layers;for(e in s)if(s[e]._map){i=s[e];break}if(!i)return!1;this._source=i}if(!t)if(i.getCenter)t=i.getCenter();else if(i.getLatLng)t=i.getLatLng();else{if(!i.getBounds)throw new Error("Unable to get source layer LatLng.");t=i.getBounds().getCenter()}return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){var t,e,i;this._map&&(e=this._map.latLngToLayerPoint(this._latlng),t=F(this.options.offset),i=this._getAnchor(),this._zoomAnimated?St(this._container,e.add(i)):t=t.add(e).add(i),e=this._containerBottom=-t.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+t.x,this._container.style.bottom=e+"px",this._container.style.left=i+"px")},_getAnchor:function(){return[0,0]}}),Ke=(yt.include({_initOverlay:function(t,e,i,s){var v=e;return v instanceof t||(v=new t(s).setContent(e)),i&&v.setLatLng(i),v}}),It.include({_initOverlay:function(t,e,i,s){var v=i;return v instanceof t?(f(v,s),v._source=this):(v=e&&!s?e:new t(s,this)).setContent(i),v}}),Ut.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return!(t=arguments.length?t:this._source._map).hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Ut.prototype.openOn.call(this,t)},onAdd:function(t){Ut.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof $t||this._source.on("preclick",ee))},onRemove:function(t){Ut.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof $t||this._source.off("preclick",ee))},getEvents:function(){var t=Ut.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=gt("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=gt("div",t+"-content-wrapper",e);this._contentNode=gt("div",t+"-content",i),ge(e),pi(this._contentNode),ht(e,"contextmenu",ee),this._tipContainer=gt("div",t+"-tip-container",e),this._tip=gt("div",t+"-tip",this._tipContainer),this.options.closeButton&&((i=this._closeButton=gt("a",t+"-close-button",e)).setAttribute("role","button"),i.setAttribute("aria-label","Close popup"),i.href="#close",i.innerHTML='<span aria-hidden="true">&#215;</span>',ht(i,"click",function(s){Nt(s),this.close()},this))},_updateLayout:function(){var t=this._contentNode,e=t.style,i=(e.width="",e.whiteSpace="nowrap",t.offsetWidth),s=(i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="",i=t.offsetHeight,this.options.maxHeight);(s&&s<i?(e.height=s+"px",ft):Ct)(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){e=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);var i=this._getAnchor();St(this._container,e.add(i))},_adjustPan:function(){var t,e,i,s,v,A,W,U;this.options.autoPan&&(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning?this._autopanning=!1:(t=this._map,e=parseInt(ye(this._container,"marginBottom"),10)||0,U=this._containerWidth,(i=new X(this._containerLeft,-(e=this._container.offsetHeight+e)-this._containerBottom))._add(te(this._container)),i=t.layerPointToContainerPoint(i),v=F(this.options.autoPanPadding),s=F(this.options.autoPanPaddingTopLeft||v),v=F(this.options.autoPanPaddingBottomRight||v),A=t.getSize(),W=0,i.x+U+v.x>A.x&&(W=i.x+U-A.x+v.x),i.x-W-s.x<(U=0)&&(W=i.x-s.x),i.y+e+v.y>A.y&&(U=i.y+e-A.y+v.y),i.y-U-s.y<0&&(U=i.y-s.y),(W||U)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([W,U]))))},_getAnchor:function(){return F(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}})),Ye=(yt.mergeOptions({closePopupOnClick:!0}),yt.include({openPopup:function(t,e,i){return this._initOverlay(Ke,t,e,i).openOn(this),this},closePopup:function(t){return(t=arguments.length?t:this._popup)&&t.close(),this}}),It.include({bindPopup:function(t,e){return this._popup=this._initOverlay(Ke,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Gt||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e;this._popup&&this._map&&(ie(t),this._popup._source!==(e=t.layer||t.target)||e instanceof $t?(this._popup._source=e,this.openPopup(t.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}}),Ut.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Ut.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Ut.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Ut.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){this._contentNode=this._container=gt("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,i=this._container,s=(ot=this._map).latLngToContainerPoint(ot.getCenter()),ot=ot.layerPointToContainerPoint(t),v=this.options.direction,A=i.offsetWidth,W=i.offsetHeight,U=F(this.options.offset),Q=this._getAnchor();ot="top"===v?(e=A/2,W):"bottom"===v?(e=A/2,0):(e="center"===v?A/2:"right"===v?0:"left"===v?A:ot.x<s.x?(v="right",0):(v="left",A+2*(U.x+Q.x)),W/2),t=t.subtract(F(e,ot,!0)).add(U).add(Q),Ct(i,"leaflet-tooltip-right"),Ct(i,"leaflet-tooltip-left"),Ct(i,"leaflet-tooltip-top"),Ct(i,"leaflet-tooltip-bottom"),ft(i,"leaflet-tooltip-"+v),St(i,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Rt(this._container,t)},_animateZoom:function(t){t=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),this._setPosition(t)},_getAnchor:function(){return F(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}})),en=(yt.include({openTooltip:function(t,e,i){return this._initOverlay(Ye,t,e,i).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),It.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ye,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){var e,i;!t&&this._tooltipHandlersAdded||(e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip},this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,i.click=this._openTooltip,this._map?this._addFocusListeners():i.add=this._addFocusListeners),this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),this[e](i),this._tooltipHandlersAdded=!t)},openTooltip:function(t){return this._tooltip&&(this instanceof Gt||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e=t.getElement();e&&(ht(e,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),ht(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){(t=t.getElement())&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0))},_moveTooltip:function(t){var e=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(t=this._map.mouseEventToContainerPoint(t.originalEvent),t=this._map.containerPointToLayerPoint(t),e=this._map.layerPointToLatLng(t)),this._tooltip.setLatLng(e)}}),he.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){e=e&&"DIV"===e.tagName?e:document.createElement("div");var i=this.options;return i.html instanceof Element?(Me(e),e.appendChild(i.html)):e.innerHTML=!1!==i.html?i.html:"",i.bgPos&&(i=F(i.bgPos),e.style.backgroundPosition=-i.x+"px "+-i.y+"px"),this._setIconStyles(e,"icon"),e},createShadow:function(){return null}}));he.Default=we;var Le=It.extend({options:{tileSize:256,opacity:1,updateWhenIdle:at.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){f(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),Pt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(le(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ue(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){var t;return this._map&&(this._removeAllTiles(),(t=this._clampZoom(this._map.getZoom()))!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof X?t:new X(t,t)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,i=this.getPane().children,s=-t(-1/0,1/0),v=0,A=i.length;v<A;v++)e=i[v].style.zIndex,i[v]!==this._container&&e&&(s=t(s,+e));isFinite(s)&&(this.options.zIndex=s+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!at.ielt9){Rt(this._container,this.options.opacity);var t,e=+new Date,i=!1,s=!1;for(t in this._tiles){var v,A=this._tiles[t];A.current&&A.loaded&&(v=Math.min(1,(e-A.loaded)/200),Rt(A.el,v),v<1?i=!0:(A.active?s=!0:this._onOpaqueTile(A),A.active=!0))}s&&!this._noPrune&&this._pruneTiles(),i&&(w(this._fadeFrame),this._fadeFrame=b(this._updateOpacity,this))}},_onOpaqueTile:o,_initContainer:function(){this._container||(this._container=gt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var i in this._levels)i=Number(i),this._levels[i].el.children.length||i===t?(this._levels[i].el.style.zIndex=e-Math.abs(t-i),this._onUpdateLevel(i)):(Pt(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var s=this._levels[t],v=this._map;return s||((s=this._levels[t]={}).el=gt("div","leaflet-tile-container leaflet-zoom-animated",this._container),s.el.style.zIndex=e,s.origin=v.project(v.unproject(v.getPixelOrigin()),t).round(),s.zoom=t,this._setZoomTransform(s,v.getCenter(),v.getZoom()),this._onCreateLevel(s)),this._level=s}},_onUpdateLevel:o,_onRemoveLevel:o,_onCreateLevel:o,_pruneTiles:function(){if(this._map){var t,e,i,s=this._map.getZoom();if(s>this.options.maxZoom||s<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(i=this._tiles[t]).retain=i.current;for(t in this._tiles)(i=this._tiles[t]).current&&!i.active&&(this._retainParent((e=i.coords).x,e.y,e.z,e.z-5)||this._retainChildren(e.x,e.y,e.z,e.z+2));for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)Pt(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(v,A,W,s){W-=1;var U=((U=new X(+(v=Math.floor(v/2)),+(A=Math.floor(A/2)))).z=W,this._tileCoordsToKey(U));return(U=this._tiles[U])&&U.active?U.retain=!0:(U&&U.loaded&&(U.retain=!0),s<W&&this._retainParent(v,A,W,s))},_retainChildren:function(t,e,i,s){for(var v=2*t;v<2*t+2;v++)for(var A=2*e;A<2*e+2;A++){var W=((W=new X(v,A)).z=i+1,this._tileCoordsToKey(W));(W=this._tiles[W])&&W.active?W.retain=!0:(W&&W.loaded&&(W.retain=!0),i+1<s&&this._retainChildren(v,A,i+1,s))}},_resetView:function(t){t=t&&(t.pinch||t.flyTo),this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,i,s){var v=Math.round(e);v=void 0!==this.options.maxZoom&&v>this.options.maxZoom||void 0!==this.options.minZoom&&v<this.options.minZoom?void 0:this._clampZoom(v),s&&!(this.options.updateWhenZooming&&v!==this._tileZoom)||(this._tileZoom=v,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==v&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,v,i){var s=this._map.getZoomScale(i,t.zoom);v=t.origin.multiplyBy(s).subtract(this._map._getNewPixelOrigin(v,i)).round(),at.any3d?Qt(t.el,v,s):St(t.el,v)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),s=this._tileZoom,v=this._map.getPixelWorldBounds(this._tileZoom);v&&(this._globalTileRange=this._pxBoundsToTileRange(v)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],s).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],s).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],s).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],s).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(i){var e=(s=this._map)._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),s=(e=s.getZoomScale(e,this._tileZoom),i=s.project(i,this._tileZoom).floor(),s.getSize().divideBy(2*e));return new E(i.subtract(s),i.add(s))},_update:function(t){if(e=this._map){var i=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var s,e=this._getTiledPixelBounds(t),v=this._pxBoundsToTileRange(e),A=v.getCenter(),W=[],U=(e=this.options.keepBuffer,new E(v.getBottomLeft().subtract([e,-e]),v.getTopRight().add([e,-e])));if(!(isFinite(v.min.x)&&isFinite(v.min.y)&&isFinite(v.max.x)&&isFinite(v.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(s in this._tiles){var Q=this._tiles[s].coords;Q.z===this._tileZoom&&U.contains(new X(Q.x,Q.y))||(this._tiles[s].current=!1)}if(1<Math.abs(i-this._tileZoom))this._setView(t,i);else{for(var ot=v.min.y;ot<=v.max.y;ot++)for(var ut=v.min.x;ut<=v.max.x;ut++){var dt,Ot=new X(ut,ot);Ot.z=this._tileZoom,this._isValidTile(Ot)&&((dt=this._tiles[this._tileCoordsToKey(Ot)])?dt.current=!0:W.push(Ot))}if(W.sort(function(qt,zt){return qt.distanceTo(A)-zt.distanceTo(A)}),0!==W.length){this._loading||(this._loading=!0,this.fire("loading"));var jt=document.createDocumentFragment();for(ut=0;ut<W.length;ut++)this._addTile(W[ut],jt);this._level.el.appendChild(jt)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}return!this.options.bounds||(e=this._tileCoordsToBounds(t),Z(this.options.bounds).overlaps(e))},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,s=this.getTileSize(),i=t.scaleBy(s);return s=i.add(s),[e.unproject(i,t.z),e.unproject(s,t.z)]},_tileCoordsToBounds:function(t){return t=new R((t=this._tileCoordsToNwSe(t))[0],t[1]),this.options.noWrap?t:this._map.wrapLatLngBounds(t)},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(e){var i=new X(+(e=e.split(":"))[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(Pt(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){ft(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=o,t.onmousemove=o,at.ielt9&&this.options.opacity<1&&Rt(t,this.options.opacity)},_addTile:function(t,e){var i=this._getTilePos(t),s=this._tileCoordsToKey(t),v=this.createTile(this._wrapCoords(t),p(this._tileReady,this,t));this._initTile(v),this.createTile.length<2&&b(p(this._tileReady,this,t,null,v)),St(v,i),this._tiles[s]={el:v,coords:t,current:!0},e.appendChild(v),this.fire("tileloadstart",{tile:v,coords:t})},_tileReady:function(t,e,i){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var s=this._tileCoordsToKey(t);(i=this._tiles[s])&&(i.loaded=+new Date,this._map._fadeAnimated?(Rt(i.el,0),w(this._fadeFrame),this._fadeFrame=b(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(ft(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),at.ielt9||!this._map._fadeAnimated?b(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new X(this._wrapX?d(t.x,this._wrapX):t.x,this._wrapY?d(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new E(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),pe=Le.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,(e=f(this,e)).detectRetina&&at.retina&&0<e.maxZoom?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return ht(i,"load",p(this._tileOnLoad,this,e,i)),ht(i,"error",p(this._tileOnError,this,e,i)),!this.options.crossOrigin&&""!==this.options.crossOrigin||(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(i.referrerPolicy=this.options.referrerPolicy),i.alt="",i.src=this.getTileUrl(t),i},getTileUrl:function(t){var e={r:at.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};return this._map&&!this._map.options.crs.infinite&&(t=this._globalTileRange.max.y-t.y,this.options.tms&&(e.y=t),e["-y"]=t),m(this._url,O(e,this.options))},_tileOnLoad:function(t,e){at.ielt9?setTimeout(p(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var s=this.options.errorTileUrl;s&&e.getAttribute("src")!==s&&(e.src=s),t(i,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom;return(t=this.options.zoomReverse?this.options.maxZoom-t:t)+this.options.zoomOffset},_getSubdomain:function(t){return t=Math.abs(t.x+t.y)%this.options.subdomains.length,this.options.subdomains[t]},_abortLoading:function(){var t,e,i;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((i=this._tiles[t].el).onload=o,i.onerror=o,i.complete||(i.src=P,e=this._tiles[t].coords,Pt(i),delete this._tiles[t],this.fire("tileabort",{tile:i,coords:e})))},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",P),Le.prototype._removeTile.call(this,t)},_tileReady:function(t,e,i){if(this._map&&(!i||i.getAttribute("src")!==P))return Le.prototype._tileReady.call(this,t,e,i)}});function nn(t,e){return new pe(t,e)}var on=pe.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(v,e){this._url=v;var i,s=O({},this.defaultWmsParams);for(i in e)i in this.options||(s[i]=e[i]);v=(e=f(this,e)).detectRetina&&at.retina?2:1;var A=this.getTileSize();s.width=A.x*v,s.height=A.y*v,this.wmsParams=s},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[1.3<=this._wmsVersion?"crs":"srs"]=this._crs.code,pe.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),i=(e=(i=I((i=this._crs).project(e[0]),i.project(e[1]))).min,i.max);return e=(1.3<=this._wmsVersion&&this._crs===Yi?[e.y,e.x,i.y,i.x]:[e.x,e.y,i.x,i.y]).join(","),(i=pe.prototype.getTileUrl.call(this,t))+h(this.wmsParams,i,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+e},setParams:function(t,e){return O(this.wmsParams,t),e||this.redraw(),this}});pe.WMS=on,nn.wms=function(t,e){return new on(t,e)};var Kt=It.extend({options:{padding:.1},initialize:function(t){f(this,t),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ft(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),v=this._map.getSize().multiplyBy(.5+this.options.padding),s=this._map.project(this._center,e);v=v.multiplyBy(-i).add(s).subtract(this._map._getNewPixelOrigin(t,e)),at.any3d?Qt(this._container,v,i):St(this._container,v)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new E(i,i.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),rn=Kt.extend({options:{tolerance:0},getEvents:function(){var t=Kt.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Kt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");ht(t,"mousemove",this._onMouseMove,this),ht(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ht(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){w(this._redrawRequest),delete this._ctx,Pt(this._container),Lt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){var t,e,i,s;this._map._animatingZoom&&this._bounds||(Kt.prototype._update.call(this),e=this._container,i=(t=this._bounds).getSize(),s=at.retina?2:1,St(e,t.min),e.width=s*i.x,e.height=s*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",at.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update"))},_reset:function(){Kt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),t=(this._layers[y(t)]=t)._order={layer:t,prev:this._drawLast,next:null},this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=(i=t._order).next,i=i.prev;e?e.prev=i:this._drawLast=i,i?i.next=e:this._drawFirst=e,delete t._order,delete this._layers[y(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){for(var e,i=t.options.dashArray.split(/[, ]+/),s=[],v=0;v<i.length;v++){if(e=Number(i[v]),isNaN(e))return;s.push(e)}t.options._dashArray=s}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||b(this._redraw,this))},_extendRedrawBounds:function(t){var e;t._pxBounds&&(e=(t.options.weight||0)+1,this._redrawBounds=this._redrawBounds||new E,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e])))},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t,e=this._redrawBounds;e?(t=e.getSize(),this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)):(this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore())},_draw:function(){var t,e,i=this._redrawBounds;this._ctx.save(),i&&(e=i.getSize(),this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,e.x,e.y),this._ctx.clip()),this._drawing=!0;for(var s=this._drawFirst;s;s=s.next)t=s.layer,(!i||t._pxBounds&&t._pxBounds.intersects(i))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,s,v,A,W=t._parts,U=W.length,Q=this._ctx;if(U){for(Q.beginPath(),i=0;i<U;i++){for(s=0,v=W[i].length;s<v;s++)Q[s?"lineTo":"moveTo"]((A=W[i][s]).x,A.y);e&&Q.closePath()}this._fillStroke(Q,t)}}},_updateCircle:function(t){var e,i,s,v;this._drawing&&!t._empty()&&(e=t._point,i=this._ctx,s=Math.max(Math.round(t._radius),1),1!=(v=(Math.max(Math.round(t._radiusY),1)||s)/s)&&(i.save(),i.scale(1,v)),i.beginPath(),i.arc(e.x,e.y/v,s,0,2*Math.PI,!1),1!=v&&i.restore(),this._fillStroke(i,t))},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var e,i,s=this._map.mouseEventToLayerPoint(t),v=this._drawFirst;v;v=v.next)(e=v.layer).options.interactive&&e._containsPoint(s)&&(("click"===t.type||"preclick"===t.type)&&this._map._draggableMoved(e)||(i=e));this._fireEvent(!!i&&[i],t)},_onMouseMove:function(t){var e;!this._map||this._map.dragging.moving()||this._map._animatingZoom||(e=this._map.mouseEventToLayerPoint(t),this._handleMouseHover(t,e))},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(Ct(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var i,s,v=this._drawFirst;v;v=v.next)(i=v.layer).options.interactive&&i._containsPoint(e)&&(s=i);s!==this._hoveredLayer&&(this._handleMouseOut(t),s&&(ft(this._container,"leaflet-interactive"),this._fireEvent([s],t,"mouseover"),this._hoveredLayer=s)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e,i,s=t._order;s&&(i=s.prev,(e=s.next)&&((e.prev=i)?i.next=e:e&&(this._drawFirst=e),s.prev=this._drawLast,(this._drawLast.next=s).next=null,this._drawLast=s,this._requestRedraw(t)))},_bringToBack:function(t){var e,i,s=t._order;s&&(e=s.next,(i=s.prev)&&((i.next=e)?e.prev=i:i&&(this._drawLast=i),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(t)))}});function sn(t){return at.canvas?new rn(t):null}var Oe=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Xe=(ke={_initContainer:function(){this._container=gt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Kt.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Oe("shape");ft(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Oe("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[y(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;Pt(e),t.removeInteractiveTarget(e),delete this._layers[y(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,s=t.options,v=t._container;v.stroked=!!s.stroke,v.filled=!!s.fill,s.stroke?(e=e||(t._stroke=Oe("stroke")),v.appendChild(e),e.weight=s.weight+"px",e.color=s.color,e.opacity=s.opacity,e.dashStyle=s.dashArray?x(s.dashArray)?s.dashArray.join(" "):s.dashArray.replace(/( *, *)/g," "):"",e.endcap=s.lineCap.replace("butt","flat"),e.joinstyle=s.lineJoin):e&&(v.removeChild(e),t._stroke=null),s.fill?(i=i||(t._fill=Oe("fill")),v.appendChild(i),i.color=s.fillColor||s.color,i.opacity=s.fillOpacity):i&&(v.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),s=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+s+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){le(t._container)},_bringToBack:function(t){ue(t._container)}},at.vml?Oe:_t),Pe=Kt.extend({_initContainer:function(){this._container=Xe("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Xe("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Pt(this._container),Lt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){var t,e,i;this._map._animatingZoom&&this._bounds||(Kt.prototype._update.call(this),e=(t=this._bounds).getSize(),i=this._container,this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),St(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update"))},_initPath:function(t){var e=t._path=Xe("path");t.options.className&&ft(e,t.options.className),t.options.interactive&&ft(e,"leaflet-interactive"),this._updateStyle(t),this._layers[y(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){Pt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[y(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(i){var e=i._path;i=i.options,e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,vt(t._parts,e))},_updateCircle:function(t){var s=t._point,e=Math.max(Math.round(t._radius),1),i="a"+e+","+(Math.max(Math.round(t._radiusY),1)||e)+" 0 1,0 ";s=t._empty()?"M0 0":"M"+(s.x-e)+","+s.y+i+2*e+",0 "+i+2*-e+",0 ",this._setPath(t,s)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){le(t._path)},_bringToBack:function(t){ue(t._path)}});function an(t){return at.svg||at.vml?new Pe(t):null}at.vml&&Pe.include(ke),yt.include({getRenderer:function(t){return t=(t=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer)||(this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(t){var e;return"overlayPane"!==t&&void 0!==t&&(void 0===(e=this._paneRenderers[t])&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e)},_createRenderer:function(t){return this.options.preferCanvas&&sn(t)||an(t)}});var ln=fe.extend({initialize:function(t,e){fe.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=Z(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});Pe.create=Xe,Pe.pointsToPath=vt,Vt.geometryToLayer=Fe,Vt.coordsToLatLng=xi,Vt.coordsToLatLngs=Ue,Vt.latLngToCoords=wi,Vt.latLngsToCoords=He,Vt.getFeature=de,Vt.asFeature=Ge,yt.mergeOptions({boxZoom:!0}),Yt=Bt.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){ht(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Lt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Pt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),_e(),ai(),this._startPoint=this._map.mouseEventToContainerPoint(t),ht(document,{contextmenu:ie,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=gt("div","leaflet-zoom-box",this._container),ft(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var i=(e=new E(this._point,this._startPoint)).getSize();St(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(Pt(this._box),Ct(this._container,"leaflet-crosshair")),Ae(),li(),Lt(document,{contextmenu:ie,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){1!==t.which&&1!==t.button||(this._finish(),this._moved&&(this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0),t=new R(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point)),this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})))},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}}),yt.addInitHook("addHandler","boxZoom",Yt),yt.mergeOptions({doubleClickZoom:!0}),$e=Bt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,s=e.getZoom(),i=e.options.zoomDelta;s=t.originalEvent.shiftKey?s-i:s+i,"center"===e.options.doubleClickZoom?e.setZoom(s):e.setZoomAround(t.containerPoint,s)}});var Jt=(yt.addInitHook("addHandler","doubleClickZoom",$e),yt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0}),Bt.extend({addHooks:function(){var t;this._draggable||(this._draggable=new Xt((t=this._map)._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))),ft(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ct(this._map._container,"leaflet-grab"),Ct(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t,e=this._map;e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity?(t=Z(this._map.options.maxBounds),this._offsetLimit=I(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))):this._offsetLimit=null,e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){var e,i;this._map.options.inertia&&(e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos,this._positions.push(i),this._times.push(e),this._prunePositions(e)),this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;1<this._positions.length&&50<t-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){var t,e;this._viscosity&&this._offsetLimit&&((t=this._draggable._newPos.subtract(this._draggable._startPos)).x<(e=this._offsetLimit).min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t))},_onPreDragWrap:function(){var v=this._worldWidth,t=Math.round(v/2),e=this._initialWorldOffset,i=((s=this._draggable._newPos.x)-t+e)%v+t-e,s=(s+t+e)%v-t-e;v=Math.abs(i+e)<Math.abs(s+e)?i:s,this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=v},_onDragEnd:function(t){var e,i,s,v,A=this._map,W=A.options,U=!W.inertia||t.noInertia||this._times.length<2;A.fire("dragend",t),!U&&(this._prunePositions(+new Date),U=(t=(t=this._lastPos.subtract(this._positions[0])).multiplyBy((e=W.easeLinearity)/(U=(this._lastTime-this._times[0])/1e3))).distanceTo([0,0]),i=Math.min(W.inertiaMaxSpeed,U),t=t.multiplyBy(i/U),(v=t.multiplyBy(-(s=i/(W.inertiaDeceleration*e))/2).round()).x||v.y)?(v=A._limitOffset(v,A.options.maxBounds),b(function(){A.panBy(v,{duration:s,easeLinearity:e,noMoveStart:!0,animate:!0})})):A.fire("moveend")}})),yn=(yt.addInitHook("addHandler","dragging",Jt),yt.mergeOptions({keyboard:!0,keyboardPanDelta:80}),Je=Bt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),ht(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Lt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){var t,e,i;this._focused||(i=document.body,t=document.documentElement,e=i.scrollTop||t.scrollTop,i=i.scrollLeft||t.scrollLeft,this._map._container.focus(),window.scrollTo(i,e))},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){for(var e=this._panKeys={},i=this.keyCodes,s=0,v=i.left.length;s<v;s++)e[i.left[s]]=[-1*t,0];for(s=0,v=i.right.length;s<v;s++)e[i.right[s]]=[t,0];for(s=0,v=i.down.length;s<v;s++)e[i.down[s]]=[0,t];for(s=0,v=i.up.length;s<v;s++)e[i.up[s]]=[0,-1*t]},_setZoomDelta:function(t){for(var e=this._zoomKeys={},i=this.keyCodes,s=0,v=i.zoomIn.length;s<v;s++)e[i.zoomIn[s]]=t;for(s=0,v=i.zoomOut.length;s<v;s++)e[i.zoomOut[s]]=-t},_addHooks:function(){ht(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Lt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,i,s=t.keyCode,v=this._map;if(s in this._panKeys)v._panAnim&&v._panAnim._inProgress||(i=this._panKeys[s],t.shiftKey&&(i=F(i).multiplyBy(3)),v.options.maxBounds&&(i=v._limitOffset(F(i),v.options.maxBounds)),v.options.worldCopyJump?(e=v.wrapLatLng(v.unproject(v.project(v.getCenter()).add(i))),v.panTo(e)):v.panBy(i));else if(s in this._zoomKeys)v.setZoom(v.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[s]);else{if(27!==s||!v._popup||!v._popup.options.closeOnEscapeKey)return;v.closePopup()}ie(t)}}}),yt.addInitHook("addHandler","keyboard",Je),yt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60}),Qe=Bt.extend({addHooks:function(){ht(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Lt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var i=Ii(t),e=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date),i=Math.max(e-(+new Date-this._startTime),0),clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),i),ie(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0,s=(t._stop(),this._delta/(4*this._map.options.wheelPxPerZoomLevel));s=4*Math.log(2/(1+Math.exp(-Math.abs(s))))/Math.LN2,i=i?Math.ceil(s/i)*i:s,s=t._limitZoom(e+(0<this._delta?i:-i))-e,this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}}),yt.addInitHook("addHandler","scrollWheelZoom",Qe),yt.mergeOptions({tapHold:at.touchNative&&at.safari&&at.mobile,tapTolerance:15}),Ee=Bt.extend({addHooks:function(){ht(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Lt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){var e;clearTimeout(this._holdTimeout),1===t.touches.length&&(this._startPos=this._newPos=new X((e=t.touches[0]).clientX,e.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(ht(document,"touchend",Nt),ht(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))},this),600),ht(document,"touchend touchcancel contextmenu",this._cancel,this),ht(document,"touchmove",this._onMove,this))},_cancelClickPrevent:function t(){Lt(document,"touchend",Nt),Lt(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Lt(document,"touchend touchcancel contextmenu",this._cancel,this),Lt(document,"touchmove",this._onMove,this)},_onMove:function(t){this._newPos=new X((t=t.touches[0]).clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){(t=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY}))._simulated=!0,e.target.dispatchEvent(t)}}),yt.addInitHook("addHandler","tapHold",Ee),yt.mergeOptions({touchZoom:at.touch,bounceAtZoomLimits:!0}),Te=Bt.extend({addHooks:function(){ft(this._map._container,"leaflet-touch-zoom"),ht(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ct(this._map._container,"leaflet-touch-zoom"),Lt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e,i,s=this._map;!t.touches||2!==t.touches.length||s._animatingZoom||this._zooming||(e=s.mouseEventToContainerPoint(t.touches[0]),i=s.mouseEventToContainerPoint(t.touches[1]),this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),"center"!==s.options.touchZoom&&(this._pinchStartLatLng=s.containerPointToLatLng(e.add(i)._divideBy(2))),this._startDist=e.distanceTo(i),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),ht(document,"touchmove",this._onTouchMove,this),ht(document,"touchend touchcancel",this._onTouchEnd,this),Nt(t))},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),s=e.mouseEventToContainerPoint(t.touches[1]),v=i.distanceTo(s)/this._startDist;if(this._zoom=e.getScaleZoom(v,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&v<1||this._zoom>e.getMaxZoom()&&1<v)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1==v)return}else{if(i=i._add(s)._divideBy(2)._subtract(this._centerPoint),1==v&&0===i.x&&0===i.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(i),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),w(this._animRequest),s=p(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0),this._animRequest=b(s,this,!0),Nt(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,w(this._animRequest),Lt(document,"touchmove",this._onTouchMove,this),Lt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}}),yt.addInitHook("addHandler","touchZoom",Te),yt.BoxZoom=Yt,yt.DoubleClickZoom=$e,yt.Drag=Jt,yt.Keyboard=Je,yt.ScrollWheelZoom=Qe,yt.TapHold=Ee,yt.TouchZoom=Te,q.Bounds=E,q.Browser=at,q.CRS=B,q.Canvas=rn,q.Circle=bi,q.CircleMarker=De,q.Class=z,q.Control=Dt,q.DivIcon=en,q.DivOverlay=Ut,q.DomEvent=mi,q.DomUtil=Et,q.Draggable=Xt,q.Evented=Y,q.FeatureGroup=Gt,q.GeoJSON=Vt,q.GridLayer=Le,q.Handler=Bt,q.Icon=he,q.ImageOverlay=Ve,q.LatLng=H,q.LatLngBounds=R,q.Layer=It,q.LayerGroup=ce,q.LineUtil=Tt,q.Map=yt,q.Marker=Ze,q.Mixin=be,q.Path=$t,q.Point=X,q.PolyUtil=Be,q.Polygon=fe,q.Polyline=Wt,q.Popup=Ke,q.PosAnimation=Bi,q.Projection=ze,q.Rectangle=ln,q.Renderer=Kt,q.SVG=Pe,q.SVGOverlay=tn,q.TileLayer=pe,q.Tooltip=Ye,q.Transformation=it,q.Util=j,q.VideoOverlay=Qi,q.bind=p,q.bounds=I,q.canvas=sn,q.circle=function(t,e,i){return new bi(t,e,i)},q.circleMarker=function(t,e){return new De(t,e)},q.control=ve,q.divIcon=function(t){return new en(t)},q.extend=O,q.featureGroup=function(t,e){return new Gt(t,e)},q.geoJSON=Ji,q.geoJson=We,q.gridLayer=function(t){return new Le(t)},q.icon=function(t){return new he(t)},q.imageOverlay=function(t,e,i){return new Ve(t,e,i)},q.latLng=D,q.latLngBounds=Z,q.layerGroup=function(t,e){return new ce(t,e)},q.map=function(t,e){return new yt(t,e)},q.marker=function(t,e){return new Ze(t,e)},q.point=F,q.polygon=function(t,e){return new fe(t,e)},q.polyline=function(t,e){return new Wt(t,e)},q.popup=function(t,e){return new Ke(t,e)},q.rectangle=function(t,e){return new ln(t,e)},q.setOptions=f,q.stamp=y,q.svg=an,q.svgOverlay=function(t,e,i){return new tn(t,e,i)},q.tileLayer=nn,q.tooltip=function(t,e){return new Ye(t,e)},q.transformation=et,q.version="1.9.3",q.videoOverlay=function(t,e,i){return new Qi(t,e,i)},window.L);q.noConflict=function(){return window.L=yn,this},window.L=q}),function(q,O){"object"==typeof exports&&typeof module<"u"?O(exports):"function"==typeof define&&define.amd?define(["exports"],O):O(((q=q||self).Leaflet=q.Leaflet||{},q.Leaflet.markercluster={}))}(this,function(q){"use strict";var O=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(n){L.Util.setOptions(this,n),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var p=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,p?this._withAnimation:this._noAnimation),this._markerCluster=p?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(n){if(n instanceof L.LayerGroup)return this.addLayers([n]);if(!n.getLatLng)return this._nonPointGroup.addLayer(n),this.fire("layeradd",{layer:n}),this;if(!this._map)return this._needsClustering.push(n),this.fire("layeradd",{layer:n}),this;if(this.hasLayer(n))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(n,this._maxZoom),this.fire("layeradd",{layer:n}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var p=n,c=this._zoom;if(n.__parent)for(;p.__parent._zoom>=c;)p=p.__parent;return this._currentShownBounds.contains(p.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(n,p):this._animationAddLayerNonAnimated(n,p)),this},removeLayer:function(n){return n instanceof L.LayerGroup?this.removeLayers([n]):(n.getLatLng?this._map?n.__parent&&(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(n)),this._removeLayer(n,!0),this.fire("layerremove",{layer:n}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),n.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(n)&&(this._featureGroup.removeLayer(n),n.clusterShow&&n.clusterShow())):(!this._arraySplice(this._needsClustering,n)&&this.hasLayer(n)&&this._needsRemoving.push({layer:n,latlng:n._latlng}),this.fire("layerremove",{layer:n})):(this._nonPointGroup.removeLayer(n),this.fire("layerremove",{layer:n})),this)},addLayers:function(n,p){if(!L.Util.isArray(n))return this.addLayer(n);var c,y=this._featureGroup,g=this._nonPointGroup,d=this.options.chunkedLoading,o=this.options.chunkInterval,r=this.options.chunkProgress,a=n.length,l=0,f=!0;if(this._map){var h=(new Date).getTime(),u=L.bind(function(){var x=(new Date).getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();l<a;l++){if(d&&l%200==0){var _=(new Date).getTime()-x;if(o<_)break}if((c=n[l])instanceof L.LayerGroup)f&&(n=n.slice(),f=!1),this._extractNonGroupLayers(c,n),a=n.length;else if(c.getLatLng){if(!this.hasLayer(c)&&(this._addLayer(c,this._maxZoom),p||this.fire("layeradd",{layer:c}),c.__parent&&2===c.__parent.getChildCount())){var P=c.__parent.getAllChildMarkers();y.removeLayer(P[0]===c?P[1]:P[0])}}else g.addLayer(c),p||this.fire("layeradd",{layer:c})}r&&r(l,a,(new Date).getTime()-h),l===a?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(u,this.options.chunkDelay)},this);u()}else for(var m=this._needsClustering;l<a;l++)(c=n[l])instanceof L.LayerGroup?(f&&(n=n.slice(),f=!1),this._extractNonGroupLayers(c,n),a=n.length):c.getLatLng?this.hasLayer(c)||m.push(c):g.addLayer(c);return this},removeLayers:function(n){var p,c,y=n.length,g=this._featureGroup,d=this._nonPointGroup,o=!0;if(!this._map){for(p=0;p<y;p++)(c=n[p])instanceof L.LayerGroup?(o&&(n=n.slice(),o=!1),this._extractNonGroupLayers(c,n),y=n.length):(this._arraySplice(this._needsClustering,c),d.removeLayer(c),this.hasLayer(c)&&this._needsRemoving.push({layer:c,latlng:c._latlng}),this.fire("layerremove",{layer:c}));return this}if(this._unspiderfy){this._unspiderfy();var r=n.slice(),a=y;for(p=0;p<a;p++)(c=r[p])instanceof L.LayerGroup?(this._extractNonGroupLayers(c,r),a=r.length):this._unspiderfyLayer(c)}for(p=0;p<y;p++)(c=n[p])instanceof L.LayerGroup?(o&&(n=n.slice(),o=!1),this._extractNonGroupLayers(c,n),y=n.length):c.__parent?(this._removeLayer(c,!0,!0),this.fire("layerremove",{layer:c}),g.hasLayer(c)&&(g.removeLayer(c),c.clusterShow&&c.clusterShow())):(d.removeLayer(c),this.fire("layerremove",{layer:c}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(n){n.off(this._childMarkerEventHandlers,this),delete n.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var n=new L.LatLngBounds;this._topClusterLevel&&n.extend(this._topClusterLevel._bounds);for(var p=this._needsClustering.length-1;0<=p;p--)n.extend(this._needsClustering[p].getLatLng());return n.extend(this._nonPointGroup.getBounds()),n},eachLayer:function(n,p){var c,y,g,d=this._needsClustering.slice(),o=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(d),y=d.length-1;0<=y;y--){for(c=!0,g=o.length-1;0<=g;g--)if(o[g].layer===d[y]){c=!1;break}c&&n.call(p,d[y])}this._nonPointGroup.eachLayer(n,p)},getLayers:function(){var n=[];return this.eachLayer(function(p){n.push(p)}),n},getLayer:function(n){var p=null;return n=parseInt(n,10),this.eachLayer(function(c){L.stamp(c)===n&&(p=c)}),p},hasLayer:function(n){if(!n)return!1;var p,c=this._needsClustering;for(p=c.length-1;0<=p;p--)if(c[p]===n)return!0;for(p=(c=this._needsRemoving).length-1;0<=p;p--)if(c[p].layer===n)return!1;return!(!n.__parent||n.__parent._group!==this)||this._nonPointGroup.hasLayer(n)},zoomToShowLayer:function(n,p){var c=this._map;"function"!=typeof p&&(p=function(){});var y=function(){!c.hasLayer(n)&&!c.hasLayer(n.__parent)||this._inZoomAnimation||(this._map.off("moveend",y,this),this.off("animationend",y,this),c.hasLayer(n)?p():n.__parent._icon&&(this.once("spiderfied",p,this),n.__parent.spiderfy()))};n._icon&&this._map.getBounds().contains(n.getLatLng())?p():n.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",y,this),this._map.panTo(n.getLatLng())):(this._map.on("moveend",y,this),this.on("animationend",y,this),n.__parent.zoomToBounds())},onAdd:function(n){var p,c,y;if(this._map=n,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(n),this._nonPointGroup.addTo(n),this._gridClusters||this._generateInitialClusters(),this._maxLat=n.options.crs.projection.MAX_LATITUDE,p=0,c=this._needsRemoving.length;p<c;p++)(y=this._needsRemoving[p]).newlatlng=y.layer._latlng,y.layer._latlng=y.latlng;for(p=0,c=this._needsRemoving.length;p<c;p++)this._removeLayer((y=this._needsRemoving[p]).layer,!0),y.layer._latlng=y.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),c=this._needsClustering,this._needsClustering=[],this.addLayers(c,!0)},onRemove:function(n){n.off("zoomend",this._zoomEnd,this),n.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(n){for(var p=n;p&&!p._icon;)p=p.__parent;return p||null},_arraySplice:function(n,p){for(var c=n.length-1;0<=c;c--)if(n[c]===p)return n.splice(c,1),!0},_removeFromGridUnclustered:function(n,p){for(var c=this._map,y=this._gridUnclustered,g=Math.floor(this._map.getMinZoom());g<=p&&y[p].removeObject(n,c.project(n.getLatLng(),p));p--);},_childMarkerDragStart:function(n){n.target.__dragStart=n.target._latlng},_childMarkerMoved:function(n){if(!this._ignoreMove&&!n.target.__dragStart){var p=n.target._popup&&n.target._popup.isOpen();this._moveChild(n.target,n.oldLatLng,n.latlng),p&&n.target.openPopup()}},_moveChild:function(n,p,c){n._latlng=p,this.removeLayer(n),n._latlng=c,this.addLayer(n)},_childMarkerDragEnd:function(n){var p=n.target.__dragStart;delete n.target.__dragStart,p&&this._moveChild(n.target,p,n.target._latlng)},_removeLayer:function(n,p,c){var y=this._gridClusters,g=this._gridUnclustered,d=this._featureGroup,o=this._map,r=Math.floor(this._map.getMinZoom());p&&this._removeFromGridUnclustered(n,this._maxZoom);var a,l=n.__parent;for(this._arraySplice(l._markers,n);l&&(l._childCount--,l._boundsNeedUpdate=!0,!(l._zoom<r));)p&&l._childCount<=1?(a=l._markers[0]===n?l._markers[1]:l._markers[0],y[l._zoom].removeObject(l,o.project(l._cLatLng,l._zoom)),g[l._zoom].addObject(a,o.project(a.getLatLng(),l._zoom)),this._arraySplice(l.__parent._childClusters,l),l.__parent._markers.push(a),a.__parent=l.__parent,l._icon&&(d.removeLayer(l),c||d.addLayer(a))):l._iconNeedsUpdate=!0,l=l.__parent;delete n.__parent},_isOrIsParent:function(n,p){for(;p;){if(n===p)return!0;p=p.parentNode}return!1},fire:function(n,p,c){if(p&&p.layer instanceof L.MarkerCluster){if(p.originalEvent&&this._isOrIsParent(p.layer._icon,p.originalEvent.relatedTarget))return;n="cluster"+n}L.FeatureGroup.prototype.fire.call(this,n,p,c)},listens:function(n,p){return L.FeatureGroup.prototype.listens.call(this,n,p)||L.FeatureGroup.prototype.listens.call(this,"cluster"+n,p)},_defaultIconCreateFunction:function(n){var p=n.getChildCount(),c=" marker-cluster-";return new L.DivIcon({html:"<div><span>"+p+"</span></div>",className:"marker-cluster"+(c+=p<10?"small":p<100?"medium":"large"),iconSize:new L.Point(40,40)})},_bindEvents:function(){var n=this._map,c=this.options.showCoverageOnHover;(this.options.spiderfyOnMaxZoom||this.options.zoomToBoundsOnClick||this.options.spiderfyOnEveryZoom)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),c&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),n.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(n){var p=n.layer,c=p;if("clusterkeypress"!==n.type||!n.originalEvent||13===n.originalEvent.keyCode){for(;1===c._childClusters.length;)c=c._childClusters[0];c._zoom===this._maxZoom&&c._childCount===p._childCount&&this.options.spiderfyOnMaxZoom?p.spiderfy():this.options.zoomToBoundsOnClick&&p.zoomToBounds(),this.options.spiderfyOnEveryZoom&&p.spiderfy(),n.originalEvent&&13===n.originalEvent.keyCode&&this._map._container.focus()}},_showCoverage:function(n){var p=this._map;this._inZoomAnimation||(this._shownPolygon&&p.removeLayer(this._shownPolygon),2<n.layer.getChildCount()&&n.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(n.layer.getConvexHull(),this.options.polygonOptions),p.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var p=this.options.showCoverageOnHover,g=this._map;(this.options.spiderfyOnMaxZoom||this.options.zoomToBoundsOnClick||this.options.spiderfyOnEveryZoom)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),p&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),g.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var n=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,n),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),n),this._currentShownBounds=n}},_generateInitialClusters:function(){var n=Math.ceil(this._map.getMaxZoom()),p=Math.floor(this._map.getMinZoom()),c=this.options.maxClusterRadius,y=c;"function"!=typeof c&&(y=function(){return c}),null!==this.options.disableClusteringAtZoom&&(n=this.options.disableClusteringAtZoom-1),this._maxZoom=n,this._gridClusters={},this._gridUnclustered={};for(var g=n;p<=g;g--)this._gridClusters[g]=new L.DistanceGrid(y(g)),this._gridUnclustered[g]=new L.DistanceGrid(y(g));this._topClusterLevel=new this._markerCluster(this,p-1)},_addLayer:function(n,p){var c,y,g=this._gridClusters,d=this._gridUnclustered,o=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(n),n.on(this._childMarkerEventHandlers,this);o<=p;p--){c=this._map.project(n.getLatLng(),p);var r=g[p].getNearObject(c);if(r)return r._addChild(n),void(n.__parent=r);if(r=d[p].getNearObject(c)){var a=r.__parent;a&&this._removeLayer(r,!1);var l=new this._markerCluster(this,p,r,n);g[p].addObject(l,this._map.project(l._cLatLng,p)),r.__parent=l;var f=n.__parent=l;for(y=p-1;y>a._zoom;y--)f=new this._markerCluster(this,y,f),g[y].addObject(f,this._map.project(r.getLatLng(),y));return a._addChild(f),void this._removeFromGridUnclustered(r,p)}d[p].addObject(n,c)}this._topClusterLevel._addChild(n),n.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(n){n instanceof L.MarkerCluster&&n._iconNeedsUpdate&&n._updateIcon()})},_enqueue:function(n){this._queue.push(n),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var n=0;n<this._queue.length;n++)this._queue[n].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var n=Math.round(this._map._zoom);this._processQueue(),this._zoom<n&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,n)):this._zoom>n?(this._animationStart(),this._animationZoomOut(this._zoom,n)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(n){var p=this._maxLat;return void 0!==p&&(n.getNorth()>=p&&(n._northEast.lat=1/0),n.getSouth()<=-p&&(n._southWest.lat=-1/0)),n},_animationAddLayerNonAnimated:function(n,p){if(p===n)this._featureGroup.addLayer(n);else if(2===p._childCount){p._addToMap();var c=p.getAllChildMarkers();this._featureGroup.removeLayer(c[0]),this._featureGroup.removeLayer(c[1])}else p._updateIcon()},_extractNonGroupLayers:function(n,p){var c,y=n.getLayers(),g=0;for(p=p||[];g<y.length;g++)(c=y[g])instanceof L.LayerGroup?this._extractNonGroupLayers(c,p):p.push(c);return p},_overrideMarkerIcon:function(n){return n.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[n]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(n,p){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),n),this._topClusterLevel._recursivelyAddChildrenToMap(null,p,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(n,p){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),n),this._topClusterLevel._recursivelyAddChildrenToMap(null,p,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(n,p){this._animationAddLayerNonAnimated(n,p)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(n,p){var c,y=this._getExpandedVisibleBounds(),g=this._featureGroup,d=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(y,n,d,function(o){var r,a=o._latlng,l=o._markers;for(y.contains(a)||(a=null),o._isSingleParent()&&n+1===p?(g.removeLayer(o),o._recursivelyAddChildrenToMap(null,p,y)):(o.clusterHide(),o._recursivelyAddChildrenToMap(a,p,y)),c=l.length-1;0<=c;c--)y.contains((r=l[c])._latlng)||g.removeLayer(r)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(y,p),g.eachLayer(function(o){o instanceof L.MarkerCluster||!o._icon||o.clusterShow()}),this._topClusterLevel._recursively(y,n,p,function(o){o._recursivelyRestoreChildPositions(p)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(y,n,d,function(o){g.removeLayer(o),o.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(n,p){this._animationZoomOutSingle(this._topClusterLevel,n-1,p),this._topClusterLevel._recursivelyAddChildrenToMap(null,p,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),n,this._getExpandedVisibleBounds())},_animationAddLayer:function(n,p){var c=this,y=this._featureGroup;y.addLayer(n),p!==n&&(2<p._childCount?(p._updateIcon(),this._forceLayout(),this._animationStart(),n._setPos(this._map.latLngToLayerPoint(p.getLatLng())),n.clusterHide(),this._enqueue(function(){y.removeLayer(n),n.clusterShow(),c._animationEnd()})):(this._forceLayout(),c._animationStart(),c._animationZoomOutSingle(p,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(n,p,c){var y=this._getExpandedVisibleBounds(),g=Math.floor(this._map.getMinZoom());n._recursivelyAnimateChildrenInAndAddSelfToMap(y,g,p+1,c);var d=this;this._forceLayout(),n._recursivelyBecomeVisible(y,c),this._enqueue(function(){if(1===n._childCount){var o=n._markers[0];this._ignoreMove=!0,o.setLatLng(o.getLatLng()),this._ignoreMove=!1,o.clusterShow&&o.clusterShow()}else n._recursively(y,c,g,function(r){r._recursivelyRemoveChildrenFromMap(y,g,p+1)});d._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(n){return new L.MarkerClusterGroup(n)};var k=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(n,p,c,y){L.Marker.prototype.initialize.call(this,c?c._cLatLng||c.getLatLng():new L.LatLng(0,0),{icon:this,pane:n.options.clusterPane}),this._group=n,this._zoom=p,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,c&&this._addChild(c),y&&this._addChild(y)},getAllChildMarkers:function(n,p){n=n||[];for(var c=this._childClusters.length-1;0<=c;c--)this._childClusters[c].getAllChildMarkers(n,p);for(var y=this._markers.length-1;0<=y;y--)p&&this._markers[y].__dragStart||n.push(this._markers[y]);return n},getChildCount:function(){return this._childCount},zoomToBounds:function(n){for(var p,c=this._childClusters.slice(),y=this._group._map,g=y.getBoundsZoom(this._bounds),d=this._zoom+1,o=y.getZoom();0<c.length&&d<g;){d++;var r=[];for(p=0;p<c.length;p++)r=r.concat(c[p]._childClusters);c=r}d<g?this._group._map.setView(this._latlng,d):g<=o?this._group._map.setView(this._latlng,o+1):this._group._map.fitBounds(this._bounds,n)},getBounds:function(){var n=new L.LatLngBounds;return n.extend(this._bounds),n},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(n,p){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(n),n instanceof L.MarkerCluster?(p||(this._childClusters.push(n),n.__parent=this),this._childCount+=n._childCount):(p||this._markers.push(n),this._childCount++),this.__parent&&this.__parent._addChild(n,!0)},_setClusterCenter:function(n){this._cLatLng||(this._cLatLng=n._cLatLng||n._latlng)},_resetBounds:function(){var n=this._bounds;n._southWest&&(n._southWest.lat=1/0,n._southWest.lng=1/0),n._northEast&&(n._northEast.lat=-1/0,n._northEast.lng=-1/0)},_recalculateBounds:function(){var n,p,c,y,g=this._markers,d=this._childClusters,o=0,r=0,a=this._childCount;if(0!==a){for(this._resetBounds(),n=0;n<g.length;n++)this._bounds.extend(c=g[n]._latlng),o+=c.lat,r+=c.lng;for(n=0;n<d.length;n++)(p=d[n])._boundsNeedUpdate&&p._recalculateBounds(),this._bounds.extend(p._bounds),o+=(c=p._wLatLng).lat*(y=p._childCount),r+=c.lng*y;this._latlng=this._wLatLng=new L.LatLng(o/a,r/a),this._boundsNeedUpdate=!1}},_addToMap:function(n){n&&(this._backupLatlng=this._latlng,this.setLatLng(n)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(n,p,c){this._recursively(n,this._group._map.getMinZoom(),c-1,function(y){var g,d,o=y._markers;for(g=o.length-1;0<=g;g--)(d=o[g])._icon&&(d._setPos(p),d.clusterHide())},function(y){var g,d,o=y._childClusters;for(g=o.length-1;0<=g;g--)(d=o[g])._icon&&(d._setPos(p),d.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(n,p,c,y){this._recursively(n,y,p,function(g){g._recursivelyAnimateChildrenIn(n,g._group._map.latLngToLayerPoint(g.getLatLng()).round(),c),g._isSingleParent()&&c-1===y?(g.clusterShow(),g._recursivelyRemoveChildrenFromMap(n,p,c)):g.clusterHide(),g._addToMap()})},_recursivelyBecomeVisible:function(n,p){this._recursively(n,this._group._map.getMinZoom(),p,null,function(c){c.clusterShow()})},_recursivelyAddChildrenToMap:function(n,p,c){this._recursively(c,this._group._map.getMinZoom()-1,p,function(y){if(p!==y._zoom)for(var g=y._markers.length-1;0<=g;g--){var d=y._markers[g];c.contains(d._latlng)&&(n&&(d._backupLatlng=d.getLatLng(),d.setLatLng(n),d.clusterHide&&d.clusterHide()),y._group._featureGroup.addLayer(d))}},function(y){y._addToMap(n)})},_recursivelyRestoreChildPositions:function(n){for(var p=this._markers.length-1;0<=p;p--){var c=this._markers[p];c._backupLatlng&&(c.setLatLng(c._backupLatlng),delete c._backupLatlng)}if(n-1===this._zoom)for(var y=this._childClusters.length-1;0<=y;y--)this._childClusters[y]._restorePosition();else for(var g=this._childClusters.length-1;0<=g;g--)this._childClusters[g]._recursivelyRestoreChildPositions(n)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(n,p,c,y){var g,d;this._recursively(n,p-1,c-1,function(o){for(d=o._markers.length-1;0<=d;d--)g=o._markers[d],y&&y.contains(g._latlng)||(o._group._featureGroup.removeLayer(g),g.clusterShow&&g.clusterShow())},function(o){for(d=o._childClusters.length-1;0<=d;d--)g=o._childClusters[d],y&&y.contains(g._latlng)||(o._group._featureGroup.removeLayer(g),g.clusterShow&&g.clusterShow())})},_recursively:function(n,p,c,y,g){var d,o,r=this._childClusters,a=this._zoom;if(p<=a&&(y&&y(this),g&&a===c&&g(this)),a<p||a<c)for(d=r.length-1;0<=d;d--)(o=r[d])._boundsNeedUpdate&&o._recalculateBounds(),n.intersects(o._bounds)&&o._recursively(n,p,c,y,g)},_isSingleParent:function(){return 0<this._childClusters.length&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var n=this.options.opacity;return this.setOpacity(0),this.options.opacity=n,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(n){this._cellSize=n,this._sqCellSize=n*n,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(n,p){var c=this._getCoord(p.x),y=this._getCoord(p.y),g=this._grid,d=g[y]=g[y]||{},o=d[c]=d[c]||[],r=L.Util.stamp(n);this._objectPoint[r]=p,o.push(n)},updateObject:function(n,p){this.removeObject(n),this.addObject(n,p)},removeObject:function(n,p){var c,y,g=this._getCoord(p.x),d=this._getCoord(p.y),o=this._grid,r=o[d]=o[d]||{},a=r[g]=r[g]||[];for(delete this._objectPoint[L.Util.stamp(n)],c=0,y=a.length;c<y;c++)if(a[c]===n)return a.splice(c,1),1===y&&delete r[g],!0},eachObject:function(n,p){var c,y,g,d,o,r,a=this._grid;for(c in a)for(y in o=a[c])for(g=0,d=(r=o[y]).length;g<d;g++)n.call(p,r[g])&&(g--,d--)},getNearObject:function(n){var p,c,y,g,d,o,r,a,l=this._getCoord(n.x),f=this._getCoord(n.y),h=this._objectPoint,u=this._sqCellSize,m=null;for(p=f-1;p<=f+1;p++)if(g=this._grid[p])for(c=l-1;c<=l+1;c++)if(d=g[c])for(y=0,o=d.length;y<o;y++)r=d[y],((a=this._sqDist(h[L.Util.stamp(r)],n))<u||a<=u&&null===m)&&(u=a,m=r);return m},_getCoord:function(n){var p=Math.floor(n/this._cellSize);return isFinite(p)?p:n},_sqDist:function(n,p){var c=p.x-n.x,y=p.y-n.y;return c*c+y*y}},L.QuickHull={getDistant:function(n,p){return(p[0].lng-p[1].lng)*(n.lat-p[0].lat)+(p[1].lat-p[0].lat)*(n.lng-p[0].lng)},findMostDistantPointFromBaseLine:function(n,p){var c,y,g,d=0,o=null,r=[];for(c=p.length-1;0<=c;c--)0<(g=this.getDistant(y=p[c],n))&&(r.push(y),d<g&&(d=g,o=y));return{maxPoint:o,newPoints:r}},buildConvexHull:function(n,p){var c=[],y=this.findMostDistantPointFromBaseLine(n,p);return y.maxPoint?c=(c=c.concat(this.buildConvexHull([n[0],y.maxPoint],y.newPoints))).concat(this.buildConvexHull([y.maxPoint,n[1]],y.newPoints)):[n[0]]},getConvexHull:function(n){var p,f,c=!1,y=!1,g=!1,d=!1,o=null,r=null,a=null,l=null,h=null;for(p=n.length-1;0<=p;p--){var u=n[p];(!1===c||u.lat>c)&&(c=(o=u).lat),(!1===y||u.lat<y)&&(y=(r=u).lat),(!1===g||u.lng>g)&&(g=(a=u).lng),(!1===d||u.lng<d)&&(d=(l=u).lng)}return f=y!==c?(h=r,o):(h=l,a),[].concat(this.buildConvexHull([h,f],n),this.buildConvexHull([f,h],n))}},L.MarkerCluster.include({getConvexHull:function(){var n,p,c=this.getAllChildMarkers(),y=[];for(p=c.length-1;0<=p;p--)n=c[p].getLatLng(),y.push(n);return L.QuickHull.getConvexHull(y)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var n,p=this.getAllChildMarkers(null,!0),c=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),n=(this._group._spiderfied=this)._group.options.spiderfyShapePositions?this._group.options.spiderfyShapePositions(p.length,c):p.length>=this._circleSpiralSwitchover?this._generatePointsSpiral(p.length,c):(c.y+=10,this._generatePointsCircle(p.length,c)),this._animationSpiderfy(p,n)}},unspiderfy:function(n){this._group._inZoomAnimation||(this._animationUnspiderfy(n),this._group._spiderfied=null)},_generatePointsCircle:function(n,p){var c,y,g=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+n)/this._2PI,d=this._2PI/n,o=[];for(g=Math.max(g,35),o.length=n,c=0;c<n;c++)y=this._circleStartAngle+c*d,o[c]=new L.Point(p.x+g*Math.cos(y),p.y+g*Math.sin(y))._round();return o},_generatePointsSpiral:function(n,p){var c,y=this._group.options.spiderfyDistanceMultiplier,g=y*this._spiralLengthStart,d=y*this._spiralFootSeparation,o=y*this._spiralLengthFactor*this._2PI,r=0,a=[];for(c=a.length=n;0<=c;c--)c<n&&(a[c]=new L.Point(p.x+g*Math.cos(r),p.y+g*Math.sin(r))._round()),g+=o/(r+=d/g+5e-4*c);return a},_noanimationUnspiderfy:function(){var n,p,c=this._group,y=c._map,g=c._featureGroup,d=this.getAllChildMarkers(null,!0);for(c._ignoreMove=!0,this.setOpacity(1),p=d.length-1;0<=p;p--)g.removeLayer(n=d[p]),n._preSpiderfyLatlng&&(n.setLatLng(n._preSpiderfyLatlng),delete n._preSpiderfyLatlng),n.setZIndexOffset&&n.setZIndexOffset(0),n._spiderLeg&&(y.removeLayer(n._spiderLeg),delete n._spiderLeg);c.fire("unspiderfied",{cluster:this,markers:d}),c._ignoreMove=!1,c._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(n,p){var c,y,g,d,o=this._group,r=o._map,a=o._featureGroup,l=this._group.options.spiderLegPolylineOptions;for(o._ignoreMove=!0,c=0;c<n.length;c++)d=r.layerPointToLatLng(p[c]),y=n[c],g=new L.Polyline([this._latlng,d],l),r.addLayer(g),y._spiderLeg=g,y._preSpiderfyLatlng=y._latlng,y.setLatLng(d),y.setZIndexOffset&&y.setZIndexOffset(1e6),a.addLayer(y);this.setOpacity(.3),o._ignoreMove=!1,o.fire("spiderfied",{cluster:this,markers:n})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(n,p){var c,y,g,d,o,r,a=this,l=this._group,f=l._map,h=l._featureGroup,u=this._latlng,m=f.latLngToLayerPoint(u),x=L.Path.SVG,_=L.extend({},this._group.options.spiderLegPolylineOptions),P=_.opacity;for(void 0===P&&(P=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),x?(_.opacity=0,_.className=(_.className||"")+" leaflet-cluster-spider-leg"):_.opacity=P,l._ignoreMove=!0,c=0;c<n.length;c++)y=n[c],r=f.layerPointToLatLng(p[c]),g=new L.Polyline([u,r],_),f.addLayer(g),y._spiderLeg=g,x&&(o=(d=g._path).getTotalLength()+.1,d.style.strokeDasharray=o,d.style.strokeDashoffset=o),y.setZIndexOffset&&y.setZIndexOffset(1e6),y.clusterHide&&y.clusterHide(),h.addLayer(y),y._setPos&&y._setPos(m);for(l._forceLayout(),l._animationStart(),c=n.length-1;0<=c;c--)r=f.layerPointToLatLng(p[c]),(y=n[c])._preSpiderfyLatlng=y._latlng,y.setLatLng(r),y.clusterShow&&y.clusterShow(),x&&((d=(g=y._spiderLeg)._path).style.strokeDashoffset=0,g.setStyle({opacity:P}));this.setOpacity(.3),l._ignoreMove=!1,setTimeout(function(){l._animationEnd(),l.fire("spiderfied",{cluster:a,markers:n})},200)},_animationUnspiderfy:function(n){var p,c,y,g,d,o,r=this,a=this._group,l=a._map,f=a._featureGroup,h=n?l._latLngToNewLayerPoint(this._latlng,n.zoom,n.center):l.latLngToLayerPoint(this._latlng),u=this.getAllChildMarkers(null,!0),m=L.Path.SVG;for(a._ignoreMove=!0,a._animationStart(),this.setOpacity(1),c=u.length-1;0<=c;c--)(p=u[c])._preSpiderfyLatlng&&(p.closePopup(),p.setLatLng(p._preSpiderfyLatlng),delete p._preSpiderfyLatlng,o=!0,p._setPos&&(p._setPos(h),o=!1),p.clusterHide&&(p.clusterHide(),o=!1),o&&f.removeLayer(p),m&&(d=(g=(y=p._spiderLeg)._path).getTotalLength()+.1,g.style.strokeDashoffset=d,y.setStyle({opacity:0})));a._ignoreMove=!1,setTimeout(function(){var x=0;for(c=u.length-1;0<=c;c--)(p=u[c])._spiderLeg&&x++;for(c=u.length-1;0<=c;c--)(p=u[c])._spiderLeg&&(p.clusterShow&&p.clusterShow(),p.setZIndexOffset&&p.setZIndexOffset(0),1<x&&f.removeLayer(p),l.removeLayer(p._spiderLeg),delete p._spiderLeg);a._animationEnd(),a.fire("unspiderfied",{cluster:r,markers:u})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(n){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(n))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(n){this._spiderfied&&this._spiderfied.unspiderfy(n)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(n){n._spiderLeg&&(this._featureGroup.removeLayer(n),n.clusterShow&&n.clusterShow(),n.setZIndexOffset&&n.setZIndexOffset(0),this._map.removeLayer(n._spiderLeg),delete n._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(n){return n?n instanceof L.MarkerClusterGroup?n=n._topClusterLevel.getAllChildMarkers():n instanceof L.LayerGroup?n=n._layers:n instanceof L.MarkerCluster?n=n.getAllChildMarkers():n instanceof L.Marker&&(n=[n]):n=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(n),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(n),this},_flagParentsIconsNeedUpdate:function(n){var p,c;for(p in n)for(c=n[p].__parent;c;)c._iconNeedsUpdate=!0,c=c.__parent},_refreshSingleMarkerModeMarkers:function(n){var p,c;for(p in n)this.hasLayer(c=n[p])&&c.setIcon(this._overrideMarkerIcon(c))}}),L.Marker.include({refreshIconOptions:function(n,p){var c=this.options.icon;return L.setOptions(c,n),this.setIcon(c),p&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),q.MarkerClusterGroup=O,q.MarkerCluster=k,Object.defineProperty(q,"__esModule",{value:!0})}),function(q,O){"object"==typeof exports&&"object"==typeof module?module.exports=O():"function"==typeof define&&define.amd?define([],O):"object"==typeof exports?exports.Quill=O():q.Quill=O()}(typeof self<"u"?self:this,function(){return function(q){function O(n){if(k[n])return k[n].exports;var p=k[n]={i:n,l:!1,exports:{}};return q[n].call(p.exports,p,p.exports,O),p.l=!0,p.exports}var k={};return O.m=q,O.c=k,O.d=function(n,p,c){O.o(n,p)||Object.defineProperty(n,p,{configurable:!1,enumerable:!0,get:c})},O.n=function(n){var p=n&&n.__esModule?function(){return n.default}:function(){return n};return O.d(p,"a",p),p},O.o=function(n,p){return Object.prototype.hasOwnProperty.call(n,p)},O.p="",O(O.s=45)}([function(q,O,k){"use strict";Object.defineProperty(O,"__esModule",{value:!0});var n=k(17),p=k(18),c=k(19),y=k(48),g=k(49),d=k(50),o=k(51),r=k(52),a=k(11),l=k(29),f=k(30),h=k(28),u=k(1);O.default={Scope:u.Scope,create:u.create,find:u.find,query:u.query,register:u.register,Container:n.default,Format:p.default,Leaf:c.default,Embed:o.default,Scroll:y.default,Block:d.default,Inline:g.default,Text:r.default,Attributor:{Attribute:a.default,Class:l.default,Style:f.default,Store:h.default}}},function(q,O,k){"use strict";function c(h,u){var m;if(void 0===u&&(u=f.ANY),"string"==typeof h)m=l[h]||o[h];else if(h instanceof Text||h.nodeType===Node.TEXT_NODE)m=l.text;else if("number"==typeof h)h&f.LEVEL&f.BLOCK?m=l.block:h&f.LEVEL&f.INLINE&&(m=l.inline);else if(h instanceof HTMLElement){var x=(h.getAttribute("class")||"").split(/\s+/);for(var _ in x)if(m=r[x[_]])break;m=m||a[h.tagName]}return null==m?null:u&f.LEVEL&m.scope&&u&f.TYPE&m.scope?m:null}var h,g=this&&this.__extends||(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var x in m)m.hasOwnProperty(x)&&(u[x]=m[x])},function(u,m){function x(){this.constructor=u}h(u,m),u.prototype=null===m?Object.create(m):(x.prototype=m.prototype,new x)});Object.defineProperty(O,"__esModule",{value:!0});var d=function(h){function u(m){var x=this;return(x=h.call(this,m="[Parchment] "+m)||this).message=m,x.name=x.constructor.name,x}return g(u,h),u}(Error);O.ParchmentError=d;var f,o={},r={},a={},l={};O.DATA_KEY="__blot",function(h){h[h.TYPE=3]="TYPE",h[h.LEVEL=12]="LEVEL",h[h.ATTRIBUTE=13]="ATTRIBUTE",h[h.BLOT=14]="BLOT",h[h.INLINE=7]="INLINE",h[h.BLOCK=11]="BLOCK",h[h.BLOCK_BLOT=10]="BLOCK_BLOT",h[h.INLINE_BLOT=6]="INLINE_BLOT",h[h.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",h[h.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",h[h.ANY=15]="ANY"}(f=O.Scope||(O.Scope={})),O.create=function n(h,u){var m=c(h);if(null==m)throw new d("Unable to create "+h+" blot");return new m(h instanceof Node||h.nodeType===Node.TEXT_NODE?h:m.create(u),u)},O.find=function p(h,u){return void 0===u&&(u=!1),null==h?null:null!=h[O.DATA_KEY]?h[O.DATA_KEY].blot:u?p(h.parentNode,u):null},O.query=c,O.register=function y(){for(var h=[],u=0;u<arguments.length;u++)h[u]=arguments[u];if(h.length>1)return h.map(function(_){return y(_)});var m=h[0];if("string"!=typeof m.blotName&&"string"!=typeof m.attrName)throw new d("Invalid definition");if("abstract"===m.blotName)throw new d("Cannot register abstract class");return l[m.blotName||m.attrName]=m,"string"==typeof m.keyName?o[m.keyName]=m:(null!=m.className&&(r[m.className]=m),null!=m.tagName&&(m.tagName=Array.isArray(m.tagName)?m.tagName.map(function(_){return _.toUpperCase()}):m.tagName.toUpperCase(),(Array.isArray(m.tagName)?m.tagName:[m.tagName]).forEach(function(_){null!=a[_]&&null!=m.className||(a[_]=m)}))),m}},function(q,O){"use strict";var k=Object.prototype.hasOwnProperty,n=Object.prototype.toString,p=Object.defineProperty,c=Object.getOwnPropertyDescriptor,y=function(r){return"function"==typeof Array.isArray?Array.isArray(r):"[object Array]"===n.call(r)},g=function(r){if(!r||"[object Object]"!==n.call(r))return!1;var f,a=k.call(r,"constructor"),l=r.constructor&&r.constructor.prototype&&k.call(r.constructor.prototype,"isPrototypeOf");if(r.constructor&&!a&&!l)return!1;for(f in r);return void 0===f||k.call(r,f)},d=function(r,a){p&&"__proto__"===a.name?p(r,a.name,{enumerable:!0,configurable:!0,value:a.newValue,writable:!0}):r[a.name]=a.newValue},o=function(r,a){if("__proto__"===a){if(!k.call(r,a))return;if(c)return c(r,a).value}return r[a]};q.exports=function r(){var a,l,f,h,u,m,x=arguments[0],_=1,P=arguments.length,S=!1;for("boolean"==typeof x&&(S=x,x=arguments[1]||{},_=2),(null==x||"object"!=typeof x&&"function"!=typeof x)&&(x={});_<P;++_)if(null!=(a=arguments[_]))for(l in a)f=o(x,l),x!==(h=o(a,l))&&(S&&h&&(g(h)||(u=y(h)))?(u?(u=!1,m=f&&y(f)?f:[]):m=f&&g(f)?f:{},d(x,{name:l,newValue:r(S,m,h)})):void 0!==h&&d(x,{name:l,newValue:h}));return x}},function(q,O,k){"use strict";function n(C){return C&&C.__esModule?C:{default:C}}function p(C,b){if(!(C instanceof b))throw new TypeError("Cannot call a class as a function")}function c(C,b){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?C:b}function y(C,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);C.prototype=Object.create(b&&b.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(C,b):C.__proto__=b)}function g(C){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==C?b:("function"==typeof C.formats&&(b=(0,a.default)(b,C.formats())),null==C.parent||"scroll"==C.parent.blotName||C.parent.statics.scope!==C.statics.scope?b:g(C.parent,b))}Object.defineProperty(O,"__esModule",{value:!0}),O.default=O.BlockEmbed=O.bubbleFormats=void 0;var d=function(){function C(b,w){for(var j=0;j<w.length;j++){var z=w[j];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(b,z.key,z)}}return function(b,w,j){return w&&C(b.prototype,w),j&&C(b,j),b}}(),o=function C(b,w,j){null===b&&(b=Function.prototype);var z=Object.getOwnPropertyDescriptor(b,w);if(void 0===z){var G=Object.getPrototypeOf(b);return null===G?void 0:C(G,w,j)}if("value"in z)return z.value;var Y=z.get;return void 0!==Y?Y.call(j):void 0},a=n(k(2)),f=n(k(4)),u=n(k(0)),x=n(k(14)),P=n(k(5)),M=n(k(8)),N=function(C){function b(){return p(this,b),c(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return y(b,C),d(b,[{key:"attach",value:function(){o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"attach",this).call(this),this.attributes=new u.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new f.default).insert(this.value(),(0,a.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(w,j){var z=u.default.query(w,u.default.Scope.BLOCK_ATTRIBUTE);null!=z&&this.attributes.attribute(z,j)}},{key:"formatAt",value:function(w,j,z,G){this.format(z,G)}},{key:"insertAt",value:function(w,j,z){if("string"==typeof j&&j.endsWith("\n")){var G=u.default.create(T.blotName);this.parent.insertBefore(G,0===w?this:this.next),G.insertAt(0,j.slice(0,-1))}else o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertAt",this).call(this,w,j,z)}}]),b}(u.default.Embed);N.scope=u.default.Scope.BLOCK_BLOT;var T=function(C){function b(w){p(this,b);var j=c(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,w));return j.cache={},j}return y(b,C),d(b,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(u.default.Leaf).reduce(function(w,j){return 0===j.length()?w:w.insert(j.value(),g(j))},new f.default).insert("\n",g(this))),this.cache.delta}},{key:"deleteAt",value:function(w,j){o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"deleteAt",this).call(this,w,j),this.cache={}}},{key:"formatAt",value:function(w,j,z,G){j<=0||(u.default.query(z,u.default.Scope.BLOCK)?w+j===this.length()&&this.format(z,G):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,w,Math.min(j,this.length()-w-1),z,G),this.cache={})}},{key:"insertAt",value:function(w,j,z){if(null!=z)return o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertAt",this).call(this,w,j,z);if(0!==j.length){var G=j.split("\n"),Y=G.shift();Y.length>0&&(w<this.length()-1||null==this.children.tail?o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertAt",this).call(this,Math.min(w,this.length()-1),Y):this.children.tail.insertAt(this.children.tail.length(),Y),this.cache={});var X=this;G.reduce(function($,F){return(X=X.split($,!0)).insertAt(0,F),F.length},w+Y.length)}}},{key:"insertBefore",value:function(w,j){var z=this.children.head;o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertBefore",this).call(this,w,j),z instanceof x.default&&z.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(w,j){o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"moveChildren",this).call(this,w,j),this.cache={}}},{key:"optimize",value:function(w){o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,w),this.cache={}}},{key:"path",value:function(w){return o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"path",this).call(this,w,!0)}},{key:"removeChild",value:function(w){o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"removeChild",this).call(this,w),this.cache={}}},{key:"split",value:function(w){var j=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(j&&(0===w||w>=this.length()-1)){var z=this.clone();return 0===w?(this.parent.insertBefore(z,this),this):(this.parent.insertBefore(z,this.next),z)}var G=o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"split",this).call(this,w,j);return this.cache={},G}}]),b}(u.default.Block);T.blotName="block",T.tagName="P",T.defaultChild="break",T.allowedChildren=[P.default,u.default.Embed,M.default],O.bubbleFormats=g,O.BlockEmbed=N,O.default=T},function(q,O,k){var n=k(54),p=k(12),c=k(2),y=k(20),g=String.fromCharCode(0),d=function(o){this.ops=Array.isArray(o)?o:null!=o&&Array.isArray(o.ops)?o.ops:[]};d.prototype.insert=function(o,r){var a={};return 0===o.length?this:(a.insert=o,null!=r&&"object"==typeof r&&Object.keys(r).length>0&&(a.attributes=r),this.push(a))},d.prototype.delete=function(o){return o<=0?this:this.push({delete:o})},d.prototype.retain=function(o,r){if(o<=0)return this;var a={retain:o};return null!=r&&"object"==typeof r&&Object.keys(r).length>0&&(a.attributes=r),this.push(a)},d.prototype.push=function(o){var r=this.ops.length,a=this.ops[r-1];if(o=c(!0,{},o),"object"==typeof a){if("number"==typeof o.delete&&"number"==typeof a.delete)return this.ops[r-1]={delete:a.delete+o.delete},this;if("number"==typeof a.delete&&null!=o.insert&&"object"!=typeof(a=this.ops[(r-=1)-1]))return this.ops.unshift(o),this;if(p(o.attributes,a.attributes)){if("string"==typeof o.insert&&"string"==typeof a.insert)return this.ops[r-1]={insert:a.insert+o.insert},"object"==typeof o.attributes&&(this.ops[r-1].attributes=o.attributes),this;if("number"==typeof o.retain&&"number"==typeof a.retain)return this.ops[r-1]={retain:a.retain+o.retain},"object"==typeof o.attributes&&(this.ops[r-1].attributes=o.attributes),this}}return r===this.ops.length?this.ops.push(o):this.ops.splice(r,0,o),this},d.prototype.chop=function(){var o=this.ops[this.ops.length-1];return o&&o.retain&&!o.attributes&&this.ops.pop(),this},d.prototype.filter=function(o){return this.ops.filter(o)},d.prototype.forEach=function(o){this.ops.forEach(o)},d.prototype.map=function(o){return this.ops.map(o)},d.prototype.partition=function(o){var r=[],a=[];return this.forEach(function(l){(o(l)?r:a).push(l)}),[r,a]},d.prototype.reduce=function(o,r){return this.ops.reduce(o,r)},d.prototype.changeLength=function(){return this.reduce(function(o,r){return r.insert?o+y.length(r):r.delete?o-r.delete:o},0)},d.prototype.length=function(){return this.reduce(function(o,r){return o+y.length(r)},0)},d.prototype.slice=function(o,r){o=o||0,"number"!=typeof r&&(r=1/0);for(var a=[],l=y.iterator(this.ops),f=0;f<r&&l.hasNext();){var h;f<o?h=l.next(o-f):(h=l.next(r-f),a.push(h)),f+=y.length(h)}return new d(a)},d.prototype.compose=function(o){var r=y.iterator(this.ops),a=y.iterator(o.ops),l=[],f=a.peek();if(null!=f&&"number"==typeof f.retain&&null==f.attributes){for(var h=f.retain;"insert"===r.peekType()&&r.peekLength()<=h;)h-=r.peekLength(),l.push(r.next());f.retain-h>0&&a.next(f.retain-h)}for(var u=new d(l);r.hasNext()||a.hasNext();)if("insert"===a.peekType())u.push(a.next());else if("delete"===r.peekType())u.push(r.next());else{var m=Math.min(r.peekLength(),a.peekLength()),x=r.next(m),_=a.next(m);if("number"==typeof _.retain){var P={};"number"==typeof x.retain?P.retain=m:P.insert=x.insert;var S=y.attributes.compose(x.attributes,_.attributes,"number"==typeof x.retain);if(S&&(P.attributes=S),u.push(P),!a.hasNext()&&p(u.ops[u.ops.length-1],P)){var M=new d(r.rest());return u.concat(M).chop()}}else"number"==typeof _.delete&&"number"==typeof x.retain&&u.push(_)}return u.chop()},d.prototype.concat=function(o){var r=new d(this.ops.slice());return o.ops.length>0&&(r.push(o.ops[0]),r.ops=r.ops.concat(o.ops.slice(1))),r},d.prototype.diff=function(o,r){if(this.ops===o.ops)return new d;var a=[this,o].map(function(m){return m.map(function(x){if(null!=x.insert)return"string"==typeof x.insert?x.insert:g;throw new Error("diff() called "+(m===o?"on":"with")+" non-document")}).join("")}),l=new d,f=n(a[0],a[1],r),h=y.iterator(this.ops),u=y.iterator(o.ops);return f.forEach(function(m){for(var x=m[1].length;x>0;){var _=0;switch(m[0]){case n.INSERT:_=Math.min(u.peekLength(),x),l.push(u.next(_));break;case n.DELETE:_=Math.min(x,h.peekLength()),h.next(_),l.delete(_);break;case n.EQUAL:_=Math.min(h.peekLength(),u.peekLength(),x);var P=h.next(_),S=u.next(_);p(P.insert,S.insert)?l.retain(_,y.attributes.diff(P.attributes,S.attributes)):l.push(S).delete(_)}x-=_}}),l.chop()},d.prototype.eachLine=function(o,r){r=r||"\n";for(var a=y.iterator(this.ops),l=new d,f=0;a.hasNext();){if("insert"!==a.peekType())return;var h=a.peek(),u=y.length(h)-a.peekLength(),m="string"==typeof h.insert?h.insert.indexOf(r,u)-u:-1;if(m<0)l.push(a.next());else if(m>0)l.push(a.next(m));else{if(!1===o(l,a.next(1).attributes||{},f))return;f+=1,l=new d}}l.length()>0&&o(l,{},f)},d.prototype.transform=function(o,r){if(r=!!r,"number"==typeof o)return this.transformPosition(o,r);for(var a=y.iterator(this.ops),l=y.iterator(o.ops),f=new d;a.hasNext()||l.hasNext();)if("insert"!==a.peekType()||!r&&"insert"===l.peekType())if("insert"===l.peekType())f.push(l.next());else{var h=Math.min(a.peekLength(),l.peekLength()),u=a.next(h),m=l.next(h);if(u.delete)continue;m.delete?f.push(m):f.retain(h,y.attributes.transform(u.attributes,m.attributes,r))}else f.retain(y.length(a.next()));return f.chop()},d.prototype.transformPosition=function(o,r){r=!!r;for(var a=y.iterator(this.ops),l=0;a.hasNext()&&l<=o;){var f=a.peekLength(),h=a.peekType();a.next(),"delete"!==h?("insert"===h&&(l<o||!r)&&(o+=f),l+=f):o-=Math.min(f,o-l)}return o},q.exports=d},function(q,O,k){"use strict";function n(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(O,"__esModule",{value:!0});var g=function(){function h(u,m){for(var x=0;x<m.length;x++){var _=m[x];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(u,_.key,_)}}return function(u,m,x){return m&&h(u.prototype,m),x&&h(u,x),u}}(),d=function h(u,m,x){null===u&&(u=Function.prototype);var _=Object.getOwnPropertyDescriptor(u,m);if(void 0===_){var P=Object.getPrototypeOf(u);return null===P?void 0:h(P,m,x)}if("value"in _)return _.value;var S=_.get;return void 0!==S?S.call(x):void 0},r=n(k(8)),l=n(k(0)),f=function(h){function u(){return function p(h,u){if(!(h instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u),function c(h,u){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?h:u}(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return function y(h,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);h.prototype=Object.create(u&&u.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(h,u):h.__proto__=u)}(u,h),g(u,[{key:"formatAt",value:function(m,x,_,P){if(u.compare(this.statics.blotName,_)<0&&l.default.query(_,l.default.Scope.BLOT)){var S=this.isolate(m,x);P&&S.wrap(_,P)}else d(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"formatAt",this).call(this,m,x,_,P)}},{key:"optimize",value:function(m){if(d(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"optimize",this).call(this,m),this.parent instanceof u&&u.compare(this.statics.blotName,this.parent.statics.blotName)>0){var x=this.parent.isolate(this.offset(),this.length());this.moveChildren(x),x.wrap(this)}}}],[{key:"compare",value:function(m,x){var _=u.order.indexOf(m),P=u.order.indexOf(x);return _>=0||P>=0?_-P:m===x?0:m<x?-1:1}}]),u}(l.default.Inline);f.allowedChildren=[f,l.default.Embed,r.default],f.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],O.default=f},function(q,O,k){"use strict";function n(F){return F&&F.__esModule?F:{default:F}}function p(F,E,I){return E in F?Object.defineProperty(F,E,{value:I,enumerable:!0,configurable:!0,writable:!0}):F[E]=I,F}function y(F,E){if((E=(0,w.default)(!0,{container:F,modules:{clipboard:!0,keyboard:!0,history:!0}},E)).theme&&E.theme!==$.DEFAULTS.theme){if(E.theme=$.import("themes/"+E.theme),null==E.theme)throw new Error("Invalid theme "+E.theme+". Did you register it?")}else E.theme=Y.default;var I=(0,w.default)(!0,{},E.theme.DEFAULTS);[I,E].forEach(function(H){H.modules=H.modules||{},Object.keys(H.modules).forEach(function(D){!0===H.modules[D]&&(H.modules[D]={})})});var Z=Object.keys(I.modules).concat(Object.keys(E.modules)).reduce(function(H,D){var B=$.import("modules/"+D);return null==B?X.error("Cannot load "+D+" module. Are you sure you registered it?"):H[D]=B.DEFAULTS||{},H},{});return null!=E.modules&&E.modules.toolbar&&E.modules.toolbar.constructor!==Object&&(E.modules.toolbar={container:E.modules.toolbar}),E=(0,w.default)(!0,{},$.DEFAULTS,{modules:Z},I,E),["bounds","container","scrollingContainer"].forEach(function(H){"string"==typeof E[H]&&(E[H]=document.querySelector(E[H]))}),E.modules=Object.keys(E.modules).reduce(function(H,D){return E.modules[D]&&(H[D]=E.modules[D]),H},{}),E}function g(F,E,I,R){if(this.options.strict&&!this.isEnabled()&&E===_.default.sources.USER)return new h.default;var Z=null==I?null:this.getSelection(),H=this.editor.delta,D=F();if(null!=Z&&(!0===I&&(I=Z.index),null==R?Z=o(Z,D,E):0!==R&&(Z=o(Z,I,R,E)),this.setSelection(Z,_.default.sources.SILENT)),D.length()>0){var B,K,V=[_.default.events.TEXT_CHANGE,D,H,E];(B=this.emitter).emit.apply(B,[_.default.events.EDITOR_CHANGE].concat(V)),E!==_.default.sources.SILENT&&(K=this.emitter).emit.apply(K,V)}return D}function d(F,E,I,R,Z){var H={};return"number"==typeof F.index&&"number"==typeof F.length?"number"!=typeof E?(Z=R,R=I,I=E,E=F.length,F=F.index):(E=F.length,F=F.index):"number"!=typeof E&&(Z=R,R=I,I=E,E=0),"object"===(void 0===I?"undefined":r(I))?(H=I,Z=R):"string"==typeof I&&(null!=R?H[I]=R:Z=I),[F,E,H,Z=Z||_.default.sources.API]}function o(F,E,I,R){if(null==F)return null;var Z=void 0,H=void 0;if(E instanceof h.default){var D=[F.index,F.index+F.length].map(function(it){return E.transformPosition(it,R!==_.default.sources.USER)}),B=a(D,2);Z=B[0],H=B[1]}else{var V=[F.index,F.index+F.length].map(function(it){return it<E||it===E&&R===_.default.sources.USER?it:I>=0?it+I:Math.max(E,it+I)}),K=a(V,2);Z=K[0],H=K[1]}return new T.Range(Z,H-Z)}Object.defineProperty(O,"__esModule",{value:!0}),O.default=O.overload=O.expandConfig=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(F){return typeof F}:function(F){return F&&"function"==typeof Symbol&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},a=function(E,I){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return function F(E,I){var R=[],Z=!0,H=!1,D=void 0;try{for(var B,V=E[Symbol.iterator]();!(Z=(B=V.next()).done)&&(R.push(B.value),!I||R.length!==I);Z=!0);}catch(K){H=!0,D=K}finally{try{!Z&&V.return&&V.return()}finally{if(H)throw D}}return R}(E,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")},l=function(){function F(E,I){for(var R=0;R<I.length;R++){var Z=I[R];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(E,Z.key,Z)}}return function(E,I,R){return I&&F(E.prototype,I),R&&F(E,R),E}}();k(53);var h=n(k(4)),m=n(k(57)),_=n(k(9)),S=n(k(7)),N=n(k(0)),T=k(22),C=n(T),w=n(k(2)),z=n(k(10)),Y=n(k(32)),X=(0,z.default)("quill"),$=function(){function F(E){var I=this,R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function c(F,E){if(!(F instanceof E))throw new TypeError("Cannot call a class as a function")}(this,F),this.options=y(E,R),this.container=this.options.container,null==this.container)return X.error("Invalid Quill container",E);this.options.debug&&F.debug(this.options.debug);var Z=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new _.default,this.scroll=N.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new m.default(this.scroll),this.selection=new C.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(_.default.events.EDITOR_CHANGE,function(D){D===_.default.events.TEXT_CHANGE&&I.root.classList.toggle("ql-blank",I.editor.isBlank())}),this.emitter.on(_.default.events.SCROLL_UPDATE,function(D,B){var V=I.selection.lastRange,K=V&&0===V.length?V.index:void 0;g.call(I,function(){return I.editor.update(null,B,K)},D)});var H=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+Z+"<p><br></p></div>");this.setContents(H),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l(F,null,[{key:"debug",value:function(E){!0===E&&(E="log"),z.default.level(E)}},{key:"find",value:function(E){return E.__quill||N.default.find(E)}},{key:"import",value:function(E){return null==this.imports[E]&&X.error("Cannot import "+E+". Are you sure it was registered?"),this.imports[E]}},{key:"register",value:function(E,I){var R=this,Z=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof E){var H=E.attrName||E.blotName;"string"==typeof H?this.register("formats/"+H,E,I):Object.keys(E).forEach(function(D){R.register(D,E[D],I)})}else null==this.imports[E]||Z||X.warn("Overwriting "+E+" with",I),this.imports[E]=I,(E.startsWith("blots/")||E.startsWith("formats/"))&&"abstract"!==I.blotName?N.default.register(I):E.startsWith("modules")&&"function"==typeof I.register&&I.register()}}]),l(F,[{key:"addContainer",value:function(E){var I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof E){var R=E;(E=document.createElement("div")).classList.add(R)}return this.container.insertBefore(E,I),E}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(E,I,R){var Z=this,H=d(E,I,R),D=a(H,4);return g.call(this,function(){return Z.editor.deleteText(E,I)},R=D[3],E=D[0],-1*(I=D[1]))}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var E=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(E),this.container.classList.toggle("ql-disabled",!E)}},{key:"focus",value:function(){var E=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=E,this.scrollIntoView()}},{key:"format",value:function(E,I){var R=this;return g.call(this,function(){var H=R.getSelection(!0),D=new h.default;if(null==H)return D;if(N.default.query(E,N.default.Scope.BLOCK))D=R.editor.formatLine(H.index,H.length,p({},E,I));else{if(0===H.length)return R.selection.format(E,I),D;D=R.editor.formatText(H.index,H.length,p({},E,I))}return R.setSelection(H,_.default.sources.SILENT),D},arguments.length>2&&void 0!==arguments[2]?arguments[2]:_.default.sources.API)}},{key:"formatLine",value:function(E,I,R,Z,H){var B,D=this,V=d(E,I,R,Z,H),K=a(V,4);return I=K[1],B=K[2],g.call(this,function(){return D.editor.formatLine(E,I,B)},H=K[3],E=K[0],0)}},{key:"formatText",value:function(E,I,R,Z,H){var B,D=this,V=d(E,I,R,Z,H),K=a(V,4);return I=K[1],B=K[2],g.call(this,function(){return D.editor.formatText(E,I,B)},H=K[3],E=K[0],0)}},{key:"getBounds",value:function(E){var R;R="number"==typeof E?this.selection.getBounds(E,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.selection.getBounds(E.index,E.length);var Z=this.container.getBoundingClientRect();return{bottom:R.bottom-Z.top,height:R.height,left:R.left-Z.left,right:R.right-Z.left,top:R.top-Z.top,width:R.width}}},{key:"getContents",value:function(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-E,R=d(E,I),Z=a(R,2);return this.editor.getContents(E=Z[0],I=Z[1])}},{key:"getFormat",value:function(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0);return"number"==typeof E?this.editor.getFormat(E,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.editor.getFormat(E.index,E.length)}},{key:"getIndex",value:function(E){return E.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(E){return this.scroll.leaf(E)}},{key:"getLine",value:function(E){return this.scroll.line(E)}},{key:"getLines",value:function(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof E?this.scroll.lines(E.index,E.length):this.scroll.lines(E,I)}},{key:"getModule",value:function(E){return this.theme.modules[E]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-E,R=d(E,I),Z=a(R,2);return this.editor.getText(E=Z[0],I=Z[1])}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(E,I,R){var Z=this;return g.call(this,function(){return Z.editor.insertEmbed(E,I,R)},arguments.length>3&&void 0!==arguments[3]?arguments[3]:F.sources.API,E)}},{key:"insertText",value:function(E,I,R,Z,H){var B,D=this,V=d(E,0,R,Z,H),K=a(V,4);return B=K[2],g.call(this,function(){return D.editor.insertText(E,I,B)},H=K[3],E=K[0],I.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(E,I,R){this.clipboard.dangerouslyPasteHTML(E,I,R)}},{key:"removeFormat",value:function(E,I,R){var Z=this,H=d(E,I,R),D=a(H,4);return I=D[1],g.call(this,function(){return Z.editor.removeFormat(E,I)},R=D[3],E=D[0])}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(E){var I=this;return g.call(this,function(){E=new h.default(E);var Z=I.getLength(),H=I.editor.deleteText(0,Z),D=I.editor.applyDelta(E),B=D.ops[D.ops.length-1];return null!=B&&"string"==typeof B.insert&&"\n"===B.insert[B.insert.length-1]&&(I.editor.deleteText(I.getLength()-1,1),D.delete(1)),H.compose(D)},arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.default.sources.API)}},{key:"setSelection",value:function(E,I,R){if(null==E)this.selection.setRange(null,I||F.sources.API);else{var Z=d(E,I,R),H=a(Z,4);R=H[3],this.selection.setRange(new T.Range(E=H[0],I=H[1]),R),R!==_.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(E){var I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.default.sources.API,R=(new h.default).insert(E);return this.setContents(R,I)}},{key:"update",value:function(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.default.sources.USER,I=this.scroll.update(E);return this.selection.update(E),I}},{key:"updateContents",value:function(E){var I=this,R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.default.sources.API;return g.call(this,function(){return E=new h.default(E),I.editor.applyDelta(E,R)},R,!0)}}]),F}();$.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},$.events=_.default.events,$.sources=_.default.sources,$.version="1.3.7",$.imports={delta:h.default,parchment:N.default,"core/module":S.default,"core/theme":Y.default},O.expandConfig=y,O.overload=d,O.default=$},function(q,O,k){"use strict";Object.defineProperty(O,"__esModule",{value:!0});var p=function c(y){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function n(c,y){if(!(c instanceof y))throw new TypeError("Cannot call a class as a function")})(this,c),this.quill=y,this.options=g};p.DEFAULTS={},O.default=p},function(q,O,k){"use strict";Object.defineProperty(O,"__esModule",{value:!0});var o,d=function(o){function r(){return function n(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),function p(o,r){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?o:r}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function c(o,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);o.prototype=Object.create(r&&r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(o,r):o.__proto__=r)}(r,o),r}(((o=k(0))&&o.__esModule?o:{default:o}).default.Text);O.default=d},function(q,O,k){"use strict";function n(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(O,"__esModule",{value:!0});var g=function(){function u(m,x){for(var _=0;_<x.length;_++){var P=x[_];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(m,P.key,P)}}return function(m,x,_){return x&&u(m.prototype,x),_&&u(m,_),m}}(),d=function u(m,x,_){null===m&&(m=Function.prototype);var P=Object.getOwnPropertyDescriptor(m,x);if(void 0===P){var S=Object.getPrototypeOf(m);return null===S?void 0:u(S,x,_)}if("value"in P)return P.value;var M=P.get;return void 0!==M?M.call(_):void 0},r=n(k(58)),f=(0,n(k(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(u){document.addEventListener(u,function(){for(var m=arguments.length,x=Array(m),_=0;_<m;_++)x[_]=arguments[_];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(P){var S;P.__quill&&P.__quill.emitter&&(S=P.__quill.emitter).handleDOM.apply(S,x)})})});var h=function(u){function m(){!function p(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m);var x=function c(u,m){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?u:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this));return x.listeners={},x.on("error",f.error),x}return function y(u,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(u,m):u.__proto__=m)}(m,u),g(m,[{key:"emit",value:function(){f.log.apply(f,arguments),d(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(x){for(var _=arguments.length,P=Array(_>1?_-1:0),S=1;S<_;S++)P[S-1]=arguments[S];(this.listeners[x.type]||[]).forEach(function(M){var N=M.node,T=M.handler;(x.target===N||N.contains(x.target))&&T.apply(void 0,[x].concat(P))})}},{key:"listenDOM",value:function(x,_,P){this.listeners[x]||(this.listeners[x]=[]),this.listeners[x].push({node:_,handler:P})}}]),m}(r.default);h.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},h.sources={API:"api",SILENT:"silent",USER:"user"},O.default=h},function(q,O,k){"use strict";function n(g){if(c.indexOf(g)<=c.indexOf(y)){for(var d,o=arguments.length,r=Array(o>1?o-1:0),a=1;a<o;a++)r[a-1]=arguments[a];(d=console)[g].apply(d,r)}}function p(g){return c.reduce(function(d,o){return d[o]=n.bind(console,o,g),d},{})}Object.defineProperty(O,"__esModule",{value:!0});var c=["error","warn","log","info"],y="warn";n.level=p.level=function(g){y=g},O.default=p},function(q,O,k){"use strict";Object.defineProperty(O,"__esModule",{value:!0});var n=k(1),p=function(){function c(y,g,d){void 0===d&&(d={}),this.attrName=y,this.keyName=g,this.scope=null!=d.scope?d.scope&n.Scope.LEVEL|n.Scope.TYPE&n.Scope.ATTRIBUTE:n.Scope.ATTRIBUTE,null!=d.whitelist&&(this.whitelist=d.whitelist)}return c.keys=function(y){return[].map.call(y.attributes,function(g){return g.name})},c.prototype.add=function(y,g){return!!this.canAdd(y,g)&&(y.setAttribute(this.keyName,g),!0)},c.prototype.canAdd=function(y,g){return null!=n.query(y,n.Scope.BLOT&(this.scope|n.Scope.TYPE))&&(null==this.whitelist||("string"==typeof g?this.whitelist.indexOf(g.replace(/["']/g,""))>-1:this.whitelist.indexOf(g)>-1))},c.prototype.remove=function(y){y.removeAttribute(this.keyName)},c.prototype.value=function(y){var g=y.getAttribute(this.keyName);return this.canAdd(y,g)&&g?g:""},c}();O.default=p},function(q,O,k){function n(r){return null==r}function p(r){return!(!r||"object"!=typeof r||"number"!=typeof r.length||"function"!=typeof r.copy||"function"!=typeof r.slice||r.length>0&&"number"!=typeof r[0])}var y=Array.prototype.slice,g=k(55),d=k(56),o=q.exports=function(r,a,l){return l||(l={}),r===a||(r instanceof Date&&a instanceof Date?r.getTime()===a.getTime():!r||!a||"object"!=typeof r&&"object"!=typeof a?l.strict?r===a:r==a:function c(r,a,l){var f,h;if(n(r)||n(a)||r.prototype!==a.prototype)return!1;if(d(r))return!!d(a)&&(r=y.call(r),a=y.call(a),o(r,a,l));if(p(r)){if(!p(a)||r.length!==a.length)return!1;for(f=0;f<r.length;f++)if(r[f]!==a[f])return!1;return!0}try{var u=g(r),m=g(a)}catch{return!1}if(u.length!=m.length)return!1;for(u.sort(),m.sort(),f=u.length-1;f>=0;f--)if(u[f]!=m[f])return!1;for(f=u.length-1;f>=0;f--)if(!o(r[h=u[f]],a[h],l))return!1;return typeof r==typeof a}(r,a,l))}},function(q,O,k){"use strict";function n(N){return N&&N.__esModule?N:{default:N}}function p(N,T){if(!(N instanceof T))throw new TypeError("Cannot call a class as a function")}function c(N,T){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||"object"!=typeof T&&"function"!=typeof T?N:T}function y(N,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function, not "+typeof T);N.prototype=Object.create(T&&T.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(N,T):N.__proto__=T)}Object.defineProperty(O,"__esModule",{value:!0}),O.default=O.Code=void 0;var g=function(T,C){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return function N(T,C){var b=[],w=!0,j=!1,z=void 0;try{for(var G,Y=T[Symbol.iterator]();!(w=(G=Y.next()).done)&&(b.push(G.value),!C||b.length!==C);w=!0);}catch(X){j=!0,z=X}finally{try{!w&&Y.return&&Y.return()}finally{if(j)throw z}}return b}(T,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")},d=function(){function N(T,C){for(var b=0;b<C.length;b++){var w=C[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(T,w.key,w)}}return function(T,C,b){return C&&N(T.prototype,C),b&&N(T,b),T}}(),o=function N(T,C,b){null===T&&(T=Function.prototype);var w=Object.getOwnPropertyDescriptor(T,C);if(void 0===w){var j=Object.getPrototypeOf(T);return null===j?void 0:N(j,C,b)}if("value"in w)return w.value;var z=w.get;return void 0!==z?z.call(b):void 0},a=n(k(4)),f=n(k(0)),u=n(k(3)),x=n(k(5)),P=n(k(8)),S=function(N){function T(){return p(this,T),c(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return y(T,N),T}(x.default);S.blotName="code",S.tagName="CODE";var M=function(N){function T(){return p(this,T),c(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return y(T,N),d(T,[{key:"delta",value:function(){var C=this,b=this.domNode.textContent;return b.endsWith("\n")&&(b=b.slice(0,-1)),b.split("\n").reduce(function(w,j){return w.insert(j).insert("\n",C.formats())},new a.default)}},{key:"format",value:function(C,b){if(C!==this.statics.blotName||!b){var w=this.descendant(P.default,this.length()-1),z=g(w,1)[0];z?.deleteAt(z.length()-1,1),o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"format",this).call(this,C,b)}}},{key:"formatAt",value:function(C,b,w,j){if(0!==b&&null!=f.default.query(w,f.default.Scope.BLOCK)&&(w!==this.statics.blotName||j!==this.statics.formats(this.domNode))){var z=this.newlineIndex(C);if(!(z<0||z>=C+b)){var G=this.newlineIndex(C,!0)+1,Y=z-G+1,X=this.isolate(G,Y),$=X.next;X.format(w,j),$ instanceof T&&$.formatAt(0,C-G+b-Y,w,j)}}}},{key:"insertAt",value:function(C,b,w){if(null==w){var j=this.descendant(P.default,C),z=g(j,2);z[0].insertAt(z[1],b)}}},{key:"length",value:function(){var C=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?C:C+1}},{key:"newlineIndex",value:function(C){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,C).lastIndexOf("\n");var b=this.domNode.textContent.slice(C).indexOf("\n");return b>-1?C+b:-1}},{key:"optimize",value:function(C){this.domNode.textContent.endsWith("\n")||this.appendChild(f.default.create("text","\n")),o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,C);var b=this.next;null!=b&&b.prev===this&&b.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===b.statics.formats(b.domNode)&&(b.optimize(C),b.moveChildren(this),b.remove())}},{key:"replace",value:function(C){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replace",this).call(this,C),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(b){var w=f.default.find(b);null==w?b.parentNode.removeChild(b):w instanceof f.default.Embed?w.remove():w.unwrap()})}}],[{key:"create",value:function(C){var b=o(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this,C);return b.setAttribute("spellcheck",!1),b}},{key:"formats",value:function(){return!0}}]),T}(u.default);M.blotName="code-block",M.tagName="PRE",M.TAB="  ",O.Code=S,O.default=M},function(q,O,k){"use strict";Object.defineProperty(O,"__esModule",{value:!0});var a,y=function(){function a(l,f){for(var h=0;h<f.length;h++){var u=f[h];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}return function(l,f,h){return f&&a(l.prototype,f),h&&a(l,h),l}}(),g=function a(l,f,h){null===l&&(l=Function.prototype);var u=Object.getOwnPropertyDescriptor(l,f);if(void 0===u){var m=Object.getPrototypeOf(l);return null===m?void 0:a(m,f,h)}if("value"in u)return u.value;var x=u.get;return void 0!==x?x.call(h):void 0},r=function(a){function l(){return function n(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l),function p(a,l){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?a:l}(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return function c(a,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);a.prototype=Object.create(l&&l.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(a,l):a.__proto__=l)}(l,a),y(l,[{key:"insertInto",value:function(f,h){0===f.children.length?g(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"insertInto",this).call(this,f,h):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),l}(((a=k(0))&&a.__esModule?a:{default:a}).default.Embed);r.blotName="break",r.tagName="BR",O.default=r},function(q,O,k){"use strict";function y(l,f){var h=document.createElement("a");h.href=l;var u=h.href.slice(0,h.href.indexOf(":"));return f.indexOf(u)>-1}Object.defineProperty(O,"__esModule",{value:!0}),O.sanitize=O.default=void 0;var l,g=function(){function l(f,h){for(var u=0;u<h.length;u++){var m=h[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,h,u){return h&&l(f.prototype,h),u&&l(f,u),f}}(),d=function l(f,h,u){null===f&&(f=Function.prototype);var m=Object.getOwnPropertyDescriptor(f,h);if(void 0===m){var x=Object.getPrototypeOf(f);return null===x?void 0:l(x,h,u)}if("value"in m)return m.value;var _=m.get;return void 0!==_?_.call(u):void 0},a=function(l){function f(){return function n(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}(this,f),function p(l,f){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?l:f}(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return function c(l,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);l.prototype=Object.create(f&&f.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(l,f):l.__proto__=f)}(f,l),g(f,[{key:"format",value:function(h,u){if(h!==this.statics.blotName||!u)return d(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"format",this).call(this,h,u);u=this.constructor.sanitize(u),this.domNode.setAttribute("href",u)}}],[{key:"create",value:function(h){var u=d(f.__proto__||Object.getPrototypeOf(f),"create",this).call(this,h);return h=this.sanitize(h),u.setAttribute("href",h),u.setAttribute("rel","noopener noreferrer"),u.setAttribute("target","_blank"),u}},{key:"formats",value:function(h){return h.getAttribute("href")}},{key:"sanitize",value:function(h){return y(h,this.PROTOCOL_WHITELIST)?h:this.SANITIZED_URL}}]),f}(((l=k(5))&&l.__esModule?l:{default:l}).default);a.blotName="link",a.tagName="A",a.SANITIZED_URL="about:blank",a.PROTOCOL_WHITELIST=["http","https","mailto","tel"],O.default=a,O.sanitize=y},function(q,O,k){"use strict";function n(h){return h&&h.__esModule?h:{default:h}}function c(h,u){h.setAttribute(u,"true"!==h.getAttribute(u))}Object.defineProperty(O,"__esModule",{value:!0});var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},g=function(){function h(u,m){for(var x=0;x<m.length;x++){var _=m[x];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(u,_.key,_)}}return function(u,m,x){return m&&h(u.prototype,m),x&&h(u,x),u}}(),o=n(k(25)),a=n(k(106)),l=0,f=function(){function h(u){var m=this;(function p(h,u){if(!(h instanceof u))throw new TypeError("Cannot call a class as a function")})(this,h),this.select=u,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){m.togglePicker()}),this.label.addEventListener("keydown",function(x){switch(x.keyCode){case o.default.keys.ENTER:m.togglePicker();break;case o.default.keys.ESCAPE:m.escape(),x.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return g(h,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),c(this.label,"aria-expanded"),c(this.options,"aria-hidden")}},{key:"buildItem",value:function(u){var m=this,x=document.createElement("span");return x.tabIndex="0",x.setAttribute("role","button"),x.classList.add("ql-picker-item"),u.hasAttribute("value")&&x.setAttribute("data-value",u.getAttribute("value")),u.textContent&&x.setAttribute("data-label",u.textContent),x.addEventListener("click",function(){m.selectItem(x,!0)}),x.addEventListener("keydown",function(_){switch(_.keyCode){case o.default.keys.ENTER:m.selectItem(x,!0),_.preventDefault();break;case o.default.keys.ESCAPE:m.escape(),_.preventDefault()}}),x}},{key:"buildLabel",value:function(){var u=document.createElement("span");return u.classList.add("ql-picker-label"),u.innerHTML=a.default,u.tabIndex="0",u.setAttribute("role","button"),u.setAttribute("aria-expanded","false"),this.container.appendChild(u),u}},{key:"buildOptions",value:function(){var u=this,m=document.createElement("span");m.classList.add("ql-picker-options"),m.setAttribute("aria-hidden","true"),m.tabIndex="-1",m.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",m.id),this.options=m,[].slice.call(this.select.options).forEach(function(x){var _=u.buildItem(x);m.appendChild(_),!0===x.selected&&u.selectItem(_)}),this.container.appendChild(m)}},{key:"buildPicker",value:function(){var u=this;[].slice.call(this.select.attributes).forEach(function(m){u.container.setAttribute(m.name,m.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var u=this;this.close(),setTimeout(function(){return u.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(u){var m=arguments.length>1&&void 0!==arguments[1]&&arguments[1],x=this.container.querySelector(".ql-selected");if(u!==x&&(x?.classList.remove("ql-selected"),null!=u&&(u.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(u.parentNode.children,u),u.hasAttribute("data-value")?this.label.setAttribute("data-value",u.getAttribute("data-value")):this.label.removeAttribute("data-value"),u.hasAttribute("data-label")?this.label.setAttribute("data-label",u.getAttribute("data-label")):this.label.removeAttribute("data-label"),m))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===(typeof Event>"u"?"undefined":y(Event))){var _=document.createEvent("Event");_.initEvent("change",!0,!0),this.select.dispatchEvent(_)}this.close()}}},{key:"update",value:function(){var u=void 0;if(this.select.selectedIndex>-1){var m=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];u=this.select.options[this.select.selectedIndex],this.selectItem(m)}else this.selectItem(null);var x=null!=u&&u!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",x)}}]),h}();O.default=f},function(q,O,k){"use strict";function n(o){var r=g.find(o);if(null==r)try{r=g.create(o)}catch{r=g.create(g.Scope.INLINE),[].slice.call(o.childNodes).forEach(function(l){r.domNode.appendChild(l)}),o.parentNode&&o.parentNode.replaceChild(r.domNode,o),r.attach()}return r}var o,p=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)a.hasOwnProperty(l)&&(r[l]=a[l])},function(r,a){function l(){this.constructor=r}o(r,a),r.prototype=null===a?Object.create(a):(l.prototype=a.prototype,new l)});Object.defineProperty(O,"__esModule",{value:!0});var c=k(47),y=k(27),g=k(1),d=function(o){function r(a){var l=o.call(this,a)||this;return l.build(),l}return p(r,o),r.prototype.appendChild=function(a){this.insertBefore(a)},r.prototype.attach=function(){o.prototype.attach.call(this),this.children.forEach(function(a){a.attach()})},r.prototype.build=function(){var a=this;this.children=new c.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(l){try{var f=n(l);a.insertBefore(f,a.children.head||void 0)}catch(h){if(h instanceof g.ParchmentError)return;throw h}})},r.prototype.deleteAt=function(a,l){if(0===a&&l===this.length())return this.remove();this.children.forEachAt(a,l,function(f,h,u){f.deleteAt(h,u)})},r.prototype.descendant=function(a,l){var f=this.children.find(l),h=f[0],u=f[1];return null==a.blotName&&a(h)||null!=a.blotName&&h instanceof a?[h,u]:h instanceof r?h.descendant(a,u):[null,-1]},r.prototype.descendants=function(a,l,f){void 0===l&&(l=0),void 0===f&&(f=Number.MAX_VALUE);var h=[],u=f;return this.children.forEachAt(l,f,function(m,x,_){(null==a.blotName&&a(m)||null!=a.blotName&&m instanceof a)&&h.push(m),m instanceof r&&(h=h.concat(m.descendants(a,x,u))),u-=_}),h},r.prototype.detach=function(){this.children.forEach(function(a){a.detach()}),o.prototype.detach.call(this)},r.prototype.formatAt=function(a,l,f,h){this.children.forEachAt(a,l,function(u,m,x){u.formatAt(m,x,f,h)})},r.prototype.insertAt=function(a,l,f){var h=this.children.find(a),u=h[0];if(u)u.insertAt(h[1],l,f);else{var x=null==f?g.create("text",l):g.create(l,f);this.appendChild(x)}},r.prototype.insertBefore=function(a,l){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(f){return a instanceof f}))throw new g.ParchmentError("Cannot insert "+a.statics.blotName+" into "+this.statics.blotName);a.insertInto(this,l)},r.prototype.length=function(){return this.children.reduce(function(a,l){return a+l.length()},0)},r.prototype.moveChildren=function(a,l){this.children.forEach(function(f){a.insertBefore(f,l)})},r.prototype.optimize=function(a){if(o.prototype.optimize.call(this,a),0===this.children.length)if(null!=this.statics.defaultChild){var l=g.create(this.statics.defaultChild);this.appendChild(l),l.optimize(a)}else this.remove()},r.prototype.path=function(a,l){void 0===l&&(l=!1);var f=this.children.find(a,l),h=f[0],u=f[1],m=[[this,a]];return h instanceof r?m.concat(h.path(u,l)):(null!=h&&m.push([h,u]),m)},r.prototype.removeChild=function(a){this.children.remove(a)},r.prototype.replace=function(a){a instanceof r&&a.moveChildren(this),o.prototype.replace.call(this,a)},r.prototype.split=function(a,l){if(void 0===l&&(l=!1),!l){if(0===a)return this;if(a===this.length())return this.next}var f=this.clone();return this.parent.insertBefore(f,this.next),this.children.forEachAt(a,this.length(),function(h,u,m){h=h.split(u,l),f.appendChild(h)}),f},r.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},r.prototype.update=function(a,l){var f=this,h=[],u=[];a.forEach(function(m){m.target===f.domNode&&"childList"===m.type&&(h.push.apply(h,m.addedNodes),u.push.apply(u,m.removedNodes))}),u.forEach(function(m){if(!(null!=m.parentNode&&"IFRAME"!==m.tagName&&document.body.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var x=g.find(m);null!=x&&(null!=x.domNode.parentNode&&x.domNode.parentNode!==f.domNode||x.detach())}}),h.filter(function(m){return m.parentNode==f.domNode}).sort(function(m,x){return m===x?0:m.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(m){var x=null;null!=m.nextSibling&&(x=g.find(m.nextSibling));var _=n(m);_.next==x&&null!=_.next||(null!=_.parent&&_.parent.removeChild(f),f.insertBefore(_,x||void 0))})},r}(y.default);O.default=d},function(q,O,k){"use strict";var o,n=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)a.hasOwnProperty(l)&&(r[l]=a[l])},function(r,a){function l(){this.constructor=r}o(r,a),r.prototype=null===a?Object.create(a):(l.prototype=a.prototype,new l)});Object.defineProperty(O,"__esModule",{value:!0});var p=k(11),c=k(28),y=k(17),g=k(1),d=function(o){function r(a){var l=o.call(this,a)||this;return l.attributes=new c.default(l.domNode),l}return n(r,o),r.formats=function(a){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?a.tagName.toLowerCase():void 0)},r.prototype.format=function(a,l){var f=g.query(a);f instanceof p.default?this.attributes.attribute(f,l):l&&(null==f||a===this.statics.blotName&&this.formats()[a]===l||this.replaceWith(a,l))},r.prototype.formats=function(){var a=this.attributes.values(),l=this.statics.formats(this.domNode);return null!=l&&(a[this.statics.blotName]=l),a},r.prototype.replaceWith=function(a,l){var f=o.prototype.replaceWith.call(this,a,l);return this.attributes.copy(f),f},r.prototype.update=function(a,l){var f=this;o.prototype.update.call(this,a,l),a.some(function(h){return h.target===f.domNode&&"attributes"===h.type})&&this.attributes.build()},r.prototype.wrap=function(a,l){var f=o.prototype.wrap.call(this,a,l);return f instanceof r&&f.statics.scope===this.statics.scope&&this.attributes.move(f),f},r}(y.default);O.default=d},function(q,O,k){"use strict";var g,n=this&&this.__extends||(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,o){d.__proto__=o}||function(d,o){for(var r in o)o.hasOwnProperty(r)&&(d[r]=o[r])},function(d,o){function r(){this.constructor=d}g(d,o),d.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)});Object.defineProperty(O,"__esModule",{value:!0});var p=k(27),c=k(1),y=function(g){function d(){return null!==g&&g.apply(this,arguments)||this}return n(d,g),d.value=function(o){return!0},d.prototype.index=function(o,r){return this.domNode===o||this.domNode.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(r,1):-1},d.prototype.position=function(o,r){var a=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return o>0&&(a+=1),[this.parent.domNode,a]},d.prototype.value=function(){var o;return(o={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,o},d.scope=c.Scope.INLINE_BLOT,d}(p.default);O.default=y},function(q,O,k){function n(g){this.ops=g,this.index=0,this.offset=0}var p=k(12),c=k(2),y={attributes:{compose:function(g,d,o){"object"!=typeof g&&(g={}),"object"!=typeof d&&(d={});var r=c(!0,{},d);for(var a in o||(r=Object.keys(r).reduce(function(l,f){return null!=r[f]&&(l[f]=r[f]),l},{})),g)void 0!==g[a]&&void 0===d[a]&&(r[a]=g[a]);return Object.keys(r).length>0?r:void 0},diff:function(g,d){"object"!=typeof g&&(g={}),"object"!=typeof d&&(d={});var o=Object.keys(g).concat(Object.keys(d)).reduce(function(r,a){return p(g[a],d[a])||(r[a]=void 0===d[a]?null:d[a]),r},{});return Object.keys(o).length>0?o:void 0},transform:function(g,d,o){if("object"!=typeof g)return d;if("object"==typeof d){if(!o)return d;var r=Object.keys(d).reduce(function(a,l){return void 0===g[l]&&(a[l]=d[l]),a},{});return Object.keys(r).length>0?r:void 0}}},iterator:function(g){return new n(g)},length:function(g){return"number"==typeof g.delete?g.delete:"number"==typeof g.retain?g.retain:"string"==typeof g.insert?g.insert.length:1}};n.prototype.hasNext=function(){return this.peekLength()<1/0},n.prototype.next=function(g){g||(g=1/0);var d=this.ops[this.index];if(d){var o=this.offset,r=y.length(d);if(g>=r-o?(g=r-o,this.index+=1,this.offset=0):this.offset+=g,"number"==typeof d.delete)return{delete:g};var a={};return d.attributes&&(a.attributes=d.attributes),"number"==typeof d.retain?a.retain=g:a.insert="string"==typeof d.insert?d.insert.substr(o,g):d.insert,a}return{retain:1/0}},n.prototype.peek=function(){return this.ops[this.index]},n.prototype.peekLength=function(){return this.ops[this.index]?y.length(this.ops[this.index])-this.offset:1/0},n.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},n.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var g=this.offset,d=this.index,o=this.next(),r=this.ops.slice(this.index);return this.offset=g,this.index=d,[o].concat(r)}return[]},q.exports=y},function(q,O){var k=function(){"use strict";function n(f,h){return null!=h&&f instanceof h}function p(f,h,u,m,x){"object"==typeof h&&(u=h.depth,m=h.prototype,x=h.includeNonEnumerable,h=h.circular);var P=[],S=[],M=typeof Buffer<"u";return void 0===h&&(h=!0),void 0===u&&(u=1/0),function _(N,T){if(null===N)return null;if(0===T)return N;var C,b;if("object"!=typeof N)return N;if(n(N,r))C=new r;else if(n(N,a))C=new a;else if(n(N,l))C=new l(function(E,I){N.then(function(R){E(_(R,T-1))},function(R){I(_(R,T-1))})});else if(p.__isArray(N))C=[];else if(p.__isRegExp(N))C=new RegExp(N.source,o(N)),N.lastIndex&&(C.lastIndex=N.lastIndex);else if(p.__isDate(N))C=new Date(N.getTime());else{if(M&&Buffer.isBuffer(N))return C=Buffer.allocUnsafe?Buffer.allocUnsafe(N.length):new Buffer(N.length),N.copy(C),C;n(N,Error)?C=Object.create(N):void 0===m?(b=Object.getPrototypeOf(N),C=Object.create(b)):(C=Object.create(m),b=m)}if(h){var w=P.indexOf(N);if(-1!=w)return S[w];P.push(N),S.push(C)}for(var j in n(N,r)&&N.forEach(function(E,I){var R=_(I,T-1),Z=_(E,T-1);C.set(R,Z)}),n(N,a)&&N.forEach(function(E){var I=_(E,T-1);C.add(I)}),N){var z;b&&(z=Object.getOwnPropertyDescriptor(b,j)),z&&null==z.set||(C[j]=_(N[j],T-1))}if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(N);for(j=0;j<G.length;j++){var Y=G[j];(!(X=Object.getOwnPropertyDescriptor(N,Y))||X.enumerable||x)&&(C[Y]=_(N[Y],T-1),X.enumerable||Object.defineProperty(C,Y,{enumerable:!1}))}}if(x){var $=Object.getOwnPropertyNames(N);for(j=0;j<$.length;j++){var X,F=$[j];(X=Object.getOwnPropertyDescriptor(N,F))&&X.enumerable||(C[F]=_(N[F],T-1),Object.defineProperty(C,F,{enumerable:!1}))}}return C}(f,u)}function c(f){return Object.prototype.toString.call(f)}function o(f){var h="";return f.global&&(h+="g"),f.ignoreCase&&(h+="i"),f.multiline&&(h+="m"),h}var r,a,l;try{r=Map}catch{r=function(){}}try{a=Set}catch{a=function(){}}try{l=Promise}catch{l=function(){}}return p.clonePrototype=function(f){if(null===f)return null;var h=function(){};return h.prototype=f,new h},p.__objToStr=c,p.__isDate=function y(f){return"object"==typeof f&&"[object Date]"===c(f)},p.__isArray=function g(f){return"object"==typeof f&&"[object Array]"===c(f)},p.__isRegExp=function d(f){return"object"==typeof f&&"[object RegExp]"===c(f)},p.__getRegExpFlags=o,p}();"object"==typeof q&&q.exports&&(q.exports=k)},function(q,O,k){"use strict";function n(N){return N&&N.__esModule?N:{default:N}}function p(N){if(Array.isArray(N)){for(var T=0,C=Array(N.length);T<N.length;T++)C[T]=N[T];return C}return Array.from(N)}function c(N,T){if(!(N instanceof T))throw new TypeError("Cannot call a class as a function")}function y(N,T){return T instanceof Text&&(T=T.parentNode),N.contains(T)}Object.defineProperty(O,"__esModule",{value:!0}),O.default=O.Range=void 0;var g=function(T,C){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return function N(T,C){var b=[],w=!0,j=!1,z=void 0;try{for(var G,Y=T[Symbol.iterator]();!(w=(G=Y.next()).done)&&(b.push(G.value),!C||b.length!==C);w=!0);}catch(X){j=!0,z=X}finally{try{!w&&Y.return&&Y.return()}finally{if(j)throw z}}return b}(T,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")},d=function(){function N(T,C){for(var b=0;b<C.length;b++){var w=C[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(T,w.key,w)}}return function(T,C,b){return C&&N(T.prototype,C),b&&N(T,b),T}}(),r=n(k(0)),l=n(k(21)),h=n(k(12)),m=n(k(9)),P=(0,n(k(10)).default)("quill:selection"),S=function N(T){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;c(this,N),this.index=T,this.length=C},M=function(){function N(T,C){var b=this;c(this,N),this.emitter=C,this.scroll=T,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=r.default.create("cursor",this),this.lastRange=this.savedRange=new S(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){b.mouseDown||setTimeout(b.update.bind(b,m.default.sources.USER),1)}),this.emitter.on(m.default.events.EDITOR_CHANGE,function(w,j){w===m.default.events.TEXT_CHANGE&&j.length()>0&&b.update(m.default.sources.SILENT)}),this.emitter.on(m.default.events.SCROLL_BEFORE_UPDATE,function(){if(b.hasFocus()){var w=b.getNativeRange();null!=w&&w.start.node!==b.cursor.textNode&&b.emitter.once(m.default.events.SCROLL_UPDATE,function(){try{b.setNativeRange(w.start.node,w.start.offset,w.end.node,w.end.offset)}catch{}})}}),this.emitter.on(m.default.events.SCROLL_OPTIMIZE,function(w,j){if(j.range){var z=j.range;b.setNativeRange(z.startNode,z.startOffset,z.endNode,z.endOffset)}}),this.update(m.default.sources.SILENT)}return d(N,[{key:"handleComposition",value:function(){var T=this;this.root.addEventListener("compositionstart",function(){T.composing=!0}),this.root.addEventListener("compositionend",function(){if(T.composing=!1,T.cursor.parent){var C=T.cursor.restore();if(!C)return;setTimeout(function(){T.setNativeRange(C.startNode,C.startOffset,C.endNode,C.endOffset)},1)}})}},{key:"handleDragging",value:function(){var T=this;this.emitter.listenDOM("mousedown",document.body,function(){T.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){T.mouseDown=!1,T.update(m.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(T,C){if(null==this.scroll.whitelist||this.scroll.whitelist[T]){this.scroll.update();var b=this.getNativeRange();if(null!=b&&b.native.collapsed&&!r.default.query(T,r.default.Scope.BLOCK)){if(b.start.node!==this.cursor.textNode){var w=r.default.find(b.start.node,!1);if(null==w)return;if(w instanceof r.default.Leaf){var j=w.split(b.start.offset);w.parent.insertBefore(this.cursor,j)}else w.insertBefore(this.cursor,b.start.node);this.cursor.attach()}this.cursor.format(T,C),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(T){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,b=this.scroll.length();T=Math.min(T,b-1),C=Math.min(T+C,b-1)-T;var w=void 0,j=this.scroll.leaf(T),z=g(j,2),G=z[0],Y=z[1];if(null==G)return null;var X=G.position(Y,!0),$=g(X,2);w=$[0],Y=$[1];var F=document.createRange();if(C>0){F.setStart(w,Y);var E=this.scroll.leaf(T+C),I=g(E,2);if(null==(G=I[0]))return null;var R=G.position(Y=I[1],!0),Z=g(R,2);return F.setEnd(w=Z[0],Y=Z[1]),F.getBoundingClientRect()}var H="left",D=void 0;return w instanceof Text?(Y<w.data.length?(F.setStart(w,Y),F.setEnd(w,Y+1)):(F.setStart(w,Y-1),F.setEnd(w,Y),H="right"),D=F.getBoundingClientRect()):(D=G.domNode.getBoundingClientRect(),Y>0&&(H="right")),{bottom:D.top+D.height,height:D.height,left:D[H],right:D[H],top:D.top,width:0}}},{key:"getNativeRange",value:function(){var T=document.getSelection();if(null==T||T.rangeCount<=0)return null;var C=T.getRangeAt(0);if(null==C)return null;var b=this.normalizeNative(C);return P.info("getNativeRange",b),b}},{key:"getRange",value:function(){var T=this.getNativeRange();return null==T?[null,null]:[this.normalizedToRange(T),T]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(T){var C=this,b=[[T.start.node,T.start.offset]];T.native.collapsed||b.push([T.end.node,T.end.offset]);var w=b.map(function(G){var Y=g(G,2),X=Y[0],$=Y[1],F=r.default.find(X,!0),E=F.offset(C.scroll);return 0===$?E:F instanceof r.default.Container?E+F.length():E+F.index(X,$)}),j=Math.min(Math.max.apply(Math,p(w)),this.scroll.length()-1),z=Math.min.apply(Math,[j].concat(p(w)));return new S(z,j-z)}},{key:"normalizeNative",value:function(T){if(!y(this.root,T.startContainer)||!T.collapsed&&!y(this.root,T.endContainer))return null;var C={start:{node:T.startContainer,offset:T.startOffset},end:{node:T.endContainer,offset:T.endOffset},native:T};return[C.start,C.end].forEach(function(b){for(var w=b.node,j=b.offset;!(w instanceof Text)&&w.childNodes.length>0;)if(w.childNodes.length>j)w=w.childNodes[j],j=0;else{if(w.childNodes.length!==j)break;j=(w=w.lastChild)instanceof Text?w.data.length:w.childNodes.length+1}b.node=w,b.offset=j}),C}},{key:"rangeToNative",value:function(T){var C=this,b=T.collapsed?[T.index]:[T.index,T.index+T.length],w=[],j=this.scroll.length();return b.forEach(function(z,G){z=Math.min(j-1,z);var X=C.scroll.leaf(z),$=g(X,2),E=$[1],I=$[0].position(E,0!==G),R=g(I,2);w.push(R[0],E=R[1])}),w.length<2&&(w=w.concat(w)),w}},{key:"scrollIntoView",value:function(T){var C=this.lastRange;if(null!=C){var b=this.getBounds(C.index,C.length);if(null!=b){var w=this.scroll.length()-1,j=this.scroll.line(Math.min(C.index,w)),G=g(j,1)[0],Y=G;if(C.length>0){var X=this.scroll.line(Math.min(C.index+C.length,w));Y=g(X,1)[0]}if(null!=G&&null!=Y){var $=T.getBoundingClientRect();b.top<$.top?T.scrollTop-=$.top-b.top:b.bottom>$.bottom&&(T.scrollTop+=b.bottom-$.bottom)}}}}},{key:"setNativeRange",value:function(T,C){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T,w=arguments.length>3&&void 0!==arguments[3]?arguments[3]:C,j=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(P.info("setNativeRange",T,C,b,w),null==T||null!=this.root.parentNode&&null!=T.parentNode&&null!=b.parentNode){var z=document.getSelection();if(null!=z)if(null!=T){this.hasFocus()||this.root.focus();var G=(this.getNativeRange()||{}).native;if(null==G||j||T!==G.startContainer||C!==G.startOffset||b!==G.endContainer||w!==G.endOffset){"BR"==T.tagName&&(C=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode),"BR"==b.tagName&&(w=[].indexOf.call(b.parentNode.childNodes,b),b=b.parentNode);var Y=document.createRange();Y.setStart(T,C),Y.setEnd(b,w),z.removeAllRanges(),z.addRange(Y)}}else z.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(T){var C=arguments.length>1&&void 0!==arguments[1]&&arguments[1],b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.default.sources.API;if("string"==typeof C&&(b=C,C=!1),P.info("setRange",T),null!=T){var w=this.rangeToNative(T);this.setNativeRange.apply(this,p(w).concat([C]))}else this.setNativeRange(null);this.update(b)}},{key:"update",value:function(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.default.sources.USER,C=this.lastRange,b=this.getRange(),w=g(b,2),z=w[1];if(this.lastRange=w[0],null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,h.default)(C,this.lastRange)){var G;!this.composing&&null!=z&&z.native.collapsed&&z.start.node!==this.cursor.textNode&&this.cursor.restore();var X,Y=[m.default.events.SELECTION_CHANGE,(0,l.default)(this.lastRange),(0,l.default)(C),T];(G=this.emitter).emit.apply(G,[m.default.events.EDITOR_CHANGE].concat(Y)),T!==m.default.sources.SILENT&&(X=this.emitter).emit.apply(X,Y)}}}]),N}();O.Range=S,O.default=M},function(q,O,k){"use strict";function n(l){return l&&l.__esModule?l:{default:l}}Object.defineProperty(O,"__esModule",{value:!0});var d=n(k(0)),o=k(3),r=n(o),a=function(l){function f(){return function p(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}(this,f),function c(l,f){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?l:f}(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return function y(l,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);l.prototype=Object.create(f&&f.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(l,f):l.__proto__=f)}(f,l),f}(d.default.Container);a.allowedChildren=[r.default,o.BlockEmbed,a],O.default=a},function(q,O,k){"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.ColorStyle=O.ColorClass=O.ColorAttributor=void 0;var f,y=function(){function f(h,u){for(var m=0;m<u.length;m++){var x=u[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(h,x.key,x)}}return function(h,u,m){return u&&f(h.prototype,u),m&&f(h,m),h}}(),g=function f(h,u,m){null===h&&(h=Function.prototype);var x=Object.getOwnPropertyDescriptor(h,u);if(void 0===x){var _=Object.getPrototypeOf(h);return null===_?void 0:f(_,u,m)}if("value"in x)return x.value;var P=x.get;return void 0!==P?P.call(m):void 0},o=(f=k(0))&&f.__esModule?f:{default:f},r=function(f){function h(){return function n(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}(this,h),function p(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?f:h}(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return function c(f,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}(h,f),y(h,[{key:"value",value:function(u){var m=g(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"value",this).call(this,u);return m.startsWith("rgb(")?"#"+(m=m.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(x){return("00"+parseInt(x).toString(16)).slice(-2)}).join(""):m}}]),h}(o.default.Attributor.Style),a=new o.default.Attributor.Class("color","ql-color",{scope:o.default.Scope.INLINE}),l=new r("color","color",{scope:o.default.Scope.INLINE});O.ColorAttributor=r,O.ColorClass=a,O.ColorStyle=l},function(q,O,k){"use strict";function n(B){return B&&B.__esModule?B:{default:B}}function p(B,V,K){return V in B?Object.defineProperty(B,V,{value:K,enumerable:!0,configurable:!0,writable:!0}):B[V]=K,B}function d(B,V){var K;return p(K={key:B,shiftKey:V,altKey:null},B===D.keys.LEFT?"prefix":"suffix",/^$/),p(K,"handler",function(et){var lt=et.index;B===D.keys.RIGHT&&(lt+=et.length+1);var pt=this.quill.getLeaf(lt);return!(x(pt,1)[0]instanceof Y.default.Embed&&(B===D.keys.LEFT?V?this.quill.setSelection(et.index-1,et.length+1,$.default.sources.USER):this.quill.setSelection(et.index-1,$.default.sources.USER):V?this.quill.setSelection(et.index,et.length+1,$.default.sources.USER):this.quill.setSelection(et.index+et.length+1,$.default.sources.USER),1))}),K}function o(B,V){if(!(0===B.index||this.quill.getLength()<=1)){var K=this.quill.getLine(B.index),et=x(K,1)[0],lt={};if(0===V.offset){var pt=this.quill.getLine(B.index-1),vt=x(pt,1)[0];if(null!=vt&&vt.length()>1){var Et=et.formats(),Tt=this.quill.getFormat(B.index-1,1);lt=z.default.attributes.diff(Et,Tt)||{}}}var kt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(V.prefix)?2:1;this.quill.deleteText(B.index-kt,kt,$.default.sources.USER),Object.keys(lt).length>0&&this.quill.formatLine(B.index-kt,kt,lt,$.default.sources.USER),this.quill.focus()}}function r(B,V){var K=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(V.suffix)?2:1;if(!(B.index>=this.quill.getLength()-K)){var it={},et=0,lt=this.quill.getLine(B.index),_t=x(lt,1)[0];if(V.offset>=_t.length()-1){var vt=this.quill.getLine(B.index+1),Tt=x(vt,1)[0];if(Tt){var kt=_t.formats(),J=this.quill.getFormat(B.index,1);it=z.default.attributes.diff(kt,J)||{},et=Tt.length()}}this.quill.deleteText(B.index,K,$.default.sources.USER),Object.keys(it).length>0&&this.quill.formatLine(B.index+et-1,K,it,$.default.sources.USER)}}function a(B){var V=this.quill.getLines(B),K={};if(V.length>1){var it=V[0].formats(),et=V[V.length-1].formats();K=z.default.attributes.diff(et,it)||{}}this.quill.deleteText(B,$.default.sources.USER),Object.keys(K).length>0&&this.quill.formatLine(B.index,1,K,$.default.sources.USER),this.quill.setSelection(B.index,$.default.sources.SILENT),this.quill.focus()}function l(B,V){var K=this;B.length>0&&this.quill.scroll.deleteAt(B.index,B.length);var it=Object.keys(V.format).reduce(function(et,lt){return Y.default.query(lt,Y.default.Scope.BLOCK)&&!Array.isArray(V.format[lt])&&(et[lt]=V.format[lt]),et},{});this.quill.insertText(B.index,"\n",it,$.default.sources.USER),this.quill.setSelection(B.index+1,$.default.sources.SILENT),this.quill.focus(),Object.keys(V.format).forEach(function(et){null==it[et]&&(Array.isArray(V.format[et])||"link"!==et&&K.quill.format(et,V.format[et],$.default.sources.USER))})}function f(B){return{key:D.keys.TAB,shiftKey:!B,format:{"code-block":!0},handler:function(V){var K=Y.default.query("code-block"),it=V.index,et=V.length,lt=this.quill.scroll.descendant(K,it),pt=x(lt,2),_t=pt[0],vt=pt[1];if(null!=_t){var Et=this.quill.getIndex(_t),Tt=_t.newlineIndex(vt,!0)+1,kt=_t.newlineIndex(Et+vt+et),J=_t.domNode.textContent.slice(Tt,kt).split("\n");vt=0,J.forEach(function(tt,nt){B?(_t.insertAt(Tt+vt,K.TAB),vt+=K.TAB.length,0===nt?it+=K.TAB.length:et+=K.TAB.length):tt.startsWith(K.TAB)&&(_t.deleteAt(Tt+vt,K.TAB.length),vt-=K.TAB.length,0===nt?it-=K.TAB.length:et-=K.TAB.length),vt+=tt.length+1}),this.quill.update($.default.sources.USER),this.quill.setSelection(it,et,$.default.sources.SILENT)}}}}function h(B){return{key:B[0].toUpperCase(),shortKey:!0,handler:function(V,K){this.quill.format(B,!K.format[B],$.default.sources.USER)}}}function u(B){if("string"==typeof B||"number"==typeof B)return u({key:B});if("object"===(void 0===B?"undefined":m(B))&&(B=(0,S.default)(B,!1)),"string"==typeof B.key)if(null!=D.keys[B.key.toUpperCase()])B.key=D.keys[B.key.toUpperCase()];else{if(1!==B.key.length)return null;B.key=B.key.toUpperCase().charCodeAt(0)}return B.shortKey&&(B[H]=B.shortKey,delete B.shortKey),B}Object.defineProperty(O,"__esModule",{value:!0}),O.SHORTKEY=O.default=void 0;var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(B){return typeof B}:function(B){return B&&"function"==typeof Symbol&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},x=function(V,K){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return function B(V,K){var it=[],et=!0,lt=!1,pt=void 0;try{for(var _t,vt=V[Symbol.iterator]();!(et=(_t=vt.next()).done)&&(it.push(_t.value),!K||it.length!==K);et=!0);}catch(Et){lt=!0,pt=Et}finally{try{!et&&vt.return&&vt.return()}finally{if(lt)throw pt}}return it}(V,K);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_=function(){function B(V,K){for(var it=0;it<K.length;it++){var et=K[it];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(V,et.key,et)}}return function(V,K,it){return K&&B(V.prototype,K),it&&B(V,it),V}}(),S=n(k(21)),N=n(k(12)),C=n(k(2)),w=n(k(4)),z=n(k(20)),Y=n(k(0)),$=n(k(6)),E=n(k(10)),R=n(k(7)),Z=(0,E.default)("quill:keyboard"),H=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",D=function(B){function V(K,it){!function c(B,V){if(!(B instanceof V))throw new TypeError("Cannot call a class as a function")}(this,V);var et=function y(B,V){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!V||"object"!=typeof V&&"function"!=typeof V?B:V}(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,K,it));return et.bindings={},Object.keys(et.options.bindings).forEach(function(lt){("list autofill"!==lt||null==K.scroll.whitelist||K.scroll.whitelist.list)&&et.options.bindings[lt]&&et.addBinding(et.options.bindings[lt])}),et.addBinding({key:V.keys.ENTER,shiftKey:null},l),et.addBinding({key:V.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(et.addBinding({key:V.keys.BACKSPACE},{collapsed:!0},o),et.addBinding({key:V.keys.DELETE},{collapsed:!0},r)):(et.addBinding({key:V.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},o),et.addBinding({key:V.keys.DELETE},{collapsed:!0,suffix:/^.?$/},r)),et.addBinding({key:V.keys.BACKSPACE},{collapsed:!1},a),et.addBinding({key:V.keys.DELETE},{collapsed:!1},a),et.addBinding({key:V.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},o),et.listen(),et}return function g(B,V){if("function"!=typeof V&&null!==V)throw new TypeError("Super expression must either be null or a function, not "+typeof V);B.prototype=Object.create(V&&V.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(B,V):B.__proto__=V)}(V,B),_(V,null,[{key:"match",value:function(K,it){return it=u(it),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(et){return!!it[et]!==K[et]&&null!==it[et]})&&it.key===(K.which||K.keyCode)}}]),_(V,[{key:"addBinding",value:function(K){var it=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},et=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},lt=u(K);if(null==lt||null==lt.key)return Z.warn("Attempted to add invalid keyboard binding",lt);"function"==typeof it&&(it={handler:it}),"function"==typeof et&&(et={handler:et}),lt=(0,C.default)(lt,it,et),this.bindings[lt.key]=this.bindings[lt.key]||[],this.bindings[lt.key].push(lt)}},{key:"listen",value:function(){var K=this;this.quill.root.addEventListener("keydown",function(it){if(!it.defaultPrevented){var lt=(K.bindings[it.which||it.keyCode]||[]).filter(function(bt){return V.match(it,bt)});if(0!==lt.length){var pt=K.quill.getSelection();if(null!=pt&&K.quill.hasFocus()){var _t=K.quill.getLine(pt.index),vt=x(_t,2),Et=vt[0],Tt=vt[1],kt=K.quill.getLeaf(pt.index),J=x(kt,2),tt=J[0],nt=J[1],st=0===pt.length?[tt,nt]:K.quill.getLeaf(pt.index+pt.length),rt=x(st,2),ct=rt[0],xt=rt[1],mt=tt instanceof Y.default.Text?tt.value().slice(0,nt):"",Mt=ct instanceof Y.default.Text?ct.value().slice(xt):"",wt={collapsed:0===pt.length,empty:0===pt.length&&Et.length()<=1,format:K.quill.getFormat(pt),offset:Tt,prefix:mt,suffix:Mt};lt.some(function(bt){if(null!=bt.collapsed&&bt.collapsed!==wt.collapsed||null!=bt.empty&&bt.empty!==wt.empty||null!=bt.offset&&bt.offset!==wt.offset)return!1;if(Array.isArray(bt.format)){if(bt.format.every(function(at){return null==wt.format[at]}))return!1}else if("object"===m(bt.format)&&!Object.keys(bt.format).every(function(at){return!0===bt.format[at]?null!=wt.format[at]:!1===bt.format[at]?null==wt.format[at]:(0,N.default)(bt.format[at],wt.format[at])}))return!1;return!(null!=bt.prefix&&!bt.prefix.test(wt.prefix)||null!=bt.suffix&&!bt.suffix.test(wt.suffix)||!0===bt.handler.call(K,pt,wt))})&&it.preventDefault()}}}})}}]),V}(R.default);D.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},D.DEFAULTS={bindings:{bold:h("bold"),italic:h("italic"),underline:h("underline"),indent:{key:D.keys.TAB,format:["blockquote","indent","list"],handler:function(B,V){if(V.collapsed&&0!==V.offset)return!0;this.quill.format("indent","+1",$.default.sources.USER)}},outdent:{key:D.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(B,V){if(V.collapsed&&0!==V.offset)return!0;this.quill.format("indent","-1",$.default.sources.USER)}},"outdent backspace":{key:D.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(B,V){null!=V.format.indent?this.quill.format("indent","-1",$.default.sources.USER):null!=V.format.list&&this.quill.format("list",!1,$.default.sources.USER)}},"indent code-block":f(!0),"outdent code-block":f(!1),"remove tab":{key:D.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(B){this.quill.deleteText(B.index-1,1,$.default.sources.USER)}},tab:{key:D.keys.TAB,handler:function(B){this.quill.history.cutoff();var V=(new w.default).retain(B.index).delete(B.length).insert("\t");this.quill.updateContents(V,$.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(B.index+1,$.default.sources.SILENT)}},"list empty enter":{key:D.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(B,V){this.quill.format("list",!1,$.default.sources.USER),V.format.indent&&this.quill.format("indent",!1,$.default.sources.USER)}},"checklist enter":{key:D.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(B){var V=this.quill.getLine(B.index),K=x(V,2),it=K[0],et=K[1],lt=(0,C.default)({},it.formats(),{list:"checked"}),pt=(new w.default).retain(B.index).insert("\n",lt).retain(it.length()-et-1).retain(1,{list:"unchecked"});this.quill.updateContents(pt,$.default.sources.USER),this.quill.setSelection(B.index+1,$.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:D.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(B,V){var K=this.quill.getLine(B.index),it=x(K,2),et=it[0],lt=it[1],pt=(new w.default).retain(B.index).insert("\n",V.format).retain(et.length()-lt-1).retain(1,{header:null});this.quill.updateContents(pt,$.default.sources.USER),this.quill.setSelection(B.index+1,$.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(B,V){var K=V.prefix.length,it=this.quill.getLine(B.index),et=x(it,2),lt=et[0],pt=et[1];if(pt>K)return!0;var _t=void 0;switch(V.prefix.trim()){case"[]":case"[ ]":_t="unchecked";break;case"[x]":_t="checked";break;case"-":case"*":_t="bullet";break;default:_t="ordered"}this.quill.insertText(B.index," ",$.default.sources.USER),this.quill.history.cutoff();var vt=(new w.default).retain(B.index-pt).delete(K+1).retain(lt.length()-2-pt).retain(1,{list:_t});this.quill.updateContents(vt,$.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(B.index-K,$.default.sources.SILENT)}},"code exit":{key:D.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(B){var V=this.quill.getLine(B.index),K=x(V,2),it=K[0],et=K[1],lt=(new w.default).retain(B.index+it.length()-et-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(lt,$.default.sources.USER)}},"embed left":d(D.keys.LEFT,!1),"embed left shift":d(D.keys.LEFT,!0),"embed right":d(D.keys.RIGHT,!1),"embed right shift":d(D.keys.RIGHT,!0)}},O.default=D,O.SHORTKEY=H},function(q,O,k){"use strict";q.exports={align:{"":k(75),center:k(76),right:k(77),justify:k(78)},background:k(79),blockquote:k(80),bold:k(81),clean:k(82),code:k(40),"code-block":k(40),color:k(83),direction:{"":k(84),rtl:k(85)},float:{center:k(86),full:k(87),left:k(88),right:k(89)},formula:k(90),header:{1:k(91),2:k(92)},italic:k(93),image:k(94),indent:{"+1":k(95),"-1":k(96)},link:k(97),list:{ordered:k(98),bullet:k(99),check:k(100)},script:{sub:k(101),super:k(102)},strike:k(103),underline:k(104),video:k(105)}},function(q,O,k){"use strict";Object.defineProperty(O,"__esModule",{value:!0});var n=k(1),p=function(){function c(y){this.domNode=y,this.domNode[n.DATA_KEY]={blot:this}}return Object.defineProperty(c.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),c.create=function(y){if(null==this.tagName)throw new n.ParchmentError("Blot definition missing tagName");var g;return Array.isArray(this.tagName)?("string"==typeof y&&(y=y.toUpperCase(),parseInt(y).toString()===y&&(y=parseInt(y))),g="number"==typeof y?document.createElement(this.tagName[y-1]):this.tagName.indexOf(y)>-1?document.createElement(y):document.createElement(this.tagName[0])):g=document.createElement(this.tagName),this.className&&g.classList.add(this.className),g},c.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},c.prototype.clone=function(){var y=this.domNode.cloneNode(!1);return n.create(y)},c.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[n.DATA_KEY]},c.prototype.deleteAt=function(y,g){this.isolate(y,g).remove()},c.prototype.formatAt=function(y,g,d,o){var r=this.isolate(y,g);if(null!=n.query(d,n.Scope.BLOT)&&o)r.wrap(d,o);else if(null!=n.query(d,n.Scope.ATTRIBUTE)){var a=n.create(this.statics.scope);r.wrap(a),a.format(d,o)}},c.prototype.insertAt=function(y,g,d){var o=null==d?n.create("text",g):n.create(g,d),r=this.split(y);this.parent.insertBefore(o,r)},c.prototype.insertInto=function(y,g){void 0===g&&(g=null),null!=this.parent&&this.parent.children.remove(this);var d=null;y.children.insertBefore(this,g),null!=g&&(d=g.domNode),this.domNode.parentNode==y.domNode&&this.domNode.nextSibling==d||y.domNode.insertBefore(this.domNode,d),this.parent=y,this.attach()},c.prototype.isolate=function(y,g){var d=this.split(y);return d.split(g),d},c.prototype.length=function(){return 1},c.prototype.offset=function(y){return void 0===y&&(y=this.parent),null==this.parent||this==y?0:this.parent.children.offset(this)+this.parent.offset(y)},c.prototype.optimize=function(y){null!=this.domNode[n.DATA_KEY]&&delete this.domNode[n.DATA_KEY].mutations},c.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},c.prototype.replace=function(y){null!=y.parent&&(y.parent.insertBefore(this,y.next),y.remove())},c.prototype.replaceWith=function(y,g){var d="string"==typeof y?n.create(y,g):y;return d.replace(this),d},c.prototype.split=function(y,g){return 0===y?this:this.next},c.prototype.update=function(y,g){},c.prototype.wrap=function(y,g){var d="string"==typeof y?n.create(y,g):y;return null!=this.parent&&this.parent.insertBefore(d,this.next),d.appendChild(this),d},c.blotName="abstract",c}();O.default=p},function(q,O,k){"use strict";Object.defineProperty(O,"__esModule",{value:!0});var n=k(11),p=k(29),c=k(30),y=k(1),g=function(){function d(o){this.attributes={},this.domNode=o,this.build()}return d.prototype.attribute=function(o,r){r?o.add(this.domNode,r)&&(null!=o.value(this.domNode)?this.attributes[o.attrName]=o:delete this.attributes[o.attrName]):(o.remove(this.domNode),delete this.attributes[o.attrName])},d.prototype.build=function(){var o=this;this.attributes={};var r=n.default.keys(this.domNode),a=p.default.keys(this.domNode),l=c.default.keys(this.domNode);r.concat(a).concat(l).forEach(function(f){var h=y.query(f,y.Scope.ATTRIBUTE);h instanceof n.default&&(o.attributes[h.attrName]=h)})},d.prototype.copy=function(o){var r=this;Object.keys(this.attributes).forEach(function(a){var l=r.attributes[a].value(r.domNode);o.format(a,l)})},d.prototype.move=function(o){var r=this;this.copy(o),Object.keys(this.attributes).forEach(function(a){r.attributes[a].remove(r.domNode)}),this.attributes={}},d.prototype.values=function(){var o=this;return Object.keys(this.attributes).reduce(function(r,a){return r[a]=o.attributes[a].value(o.domNode),r},{})},d}();O.default=g},function(q,O,k){"use strict";function n(g,d){return(g.getAttribute("class")||"").split(/\s+/).filter(function(o){return 0===o.indexOf(d+"-")})}var g,p=this&&this.__extends||(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,o){d.__proto__=o}||function(d,o){for(var r in o)o.hasOwnProperty(r)&&(d[r]=o[r])},function(d,o){function r(){this.constructor=d}g(d,o),d.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)});Object.defineProperty(O,"__esModule",{value:!0});var y=function(g){function d(){return null!==g&&g.apply(this,arguments)||this}return p(d,g),d.keys=function(o){return(o.getAttribute("class")||"").split(/\s+/).map(function(r){return r.split("-").slice(0,-1).join("-")})},d.prototype.add=function(o,r){return!!this.canAdd(o,r)&&(this.remove(o),o.classList.add(this.keyName+"-"+r),!0)},d.prototype.remove=function(o){n(o,this.keyName).forEach(function(r){o.classList.remove(r)}),0===o.classList.length&&o.removeAttribute("class")},d.prototype.value=function(o){var a=(n(o,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(o,a)?a:""},d}(k(11).default);O.default=y},function(q,O,k){"use strict";function n(g){var d=g.split("-"),o=d.slice(1).map(function(r){return r[0].toUpperCase()+r.slice(1)}).join("");return d[0]+o}var g,p=this&&this.__extends||(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,o){d.__proto__=o}||function(d,o){for(var r in o)o.hasOwnProperty(r)&&(d[r]=o[r])},function(d,o){function r(){this.constructor=d}g(d,o),d.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)});Object.defineProperty(O,"__esModule",{value:!0});var y=function(g){function d(){return null!==g&&g.apply(this,arguments)||this}return p(d,g),d.keys=function(o){return(o.getAttribute("style")||"").split(";").map(function(r){return r.split(":")[0].trim()})},d.prototype.add=function(o,r){return!!this.canAdd(o,r)&&(o.style[n(this.keyName)]=r,!0)},d.prototype.remove=function(o){o.style[n(this.keyName)]="",o.getAttribute("style")||o.removeAttribute("style")},d.prototype.value=function(o){var r=o.style[n(this.keyName)];return this.canAdd(o,r)?r:""},d}(k(11).default);O.default=y},function(q,O,k){"use strict";function n(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(O,"__esModule",{value:!0});var d=function u(m,x,_){null===m&&(m=Function.prototype);var P=Object.getOwnPropertyDescriptor(m,x);if(void 0===P){var S=Object.getPrototypeOf(m);return null===S?void 0:u(S,x,_)}if("value"in P)return P.value;var M=P.get;return void 0!==M?M.call(_):void 0},o=function(){function u(m,x){for(var _=0;_<x.length;_++){var P=x[_];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(m,P.key,P)}}return function(m,x,_){return x&&u(m.prototype,x),_&&u(m,_),m}}(),a=n(k(0)),f=n(k(8)),h=function(u){function m(x,_){!function p(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m);var P=function c(u,m){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?u:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,x));return P.selection=_,P.textNode=document.createTextNode(m.CONTENTS),P.domNode.appendChild(P.textNode),P._length=0,P}return function y(u,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(u,m):u.__proto__=m)}(m,u),o(m,null,[{key:"value",value:function(){}}]),o(m,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(x,_){if(0!==this._length)return d(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,x,_);for(var P=this,S=0;null!=P&&P.statics.scope!==a.default.Scope.BLOCK_BLOT;)S+=P.offset(P.parent),P=P.parent;null!=P&&(this._length=m.CONTENTS.length,P.optimize(),P.formatAt(S,m.CONTENTS.length,x,_),this._length=0)}},{key:"index",value:function(x,_){return x===this.textNode?0:d(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,x,_)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){d(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var x=this.textNode,_=this.selection.getNativeRange(),P=void 0,S=void 0,M=void 0;if(null!=_&&_.start.node===x&&_.end.node===x){var N=[x,_.start.offset,_.end.offset];P=N[0],S=N[1],M=N[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==m.CONTENTS){var T=this.textNode.data.split(m.CONTENTS).join("");this.next instanceof f.default?(P=this.next.domNode,this.next.insertAt(0,T),this.textNode.data=m.CONTENTS):(this.textNode.data=T,this.parent.insertBefore(a.default.create(this.textNode),this),this.textNode=document.createTextNode(m.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=S){var b=function(m,x){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return function u(m,x){var _=[],P=!0,S=!1,M=void 0;try{for(var N,T=m[Symbol.iterator]();!(P=(N=T.next()).done)&&(_.push(N.value),!x||_.length!==x);P=!0);}catch(C){S=!0,M=C}finally{try{!P&&T.return&&T.return()}finally{if(S)throw M}}return _}(m,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}([S,M].map(function(w){return Math.max(0,Math.min(P.data.length,w-1))}),2);return{startNode:P,startOffset:S=b[0],endNode:P,endOffset:M=b[1]}}}}},{key:"update",value:function(x,_){var P=this;if(x.some(function(M){return"characterData"===M.type&&M.target===P.textNode})){var S=this.restore();S&&(_.range=S)}}},{key:"value",value:function(){return""}}]),m}(a.default.Embed);h.blotName="cursor",h.className="ql-cursor",h.tagName="span",h.CONTENTS="\ufeff",O.default=h},function(q,O,k){"use strict";Object.defineProperty(O,"__esModule",{value:!0});var p=function(){function y(g,d){for(var o=0;o<d.length;o++){var r=d[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(g,r.key,r)}}return function(g,d,o){return d&&y(g.prototype,d),o&&y(g,o),g}}(),c=function(){function y(g,d){(function n(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")})(this,y),this.quill=g,this.options=d,this.modules={}}return p(y,[{key:"init",value:function(){var g=this;Object.keys(this.options.modules).forEach(function(d){null==g.modules[d]&&g.addModule(d)})}},{key:"addModule",value:function(g){var d=this.quill.constructor.import("modules/"+g);return this.modules[g]=new d(this.quill,this.options.modules[g]||{}),this.modules[g]}}]),y}();c.DEFAULTS={modules:{}},c.themes={default:c},O.default=c},function(q,O,k){"use strict";function n(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(O,"__esModule",{value:!0});var g=function(){function u(m,x){for(var _=0;_<x.length;_++){var P=x[_];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(m,P.key,P)}}return function(m,x,_){return x&&u(m.prototype,x),_&&u(m,_),m}}(),d=function u(m,x,_){null===m&&(m=Function.prototype);var P=Object.getOwnPropertyDescriptor(m,x);if(void 0===P){var S=Object.getPrototypeOf(m);return null===S?void 0:u(S,x,_)}if("value"in P)return P.value;var M=P.get;return void 0!==M?M.call(_):void 0},r=n(k(0)),l=n(k(8)),f="\ufeff",h=function(u){function m(x){!function p(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m);var _=function c(u,m){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?u:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,x));return _.contentNode=document.createElement("span"),_.contentNode.setAttribute("contenteditable",!1),[].slice.call(_.domNode.childNodes).forEach(function(P){_.contentNode.appendChild(P)}),_.leftGuard=document.createTextNode(f),_.rightGuard=document.createTextNode(f),_.domNode.appendChild(_.leftGuard),_.domNode.appendChild(_.contentNode),_.domNode.appendChild(_.rightGuard),_}return function y(u,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(u,m):u.__proto__=m)}(m,u),g(m,[{key:"index",value:function(x,_){return x===this.leftGuard?0:x===this.rightGuard?1:d(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,x,_)}},{key:"restore",value:function(x){var _=void 0,P=void 0,S=x.data.split(f).join("");if(x===this.leftGuard)if(this.prev instanceof l.default){var M=this.prev.length();this.prev.insertAt(M,S),_={startNode:this.prev.domNode,startOffset:M+S.length}}else P=document.createTextNode(S),this.parent.insertBefore(r.default.create(P),this),_={startNode:P,startOffset:S.length};else x===this.rightGuard&&(this.next instanceof l.default?(this.next.insertAt(0,S),_={startNode:this.next.domNode,startOffset:S.length}):(P=document.createTextNode(S),this.parent.insertBefore(r.default.create(P),this.next),_={startNode:P,startOffset:S.length}));return x.data=f,_}},{key:"update",value:function(x,_){var P=this;x.forEach(function(S){if("characterData"===S.type&&(S.target===P.leftGuard||S.target===P.rightGuard)){var M=P.restore(S.target);M&&(_.range=M)}})}}]),m}(r.default.Embed);O.default=h},function(q,O,k){"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.AlignStyle=O.AlignClass=O.AlignAttribute=void 0;var o,p=(o=k(0))&&o.__esModule?o:{default:o},c={scope:p.default.Scope.BLOCK,whitelist:["right","center","justify"]},y=new p.default.Attributor.Attribute("align","align",c),g=new p.default.Attributor.Class("align","ql-align",c),d=new p.default.Attributor.Style("align","text-align",c);O.AlignAttribute=y,O.AlignClass=g,O.AlignStyle=d},function(q,O,k){"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.BackgroundStyle=O.BackgroundClass=void 0;var d,p=(d=k(0))&&d.__esModule?d:{default:d},c=k(24),y=new p.default.Attributor.Class("background","ql-bg",{scope:p.default.Scope.INLINE}),g=new c.ColorAttributor("background","background-color",{scope:p.default.Scope.INLINE});O.BackgroundClass=y,O.BackgroundStyle=g},function(q,O,k){"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.DirectionStyle=O.DirectionClass=O.DirectionAttribute=void 0;var o,p=(o=k(0))&&o.__esModule?o:{default:o},c={scope:p.default.Scope.BLOCK,whitelist:["rtl"]},y=new p.default.Attributor.Attribute("direction","dir",c),g=new p.default.Attributor.Class("direction","ql-direction",c),d=new p.default.Attributor.Style("direction","direction",c);O.DirectionAttribute=y,O.DirectionClass=g,O.DirectionStyle=d},function(q,O,k){"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.FontClass=O.FontStyle=void 0;var h,y=function(){function h(u,m){for(var x=0;x<m.length;x++){var _=m[x];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(u,_.key,_)}}return function(u,m,x){return m&&h(u.prototype,m),x&&h(u,x),u}}(),g=function h(u,m,x){null===u&&(u=Function.prototype);var _=Object.getOwnPropertyDescriptor(u,m);if(void 0===_){var P=Object.getPrototypeOf(u);return null===P?void 0:h(P,m,x)}if("value"in _)return _.value;var S=_.get;return void 0!==S?S.call(x):void 0},o=(h=k(0))&&h.__esModule?h:{default:h},r={scope:o.default.Scope.INLINE,whitelist:["serif","monospace"]},a=new o.default.Attributor.Class("font","ql-font",r),l=function(h){function u(){return function n(h,u){if(!(h instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u),function p(h,u){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?h:u}(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return function c(h,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);h.prototype=Object.create(u&&u.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(h,u):h.__proto__=u)}(u,h),y(u,[{key:"value",value:function(m){return g(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"value",this).call(this,m).replace(/["']/g,"")}}]),u}(o.default.Attributor.Style),f=new l("font","font-family",r);O.FontStyle=f,O.FontClass=a},function(q,O,k){"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.SizeStyle=O.SizeClass=void 0;var g,p=(g=k(0))&&g.__esModule?g:{default:g},c=new p.default.Attributor.Class("size","ql-size",{scope:p.default.Scope.INLINE,whitelist:["small","large","huge"]}),y=new p.default.Attributor.Style("size","font-size",{scope:p.default.Scope.INLINE,whitelist:["10px","18px","32px"]});O.SizeClass=c,O.SizeStyle=y},function(q,O,k){"use strict";Object.defineProperty(O,"__esModule",{value:!0});var a,y=function(){function a(l,f){for(var h=0;h<f.length;h++){var u=f[h];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}return function(l,f,h){return f&&a(l.prototype,f),h&&a(l,h),l}}(),g=function a(l,f,h){null===l&&(l=Function.prototype);var u=Object.getOwnPropertyDescriptor(l,f);if(void 0===u){var m=Object.getPrototypeOf(l);return null===m?void 0:a(m,f,h)}if("value"in u)return u.value;var x=u.get;return void 0!==x?x.call(h):void 0},r=function(a){function l(){return function n(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l),function p(a,l){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?a:l}(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return function c(a,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);a.prototype=Object.create(l&&l.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(a,l):a.__proto__=l)}(l,a),y(l,[{key:"optimize",value:function(f){g(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"optimize",this).call(this,f),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return g(l.__proto__||Object.getPrototypeOf(l),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),l}(((a=k(5))&&a.__esModule?a:{default:a}).default);r.blotName="bold",r.tagName=["STRONG","B"],O.default=r},function(q,O){q.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(q,O,k){"use strict";Object.defineProperty(O,"__esModule",{value:!0});var a,y=function(){function a(l,f){for(var h=0;h<f.length;h++){var u=f[h];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}return function(l,f,h){return f&&a(l.prototype,f),h&&a(l,h),l}}(),g=function a(l,f,h){null===l&&(l=Function.prototype);var u=Object.getOwnPropertyDescriptor(l,f);if(void 0===u){var m=Object.getPrototypeOf(l);return null===m?void 0:a(m,f,h)}if("value"in u)return u.value;var x=u.get;return void 0!==x?x.call(h):void 0},r=function(a){function l(f,h){!function n(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l);var u=function p(a,l){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?a:l}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,f));return u.label.innerHTML=h,u.container.classList.add("ql-color-picker"),[].slice.call(u.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(m){m.classList.add("ql-primary")}),u}return function c(a,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);a.prototype=Object.create(l&&l.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(a,l):a.__proto__=l)}(l,a),y(l,[{key:"buildItem",value:function(f){var h=g(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"buildItem",this).call(this,f);return h.style.backgroundColor=f.getAttribute("value")||"",h}},{key:"selectItem",value:function(f,h){g(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"selectItem",this).call(this,f,h);var u=this.label.querySelector(".ql-color-label"),m=f&&f.getAttribute("data-value")||"";u&&("line"===u.tagName?u.style.stroke=m:u.style.fill=m)}}]),l}(((a=k(16))&&a.__esModule?a:{default:a}).default);O.default=r},function(q,O,k){"use strict";Object.defineProperty(O,"__esModule",{value:!0});var a,y=function(){function a(l,f){for(var h=0;h<f.length;h++){var u=f[h];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}return function(l,f,h){return f&&a(l.prototype,f),h&&a(l,h),l}}(),g=function a(l,f,h){null===l&&(l=Function.prototype);var u=Object.getOwnPropertyDescriptor(l,f);if(void 0===u){var m=Object.getPrototypeOf(l);return null===m?void 0:a(m,f,h)}if("value"in u)return u.value;var x=u.get;return void 0!==x?x.call(h):void 0},r=function(a){function l(f,h){!function n(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l);var u=function p(a,l){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?a:l}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,f));return u.container.classList.add("ql-icon-picker"),[].forEach.call(u.container.querySelectorAll(".ql-picker-item"),function(m){m.innerHTML=h[m.getAttribute("data-value")||""]}),u.defaultItem=u.container.querySelector(".ql-selected"),u.selectItem(u.defaultItem),u}return function c(a,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);a.prototype=Object.create(l&&l.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(a,l):a.__proto__=l)}(l,a),y(l,[{key:"selectItem",value:function(f,h){g(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"selectItem",this).call(this,f,h),this.label.innerHTML=(f=f||this.defaultItem).innerHTML}}]),l}(((a=k(16))&&a.__esModule?a:{default:a}).default);O.default=r},function(q,O,k){"use strict";Object.defineProperty(O,"__esModule",{value:!0});var p=function(){function y(g,d){for(var o=0;o<d.length;o++){var r=d[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(g,r.key,r)}}return function(g,d,o){return d&&y(g.prototype,d),o&&y(g,o),g}}(),c=function(){function y(g,d){var o=this;(function n(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")})(this,y),this.quill=g,this.boundsContainer=d||document.body,this.root=g.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){o.root.style.marginTop=-1*o.quill.root.scrollTop+"px"}),this.hide()}return p(y,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(g){var d=g.left+g.width/2-this.root.offsetWidth/2,o=g.bottom+this.quill.root.scrollTop;this.root.style.left=d+"px",this.root.style.top=o+"px",this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect(),a=this.root.getBoundingClientRect(),l=0;return a.right>r.right&&(this.root.style.left=d+(l=r.right-a.right)+"px"),a.left<r.left&&(this.root.style.left=d+(l=r.left-a.left)+"px"),a.bottom>r.bottom&&(this.root.style.top=o-(g.bottom-g.top+(a.bottom-a.top))+"px",this.root.classList.add("ql-flip")),l}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),y}();O.default=c},function(q,O,k){"use strict";function n(R){return R&&R.__esModule?R:{default:R}}function p(R,Z){if(!(R instanceof Z))throw new TypeError("Cannot call a class as a function")}function c(R,Z){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Z||"object"!=typeof Z&&"function"!=typeof Z?R:Z}function y(R,Z){if("function"!=typeof Z&&null!==Z)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);R.prototype=Object.create(Z&&Z.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(R,Z):R.__proto__=Z)}function d(R,Z){var H=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Z.forEach(function(D){var B=document.createElement("option");D===H?B.setAttribute("selected","selected"):B.setAttribute("value",D),R.appendChild(B)})}Object.defineProperty(O,"__esModule",{value:!0}),O.default=O.BaseTooltip=void 0;var o=function(){function R(Z,H){for(var D=0;D<H.length;D++){var B=H[D];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(Z,B.key,B)}}return function(Z,H,D){return H&&R(Z.prototype,H),D&&R(Z,D),Z}}(),r=function R(Z,H,D){null===Z&&(Z=Function.prototype);var B=Object.getOwnPropertyDescriptor(Z,H);if(void 0===B){var V=Object.getPrototypeOf(Z);return null===V?void 0:R(V,H,D)}if("value"in B)return B.value;var K=B.get;return void 0!==K?K.call(D):void 0},l=n(k(2)),h=n(k(4)),m=n(k(9)),_=n(k(25)),S=n(k(32)),N=n(k(41)),C=n(k(42)),w=n(k(16)),z=n(k(43)),G=[!1,"center","right","justify"],Y=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],X=[!1,"serif","monospace"],$=["1","2","3",!1],F=["small",!1,"large","huge"],E=function(R){function Z(H,D){p(this,Z);var B=c(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this,H,D));return H.emitter.listenDOM("click",document.body,function K(it){if(!document.body.contains(H.root))return document.body.removeEventListener("click",K);null==B.tooltip||B.tooltip.root.contains(it.target)||document.activeElement===B.tooltip.textbox||B.quill.hasFocus()||B.tooltip.hide(),null!=B.pickers&&B.pickers.forEach(function(et){et.container.contains(it.target)||et.close()})}),B}return y(Z,R),o(Z,[{key:"addModule",value:function(H){var D=r(Z.prototype.__proto__||Object.getPrototypeOf(Z.prototype),"addModule",this).call(this,H);return"toolbar"===H&&this.extendToolbar(D),D}},{key:"buildButtons",value:function(H,D){H.forEach(function(B){(B.getAttribute("class")||"").split(/\s+/).forEach(function(V){if(V.startsWith("ql-")&&(V=V.slice(3),null!=D[V]))if("direction"===V)B.innerHTML=D[V][""]+D[V].rtl;else if("string"==typeof D[V])B.innerHTML=D[V];else{var K=B.value||"";null!=K&&D[V][K]&&(B.innerHTML=D[V][K])}})})}},{key:"buildPickers",value:function(H,D){var B=this;this.pickers=H.map(function(K){if(K.classList.contains("ql-align"))return null==K.querySelector("option")&&d(K,G),new C.default(K,D.align);if(K.classList.contains("ql-background")||K.classList.contains("ql-color")){var it=K.classList.contains("ql-background")?"background":"color";return null==K.querySelector("option")&&d(K,Y,"background"===it?"#ffffff":"#000000"),new N.default(K,D[it])}return null==K.querySelector("option")&&(K.classList.contains("ql-font")?d(K,X):K.classList.contains("ql-header")?d(K,$):K.classList.contains("ql-size")&&d(K,F)),new w.default(K)}),this.quill.on(m.default.events.EDITOR_CHANGE,function(){B.pickers.forEach(function(K){K.update()})})}}]),Z}(S.default);E.DEFAULTS=(0,l.default)(!0,{},S.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var R=this,Z=this.container.querySelector("input.ql-image[type=file]");null==Z&&((Z=document.createElement("input")).setAttribute("type","file"),Z.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),Z.classList.add("ql-image"),Z.addEventListener("change",function(){if(null!=Z.files&&null!=Z.files[0]){var H=new FileReader;H.onload=function(D){var B=R.quill.getSelection(!0);R.quill.updateContents((new h.default).retain(B.index).delete(B.length).insert({image:D.target.result}),m.default.sources.USER),R.quill.setSelection(B.index+1,m.default.sources.SILENT),Z.value=""},H.readAsDataURL(Z.files[0])}}),this.container.appendChild(Z)),Z.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var I=function(R){function Z(H,D){p(this,Z);var B=c(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this,H,D));return B.textbox=B.root.querySelector('input[type="text"]'),B.listen(),B}return y(Z,R),o(Z,[{key:"listen",value:function(){var H=this;this.textbox.addEventListener("keydown",function(D){_.default.match(D,"enter")?(H.save(),D.preventDefault()):_.default.match(D,"escape")&&(H.cancel(),D.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=D?this.textbox.value=D:H!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+H)||""),this.root.setAttribute("data-mode",H)}},{key:"restoreFocus",value:function(){var H=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=H}},{key:"save",value:function(){var H=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var D=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",H,m.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",H,m.default.sources.USER)),this.quill.root.scrollTop=D;break;case"video":H=function g(R){var Z=R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return Z?(Z[1]||"https")+"://www.youtube.com/embed/"+Z[2]+"?showinfo=0":(Z=R.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(Z[1]||"https")+"://player.vimeo.com/video/"+Z[2]+"/":R}(H);case"formula":if(!H)break;var B=this.quill.getSelection(!0);if(null!=B){var V=B.index+B.length;this.quill.insertEmbed(V,this.root.getAttribute("data-mode"),H,m.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(V+1," ",m.default.sources.USER),this.quill.setSelection(V+2,m.default.sources.USER)}}this.textbox.value="",this.hide()}}]),Z}(z.default);O.BaseTooltip=I,O.default=E},function(q,O,k){"use strict";function n(ct){return ct&&ct.__esModule?ct:{default:ct}}Object.defineProperty(O,"__esModule",{value:!0});var c=n(k(46)),y=k(34),g=k(36),d=k(62),r=n(k(63)),l=n(k(64)),f=k(65),h=n(f),u=k(35),m=k(24),x=k(37),_=k(38),S=n(k(39)),N=n(k(66)),C=n(k(15)),w=n(k(67)),z=n(k(68)),Y=n(k(69)),$=n(k(70)),E=n(k(71)),I=k(13),R=n(I),H=n(k(72)),B=n(k(73)),K=n(k(74)),et=n(k(26)),pt=n(k(16)),vt=n(k(41)),Tt=n(k(42)),J=n(k(43)),nt=n(k(107)),rt=n(k(108));c.default.register({"attributors/attribute/direction":g.DirectionAttribute,"attributors/class/align":y.AlignClass,"attributors/class/background":u.BackgroundClass,"attributors/class/color":m.ColorClass,"attributors/class/direction":g.DirectionClass,"attributors/class/font":x.FontClass,"attributors/class/size":_.SizeClass,"attributors/style/align":y.AlignStyle,"attributors/style/background":u.BackgroundStyle,"attributors/style/color":m.ColorStyle,"attributors/style/direction":g.DirectionStyle,"attributors/style/font":x.FontStyle,"attributors/style/size":_.SizeStyle},!0),c.default.register({"formats/align":y.AlignClass,"formats/direction":g.DirectionClass,"formats/indent":d.IndentClass,"formats/background":u.BackgroundStyle,"formats/color":m.ColorStyle,"formats/font":x.FontClass,"formats/size":_.SizeClass,"formats/blockquote":r.default,"formats/code-block":R.default,"formats/header":l.default,"formats/list":h.default,"formats/bold":S.default,"formats/code":I.Code,"formats/italic":N.default,"formats/link":C.default,"formats/script":w.default,"formats/strike":z.default,"formats/underline":Y.default,"formats/image":$.default,"formats/video":E.default,"formats/list/item":f.ListItem,"modules/formula":H.default,"modules/syntax":B.default,"modules/toolbar":K.default,"themes/bubble":nt.default,"themes/snow":rt.default,"ui/icons":et.default,"ui/picker":pt.default,"ui/icon-picker":Tt.default,"ui/color-picker":vt.default,"ui/tooltip":J.default},!0),O.default=c.default},function(q,O,k){"use strict";function n(Y){return Y&&Y.__esModule?Y:{default:Y}}Object.defineProperty(O,"__esModule",{value:!0});var c=n(k(0)),g=n(k(6)),d=k(3),o=n(d),a=n(k(14)),f=n(k(23)),u=n(k(31)),x=n(k(33)),P=n(k(5)),M=n(k(59)),T=n(k(8)),b=n(k(60)),j=n(k(61)),G=n(k(25));g.default.register({"blots/block":o.default,"blots/block/embed":d.BlockEmbed,"blots/break":a.default,"blots/container":f.default,"blots/cursor":u.default,"blots/embed":x.default,"blots/inline":P.default,"blots/scroll":M.default,"blots/text":T.default,"modules/clipboard":b.default,"modules/history":j.default,"modules/keyboard":G.default}),c.default.register(o.default,a.default,u.default,P.default,M.default,T.default),O.default=g.default},function(q,O,k){"use strict";Object.defineProperty(O,"__esModule",{value:!0});var n=function(){function p(){this.head=this.tail=null,this.length=0}return p.prototype.append=function(){for(var c=[],y=0;y<arguments.length;y++)c[y]=arguments[y];this.insertBefore(c[0],null),c.length>1&&this.append.apply(this,c.slice(1))},p.prototype.contains=function(c){for(var y,g=this.iterator();y=g();)if(y===c)return!0;return!1},p.prototype.insertBefore=function(c,y){c&&(c.next=y,null!=y?(c.prev=y.prev,null!=y.prev&&(y.prev.next=c),y.prev=c,y===this.head&&(this.head=c)):null!=this.tail?(this.tail.next=c,c.prev=this.tail,this.tail=c):(c.prev=null,this.head=this.tail=c),this.length+=1)},p.prototype.offset=function(c){for(var y=0,g=this.head;null!=g;){if(g===c)return y;y+=g.length(),g=g.next}return-1},p.prototype.remove=function(c){this.contains(c)&&(null!=c.prev&&(c.prev.next=c.next),null!=c.next&&(c.next.prev=c.prev),c===this.head&&(this.head=c.next),c===this.tail&&(this.tail=c.prev),this.length-=1)},p.prototype.iterator=function(c){return void 0===c&&(c=this.head),function(){var y=c;return null!=c&&(c=c.next),y}},p.prototype.find=function(c,y){void 0===y&&(y=!1);for(var g,d=this.iterator();g=d();){var o=g.length();if(c<o||y&&c===o&&(null==g.next||0!==g.next.length()))return[g,c];c-=o}return[null,0]},p.prototype.forEach=function(c){for(var y,g=this.iterator();y=g();)c(y)},p.prototype.forEachAt=function(c,y,g){if(!(y<=0))for(var d,o=this.find(c),l=c-o[1],f=this.iterator(o[0]);(d=f())&&l<c+y;){var h=d.length();c>l?g(d,c-l,Math.min(y,l+h-c)):g(d,0,Math.min(h,c+y-l)),l+=h}},p.prototype.map=function(c){return this.reduce(function(y,g){return y.push(c(g)),y},[])},p.prototype.reduce=function(c,y){for(var g,d=this.iterator();g=d();)y=c(y,g);return y},p}();O.default=n},function(q,O,k){"use strict";var d,n=this&&this.__extends||(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var a in r)r.hasOwnProperty(a)&&(o[a]=r[a])},function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)});Object.defineProperty(O,"__esModule",{value:!0});var p=k(17),c=k(1),y={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},g=function(d){function o(r){var a=d.call(this,r)||this;return a.scroll=a,a.observer=new MutationObserver(function(l){a.update(l)}),a.observer.observe(a.domNode,y),a.attach(),a}return n(o,d),o.prototype.detach=function(){d.prototype.detach.call(this),this.observer.disconnect()},o.prototype.deleteAt=function(r,a){this.update(),0===r&&a===this.length()?this.children.forEach(function(l){l.remove()}):d.prototype.deleteAt.call(this,r,a)},o.prototype.formatAt=function(r,a,l,f){this.update(),d.prototype.formatAt.call(this,r,a,l,f)},o.prototype.insertAt=function(r,a,l){this.update(),d.prototype.insertAt.call(this,r,a,l)},o.prototype.optimize=function(r,a){var l=this;void 0===r&&(r=[]),void 0===a&&(a={}),d.prototype.optimize.call(this,a);for(var f=[].slice.call(this.observer.takeRecords());f.length>0;)r.push(f.pop());for(var h=function(_,P){void 0===P&&(P=!0),null!=_&&_!==l&&null!=_.domNode.parentNode&&(null==_.domNode[c.DATA_KEY].mutations&&(_.domNode[c.DATA_KEY].mutations=[]),P&&h(_.parent))},u=function(_){null!=_.domNode[c.DATA_KEY]&&null!=_.domNode[c.DATA_KEY].mutations&&(_ instanceof p.default&&_.children.forEach(u),_.optimize(a))},m=r,x=0;m.length>0;x+=1){if(x>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(m.forEach(function(_){var P=c.find(_.target,!0);null!=P&&(P.domNode===_.target&&("childList"===_.type?(h(c.find(_.previousSibling,!1)),[].forEach.call(_.addedNodes,function(S){var M=c.find(S,!1);h(M,!1),M instanceof p.default&&M.children.forEach(function(N){h(N,!1)})})):"attributes"===_.type&&h(P.prev)),h(P))}),this.children.forEach(u),f=(m=[].slice.call(this.observer.takeRecords())).slice();f.length>0;)r.push(f.pop())}},o.prototype.update=function(r,a){var l=this;void 0===a&&(a={}),(r=r||this.observer.takeRecords()).map(function(f){var h=c.find(f.target,!0);return null==h?null:null==h.domNode[c.DATA_KEY].mutations?(h.domNode[c.DATA_KEY].mutations=[f],h):(h.domNode[c.DATA_KEY].mutations.push(f),null)}).forEach(function(f){null!=f&&f!==l&&null!=f.domNode[c.DATA_KEY]&&f.update(f.domNode[c.DATA_KEY].mutations||[],a)}),null!=this.domNode[c.DATA_KEY].mutations&&d.prototype.update.call(this,this.domNode[c.DATA_KEY].mutations,a),this.optimize(r,a)},o.blotName="scroll",o.defaultChild="block",o.scope=c.Scope.BLOCK_BLOT,o.tagName="DIV",o}(p.default);O.default=g},function(q,O,k){"use strict";var d,p=this&&this.__extends||(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var a in r)r.hasOwnProperty(a)&&(o[a]=r[a])},function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)});Object.defineProperty(O,"__esModule",{value:!0});var c=k(18),y=k(1),g=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return p(o,d),o.formats=function(r){if(r.tagName!==o.tagName)return d.formats.call(this,r)},o.prototype.format=function(r,a){var l=this;r!==this.statics.blotName||a?d.prototype.format.call(this,r,a):(this.children.forEach(function(f){f instanceof c.default||(f=f.wrap(o.blotName,!0)),l.attributes.copy(f)}),this.unwrap())},o.prototype.formatAt=function(r,a,l,f){null!=this.formats()[l]||y.query(l,y.Scope.ATTRIBUTE)?this.isolate(r,a).format(l,f):d.prototype.formatAt.call(this,r,a,l,f)},o.prototype.optimize=function(r){d.prototype.optimize.call(this,r);var a=this.formats();if(0===Object.keys(a).length)return this.unwrap();var l=this.next;l instanceof o&&l.prev===this&&function n(d,o){if(Object.keys(d).length!==Object.keys(o).length)return!1;for(var r in d)if(d[r]!==o[r])return!1;return!0}(a,l.formats())&&(l.moveChildren(this),l.remove())},o.blotName="inline",o.scope=y.Scope.INLINE_BLOT,o.tagName="SPAN",o}(c.default);O.default=g},function(q,O,k){"use strict";var g,n=this&&this.__extends||(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,o){d.__proto__=o}||function(d,o){for(var r in o)o.hasOwnProperty(r)&&(d[r]=o[r])},function(d,o){function r(){this.constructor=d}g(d,o),d.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)});Object.defineProperty(O,"__esModule",{value:!0});var p=k(18),c=k(1),y=function(g){function d(){return null!==g&&g.apply(this,arguments)||this}return n(d,g),d.formats=function(o){var r=c.query(d.blotName).tagName;if(o.tagName!==r)return g.formats.call(this,o)},d.prototype.format=function(o,r){null!=c.query(o,c.Scope.BLOCK)&&(o!==this.statics.blotName||r?g.prototype.format.call(this,o,r):this.replaceWith(d.blotName))},d.prototype.formatAt=function(o,r,a,l){null!=c.query(a,c.Scope.BLOCK)?this.format(a,l):g.prototype.formatAt.call(this,o,r,a,l)},d.prototype.insertAt=function(o,r,a){if(null==a||null!=c.query(r,c.Scope.INLINE))g.prototype.insertAt.call(this,o,r,a);else{var l=this.split(o),f=c.create(r,a);l.parent.insertBefore(f,l)}},d.prototype.update=function(o,r){navigator.userAgent.match(/Trident/)?this.build():g.prototype.update.call(this,o,r)},d.blotName="block",d.scope=c.Scope.BLOCK_BLOT,d.tagName="P",d}(p.default);O.default=y},function(q,O,k){"use strict";var y,n=this&&this.__extends||(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var o in d)d.hasOwnProperty(o)&&(g[o]=d[o])},function(g,d){function o(){this.constructor=g}y(g,d),g.prototype=null===d?Object.create(d):(o.prototype=d.prototype,new o)});Object.defineProperty(O,"__esModule",{value:!0});var c=function(y){function g(){return null!==y&&y.apply(this,arguments)||this}return n(g,y),g.formats=function(d){},g.prototype.format=function(d,o){y.prototype.formatAt.call(this,0,this.length(),d,o)},g.prototype.formatAt=function(d,o,r,a){0===d&&o===this.length()?this.format(r,a):y.prototype.formatAt.call(this,d,o,r,a)},g.prototype.formats=function(){return this.statics.formats(this.domNode)},g}(k(19).default);O.default=c},function(q,O,k){"use strict";var g,n=this&&this.__extends||(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,o){d.__proto__=o}||function(d,o){for(var r in o)o.hasOwnProperty(r)&&(d[r]=o[r])},function(d,o){function r(){this.constructor=d}g(d,o),d.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)});Object.defineProperty(O,"__esModule",{value:!0});var p=k(19),c=k(1),y=function(g){function d(o){var r=g.call(this,o)||this;return r.text=r.statics.value(r.domNode),r}return n(d,g),d.create=function(o){return document.createTextNode(o)},d.value=function(o){var r=o.data;return r.normalize&&(r=r.normalize()),r},d.prototype.deleteAt=function(o,r){this.domNode.data=this.text=this.text.slice(0,o)+this.text.slice(o+r)},d.prototype.index=function(o,r){return this.domNode===o?r:-1},d.prototype.insertAt=function(o,r,a){null==a?(this.text=this.text.slice(0,o)+r+this.text.slice(o),this.domNode.data=this.text):g.prototype.insertAt.call(this,o,r,a)},d.prototype.length=function(){return this.text.length},d.prototype.optimize=function(o){g.prototype.optimize.call(this,o),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof d&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},d.prototype.position=function(o,r){return void 0===r&&(r=!1),[this.domNode,o]},d.prototype.split=function(o,r){if(void 0===r&&(r=!1),!r){if(0===o)return this;if(o===this.length())return this.next}var a=c.create(this.domNode.splitText(o));return this.parent.insertBefore(a,this.next),this.text=this.statics.value(this.domNode),a},d.prototype.update=function(o,r){var a=this;o.some(function(l){return"characterData"===l.type&&l.target===a.domNode})&&(this.text=this.statics.value(this.domNode))},d.prototype.value=function(){return this.text},d.blotName="text",d.scope=c.Scope.INLINE_BLOT,d}(p.default);O.default=y},function(q,O,k){"use strict";var n=document.createElement("div");if(n.classList.toggle("test-class",!1),n.classList.contains("test-class")){var p=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(c,y){return arguments.length>1&&!this.contains(c)==!y?y:p.call(this,c)}}String.prototype.startsWith||(String.prototype.startsWith=function(c,y){return this.substr(y=y||0,c.length)===c}),String.prototype.endsWith||(String.prototype.endsWith=function(c,y){var g=this.toString();("number"!=typeof y||!isFinite(y)||Math.floor(y)!==y||y>g.length)&&(y=g.length);var d=g.indexOf(c,y-=c.length);return-1!==d&&d===y}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(c){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof c)throw new TypeError("predicate must be a function");for(var y,g=Object(this),d=g.length>>>0,o=arguments[1],r=0;r<d;r++)if(c.call(o,y=g[r],r,g))return y}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(q,O){function k(_,P,S){if(_==P)return _?[[m,_]]:[];(S<0||_.length<S)&&(S=null);var M=y(_,P),N=_.substring(0,M);M=g(_=_.substring(M),P=P.substring(M));var T=_.substring(_.length-M),C=function n(_,P){var S;if(!_)return[[u,P]];if(!P)return[[h,_]];var M=_.length>P.length?_:P,N=_.length>P.length?P:_,T=M.indexOf(N);if(-1!=T)return S=[[u,M.substring(0,T)],[m,N],[u,M.substring(T+N.length)]],_.length>P.length&&(S[0][0]=S[2][0]=h),S;if(1==N.length)return[[h,_],[u,P]];var C=function d(_,P){function S(Y,X,$){for(var F,E,I,R,Z=Y.substring($,$+Math.floor(Y.length/4)),H=-1,D="";-1!=(H=X.indexOf(Z,H+1));){var B=y(Y.substring($),X.substring(H)),V=g(Y.substring(0,$),X.substring(0,H));D.length<V+B&&(D=X.substring(H-V,H)+X.substring(H,H+B),F=Y.substring(0,$-V),E=Y.substring($+B),I=X.substring(0,H-V),R=X.substring(H+B))}return 2*D.length>=Y.length?[F,E,I,R,D]:null}var M=_.length>P.length?_:P,N=_.length>P.length?P:_;if(M.length<4||2*N.length<M.length)return null;var T,w,j,z,G,C=S(M,N,Math.ceil(M.length/4)),b=S(M,N,Math.ceil(M.length/2));return C||b?(T=b?C&&C[4].length>b[4].length?C:b:C,_.length>P.length?(w=T[0],j=T[1],z=T[2],G=T[3]):(z=T[0],G=T[1],w=T[2],j=T[3]),[w,j,z,G,T[4]]):null}(_,P);if(C){var w=C[1],z=C[3],G=C[4],Y=k(C[0],C[2]),X=k(w,z);return Y.concat([[m,G]],X)}return function p(_,P){for(var S=_.length,M=P.length,N=Math.ceil((S+M)/2),T=N,C=2*N,b=new Array(C),w=new Array(C),j=0;j<C;j++)b[j]=-1,w[j]=-1;b[T+1]=0,w[T+1]=0;for(var z=S-M,G=z%2!=0,Y=0,X=0,$=0,F=0,E=0;E<N;E++){for(var I=-E+Y;I<=E-X;I+=2){for(var Z=T+I,H=(R=I==-E||I!=E&&b[Z-1]<b[Z+1]?b[Z+1]:b[Z-1]+1)-I;R<S&&H<M&&_.charAt(R)==P.charAt(H);)R++,H++;if(b[Z]=R,R>S)X+=2;else if(H>M)Y+=2;else if(G&&(D=T+z-I)>=0&&D<C&&-1!=w[D]&&R>=(B=S-w[D]))return c(_,P,R,H)}for(var V=-E+$;V<=E-F;V+=2){for(var B,D=T+V,K=(B=V==-E||V!=E&&w[D-1]<w[D+1]?w[D+1]:w[D-1]+1)-V;B<S&&K<M&&_.charAt(S-B-1)==P.charAt(M-K-1);)B++,K++;if(w[D]=B,B>S)F+=2;else if(K>M)$+=2;else if(!G){var R;if((Z=T+z-V)>=0&&Z<C&&-1!=b[Z])if(H=T+(R=b[Z])-Z,R>=(B=S-B))return c(_,P,R,H)}}}return[[h,_],[u,P]]}(_,P)}(_=_.substring(0,_.length-M),P=P.substring(0,P.length-M));return N&&C.unshift([m,N]),T&&C.push([m,T]),o(C),null!=S&&(C=function a(_,P){var S=function r(_,P){if(0===P)return[m,_];for(var S=0,M=0;M<_.length;M++){var N=_[M];if(N[0]===h||N[0]===m){var T=S+N[1].length;if(P===T)return[M+1,_];if(P<T){_=_.slice();var C=P-S,b=[N[0],N[1].slice(0,C)],w=[N[0],N[1].slice(C)];return _.splice(M,1,b,w),[M+1,_]}S=T}}throw new Error("cursor_pos is out of bounds!")}(_,P),M=S[1],N=S[0],T=M[N],C=M[N+1];if(null==T||T[0]!==m)return _;if(null!=C&&T[1]+C[1]===C[1]+T[1])return M.splice(N,2,C,T),f(M,N,2);if(null!=C&&0===C[1].indexOf(T[1])){M.splice(N,2,[C[0],T[1]],[0,T[1]]);var b=C[1].slice(T[1].length);return b.length>0&&M.splice(N+2,0,[C[0],b]),f(M,N,3)}return _}(C,S)),function l(_){for(var P=!1,S=function(T){return T.charCodeAt(0)>=56320&&T.charCodeAt(0)<=57343},M=2;M<_.length;M+=1)_[M-2][0]===m&&function(T){return T.charCodeAt(T.length-1)>=55296&&T.charCodeAt(T.length-1)<=56319}(_[M-2][1])&&_[M-1][0]===h&&S(_[M-1][1])&&_[M][0]===u&&S(_[M][1])&&(P=!0,_[M-1][1]=_[M-2][1].slice(-1)+_[M-1][1],_[M][1]=_[M-2][1].slice(-1)+_[M][1],_[M-2][1]=_[M-2][1].slice(0,-1));if(!P)return _;var N=[];for(M=0;M<_.length;M+=1)_[M][1].length>0&&N.push(_[M]);return N}(C)}function c(_,P,S,M){var N=_.substring(0,S),T=P.substring(0,M),C=_.substring(S),b=P.substring(M),w=k(N,T),j=k(C,b);return w.concat(j)}function y(_,P){if(!_||!P||_.charAt(0)!=P.charAt(0))return 0;for(var S=0,M=Math.min(_.length,P.length),N=M,T=0;S<N;)_.substring(T,N)==P.substring(T,N)?T=S=N:M=N,N=Math.floor((M-S)/2+S);return N}function g(_,P){if(!_||!P||_.charAt(_.length-1)!=P.charAt(P.length-1))return 0;for(var S=0,M=Math.min(_.length,P.length),N=M,T=0;S<N;)_.substring(_.length-N,_.length-T)==P.substring(P.length-N,P.length-T)?T=S=N:M=N,N=Math.floor((M-S)/2+S);return N}function o(_){_.push([m,""]);for(var P,S=0,M=0,N=0,T="",C="";S<_.length;)switch(_[S][0]){case u:N++,C+=_[S][1],S++;break;case h:M++,T+=_[S][1],S++;break;case m:M+N>1?(0!==M&&0!==N&&(0!==(P=y(C,T))&&(S-M-N>0&&_[S-M-N-1][0]==m?_[S-M-N-1][1]+=C.substring(0,P):(_.splice(0,0,[m,C.substring(0,P)]),S++),C=C.substring(P),T=T.substring(P)),0!==(P=g(C,T))&&(_[S][1]=C.substring(C.length-P)+_[S][1],C=C.substring(0,C.length-P),T=T.substring(0,T.length-P))),0===M?_.splice(S-N,M+N,[u,C]):0===N?_.splice(S-M,M+N,[h,T]):_.splice(S-M-N,M+N,[h,T],[u,C]),S=S-M-N+(M?1:0)+(N?1:0)+1):0!==S&&_[S-1][0]==m?(_[S-1][1]+=_[S][1],_.splice(S,1)):S++,N=0,M=0,T="",C=""}""===_[_.length-1][1]&&_.pop();var b=!1;for(S=1;S<_.length-1;)_[S-1][0]==m&&_[S+1][0]==m&&(_[S][1].substring(_[S][1].length-_[S-1][1].length)==_[S-1][1]?(_[S][1]=_[S-1][1]+_[S][1].substring(0,_[S][1].length-_[S-1][1].length),_[S+1][1]=_[S-1][1]+_[S+1][1],_.splice(S-1,1),b=!0):_[S][1].substring(0,_[S+1][1].length)==_[S+1][1]&&(_[S-1][1]+=_[S+1][1],_[S][1]=_[S][1].substring(_[S+1][1].length)+_[S+1][1],_.splice(S+1,1),b=!0)),S++;b&&o(_)}function f(_,P,S){for(var M=P+S-1;M>=0&&M>=P-1;M--)if(M+1<_.length){var N=_[M],T=_[M+1];N[0]===T[1]&&_.splice(M,2,[N[0],N[1]+T[1]])}return _}var h=-1,u=1,m=0,x=k;x.INSERT=u,x.DELETE=h,x.EQUAL=m,q.exports=x},function(q,O){function k(n){var p=[];for(var c in n)p.push(c);return p}(q.exports="function"==typeof Object.keys?Object.keys:k).shim=k},function(q,O){function k(c){return"[object Arguments]"==Object.prototype.toString.call(c)}function n(c){return c&&"object"==typeof c&&"number"==typeof c.length&&Object.prototype.hasOwnProperty.call(c,"callee")&&!Object.prototype.propertyIsEnumerable.call(c,"callee")||!1}var p="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();(O=q.exports=p?k:n).supported=k,O.unsupported=n},function(q,O,k){"use strict";function n(F){return F&&F.__esModule?F:{default:F}}function y(F,E){return Object.keys(E).reduce(function(I,R){return null==F[R]||(E[R]===F[R]?I[R]=E[R]:Array.isArray(E[R])?E[R].indexOf(F[R])<0&&(I[R]=E[R].concat([F[R]])):I[R]=[E[R],F[R]]),I},{})}Object.defineProperty(O,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(F){return typeof F}:function(F){return F&&"function"==typeof Symbol&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},o=function(E,I){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return function F(E,I){var R=[],Z=!0,H=!1,D=void 0;try{for(var B,V=E[Symbol.iterator]();!(Z=(B=V.next()).done)&&(R.push(B.value),!I||R.length!==I);Z=!0);}catch(K){H=!0,D=K}finally{try{!Z&&V.return&&V.return()}finally{if(H)throw D}}return R}(E,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function F(E,I){for(var R=0;R<I.length;R++){var Z=I[R];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(E,Z.key,Z)}}return function(E,I,R){return I&&F(E.prototype,I),R&&F(E,R),E}}(),l=n(k(4)),h=n(k(20)),m=n(k(0)),_=n(k(13)),S=n(k(31)),M=k(3),N=n(M),C=n(k(14)),w=n(k(21)),z=n(k(12)),Y=n(k(2)),X=/^[ -~]*$/,$=function(){function F(E){(function c(F,E){if(!(F instanceof E))throw new TypeError("Cannot call a class as a function")})(this,F),this.scroll=E,this.delta=this.getDelta()}return r(F,[{key:"applyDelta",value:function(E){var I=this,R=!1;this.scroll.update();var Z=this.scroll.length();return this.scroll.batchStart(),E=function g(F){return F.reduce(function(E,I){if(1===I.insert){var R=(0,w.default)(I.attributes);return delete R.image,E.insert({image:I.attributes.image},R)}if(null==I.attributes||!0!==I.attributes.list&&!0!==I.attributes.bullet||((I=(0,w.default)(I)).attributes.list?I.attributes.list="ordered":(I.attributes.list="bullet",delete I.attributes.bullet)),"string"==typeof I.insert){var Z=I.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return E.insert(Z,I.attributes)}return E.push(I)},new l.default)}(E),E.reduce(function(H,D){var B=D.retain||D.delete||D.insert.length||1,V=D.attributes||{};if(null!=D.insert){if("string"==typeof D.insert){var K=D.insert;K.endsWith("\n")&&R&&(R=!1,K=K.slice(0,-1)),H>=Z&&!K.endsWith("\n")&&(R=!0),I.scroll.insertAt(H,K);var it=I.scroll.line(H),et=o(it,2),lt=et[0],pt=et[1],_t=(0,Y.default)({},(0,M.bubbleFormats)(lt));if(lt instanceof N.default){var vt=lt.descendant(m.default.Leaf,pt),Et=o(vt,1);_t=(0,Y.default)(_t,(0,M.bubbleFormats)(Et[0]))}V=h.default.attributes.diff(_t,V)||{}}else if("object"===d(D.insert)){var kt=Object.keys(D.insert)[0];if(null==kt)return H;I.scroll.insertAt(H,kt,D.insert[kt])}Z+=B}return Object.keys(V).forEach(function(J){I.scroll.formatAt(H,B,J,V[J])}),H+B},0),E.reduce(function(H,D){return"number"==typeof D.delete?(I.scroll.deleteAt(H,D.delete),H):H+(D.retain||D.insert.length||1)},0),this.scroll.batchEnd(),this.update(E)}},{key:"deleteText",value:function(E,I){return this.scroll.deleteAt(E,I),this.update((new l.default).retain(E).delete(I))}},{key:"formatLine",value:function(E,I){var R=this,Z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(Z).forEach(function(H){if(null==R.scroll.whitelist||R.scroll.whitelist[H]){var D=R.scroll.lines(E,Math.max(I,1)),B=I;D.forEach(function(V){var K=V.length();if(V instanceof _.default){var it=E-V.offset(R.scroll),et=V.newlineIndex(it+B)-it+1;V.formatAt(it,et,H,Z[H])}else V.format(H,Z[H]);B-=K})}}),this.scroll.optimize(),this.update((new l.default).retain(E).retain(I,(0,w.default)(Z)))}},{key:"formatText",value:function(E,I){var R=this,Z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(Z).forEach(function(H){R.scroll.formatAt(E,I,H,Z[H])}),this.update((new l.default).retain(E).retain(I,(0,w.default)(Z)))}},{key:"getContents",value:function(E,I){return this.delta.slice(E,E+I)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(E,I){return E.concat(I.delta())},new l.default)}},{key:"getFormat",value:function(E){var I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,R=[],Z=[];0===I?this.scroll.path(E).forEach(function(D){var V=o(D,1)[0];V instanceof N.default?R.push(V):V instanceof m.default.Leaf&&Z.push(V)}):(R=this.scroll.lines(E,I),Z=this.scroll.descendants(m.default.Leaf,E,I));var H=[R,Z].map(function(D){if(0===D.length)return{};for(var B=(0,M.bubbleFormats)(D.shift());Object.keys(B).length>0;){var V=D.shift();if(null==V)return B;B=y((0,M.bubbleFormats)(V),B)}return B});return Y.default.apply(Y.default,H)}},{key:"getText",value:function(E,I){return this.getContents(E,I).filter(function(R){return"string"==typeof R.insert}).map(function(R){return R.insert}).join("")}},{key:"insertEmbed",value:function(E,I,R){return this.scroll.insertAt(E,I,R),this.update((new l.default).retain(E).insert(function p(F,E,I){return E in F?Object.defineProperty(F,E,{value:I,enumerable:!0,configurable:!0,writable:!0}):F[E]=I,F}({},I,R)))}},{key:"insertText",value:function(E,I){var R=this,Z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return I=I.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(E,I),Object.keys(Z).forEach(function(H){R.scroll.formatAt(E,I.length,H,Z[H])}),this.update((new l.default).retain(E).insert(I,(0,w.default)(Z)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var E=this.scroll.children.head;return E.statics.blotName===N.default.blotName&&!(E.children.length>1)&&E.children.head instanceof C.default}},{key:"removeFormat",value:function(E,I){var R=this.getText(E,I),Z=this.scroll.line(E+I),H=o(Z,2),D=H[0],B=H[1],V=0,K=new l.default;null!=D&&(V=D instanceof _.default?D.newlineIndex(B)-B+1:D.length()-B,K=D.delta().slice(B,B+V-1).insert("\n"));var et=this.getContents(E,I+V).diff((new l.default).insert(R).concat(K)),lt=(new l.default).retain(E).concat(et);return this.applyDelta(lt)}},{key:"update",value:function(E){var I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],R=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,Z=this.delta;if(1===I.length&&"characterData"===I[0].type&&I[0].target.data.match(X)&&m.default.find(I[0].target)){var H=m.default.find(I[0].target),D=(0,M.bubbleFormats)(H),B=H.offset(this.scroll),V=I[0].oldValue.replace(S.default.CONTENTS,""),K=(new l.default).insert(V),it=(new l.default).insert(H.value());E=(new l.default).retain(B).concat(K.diff(it,R)).reduce(function(et,lt){return lt.insert?et.insert(lt.insert,D):et.push(lt)},new l.default),this.delta=Z.compose(E)}else this.delta=this.getDelta(),E&&(0,z.default)(Z.compose(E),this.delta)||(E=Z.diff(this.delta,R));return E}}]),F}();O.default=$},function(q,O){"use strict";function k(){}function n(g,d,o){this.fn=g,this.context=d,this.once=o||!1}function p(){this._events=new k,this._eventsCount=0}var c=Object.prototype.hasOwnProperty,y="~";Object.create&&(k.prototype=Object.create(null),(new k).__proto__||(y=!1)),p.prototype.eventNames=function(){var g,d,o=[];if(0===this._eventsCount)return o;for(d in g=this._events)c.call(g,d)&&o.push(y?d.slice(1):d);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(g)):o},p.prototype.listeners=function(g,d){var r=this._events[y?y+g:g];if(d)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var a=0,l=r.length,f=new Array(l);a<l;a++)f[a]=r[a].fn;return f},p.prototype.emit=function(g,d,o,r,a,l){var f=y?y+g:g;if(!this._events[f])return!1;var h,u,m=this._events[f],x=arguments.length;if(m.fn){switch(m.once&&this.removeListener(g,m.fn,void 0,!0),x){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,d),!0;case 3:return m.fn.call(m.context,d,o),!0;case 4:return m.fn.call(m.context,d,o,r),!0;case 5:return m.fn.call(m.context,d,o,r,a),!0;case 6:return m.fn.call(m.context,d,o,r,a,l),!0}for(u=1,h=new Array(x-1);u<x;u++)h[u-1]=arguments[u];m.fn.apply(m.context,h)}else{var _,P=m.length;for(u=0;u<P;u++)switch(m[u].once&&this.removeListener(g,m[u].fn,void 0,!0),x){case 1:m[u].fn.call(m[u].context);break;case 2:m[u].fn.call(m[u].context,d);break;case 3:m[u].fn.call(m[u].context,d,o);break;case 4:m[u].fn.call(m[u].context,d,o,r);break;default:if(!h)for(_=1,h=new Array(x-1);_<x;_++)h[_-1]=arguments[_];m[u].fn.apply(m[u].context,h)}}return!0},p.prototype.on=function(g,d,o){var r=new n(d,o||this),a=y?y+g:g;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):(this._events[a]=r,this._eventsCount++),this},p.prototype.once=function(g,d,o){var r=new n(d,o||this,!0),a=y?y+g:g;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):(this._events[a]=r,this._eventsCount++),this},p.prototype.removeListener=function(g,d,o,r){var a=y?y+g:g;if(!this._events[a])return this;if(!d)return 0==--this._eventsCount?this._events=new k:delete this._events[a],this;var l=this._events[a];if(l.fn)l.fn!==d||r&&!l.once||o&&l.context!==o||(0==--this._eventsCount?this._events=new k:delete this._events[a]);else{for(var f=0,h=[],u=l.length;f<u;f++)(l[f].fn!==d||r&&!l[f].once||o&&l[f].context!==o)&&h.push(l[f]);h.length?this._events[a]=1===h.length?h[0]:h:0==--this._eventsCount?this._events=new k:delete this._events[a]}return this},p.prototype.removeAllListeners=function(g){var d;return g?this._events[d=y?y+g:g]&&(0==--this._eventsCount?this._events=new k:delete this._events[d]):(this._events=new k,this._eventsCount=0),this},p.prototype.off=p.prototype.removeListener,p.prototype.addListener=p.prototype.on,p.prototype.setMaxListeners=function(){return this},p.prefixed=y,p.EventEmitter=p,void 0!==q&&(q.exports=p)},function(q,O,k){"use strict";function n(C){return C&&C.__esModule?C:{default:C}}function g(C){return C instanceof m.default||C instanceof u.BlockEmbed}Object.defineProperty(O,"__esModule",{value:!0});var d=function(b,w){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return function C(b,w){var j=[],z=!0,G=!1,Y=void 0;try{for(var X,$=b[Symbol.iterator]();!(z=(X=$.next()).done)&&(j.push(X.value),!w||j.length!==w);z=!0);}catch(F){G=!0,Y=F}finally{try{!z&&$.return&&$.return()}finally{if(G)throw Y}}return j}(b,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function C(b,w){for(var j=0;j<w.length;j++){var z=w[j];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(b,z.key,z)}}return function(b,w,j){return w&&C(b.prototype,w),j&&C(b,j),b}}(),r=function C(b,w,j){null===b&&(b=Function.prototype);var z=Object.getOwnPropertyDescriptor(b,w);if(void 0===z){var G=Object.getPrototypeOf(b);return null===G?void 0:C(G,w,j)}if("value"in z)return z.value;var Y=z.get;return void 0!==Y?Y.call(j):void 0},l=n(k(0)),h=n(k(9)),u=k(3),m=n(u),_=n(k(14)),S=n(k(13)),N=n(k(23)),T=function(C){function b(w,j){!function p(C,b){if(!(C instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var z=function c(C,b){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?C:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,w));return z.emitter=j.emitter,Array.isArray(j.whitelist)&&(z.whitelist=j.whitelist.reduce(function(G,Y){return G[Y]=!0,G},{})),z.domNode.addEventListener("DOMNodeInserted",function(){}),z.optimize(),z.enable(),z}return function y(C,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);C.prototype=Object.create(b&&b.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(C,b):C.__proto__=b)}(b,C),o(b,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(w,j){var z=this.line(w),G=d(z,2),Y=G[0],X=G[1],$=this.line(w+j),E=d($,1)[0];if(r(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"deleteAt",this).call(this,w,j),null!=E&&Y!==E&&X>0){if(Y instanceof u.BlockEmbed||E instanceof u.BlockEmbed)return void this.optimize();if(Y instanceof S.default){var I=Y.newlineIndex(Y.length(),!0);if(I>-1&&(Y=Y.split(I+1))===E)return void this.optimize()}else if(E instanceof S.default){var R=E.newlineIndex(0);R>-1&&E.split(R+1)}Y.moveChildren(E,E.children.head instanceof _.default?null:E.children.head),Y.remove()}this.optimize()}},{key:"enable",value:function(){this.domNode.setAttribute("contenteditable",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])}},{key:"formatAt",value:function(w,j,z,G){(null==this.whitelist||this.whitelist[z])&&(r(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,w,j,z,G),this.optimize())}},{key:"insertAt",value:function(w,j,z){if(null==z||null==this.whitelist||this.whitelist[j]){if(w>=this.length())if(null==z||null==l.default.query(j,l.default.Scope.BLOCK)){var G=l.default.create(this.statics.defaultChild);this.appendChild(G),null==z&&j.endsWith("\n")&&(j=j.slice(0,-1)),G.insertAt(0,j,z)}else{var Y=l.default.create(j,z);this.appendChild(Y)}else r(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertAt",this).call(this,w,j,z);this.optimize()}}},{key:"insertBefore",value:function(w,j){if(w.statics.scope===l.default.Scope.INLINE_BLOT){var z=l.default.create(this.statics.defaultChild);z.appendChild(w),w=z}r(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertBefore",this).call(this,w,j)}},{key:"leaf",value:function(w){return this.path(w).pop()||[null,-1]}},{key:"line",value:function(w){return w===this.length()?this.line(w-1):this.descendant(g,w)}},{key:"lines",value:function(){return function z(G,Y,X){var $=[],F=X;return G.children.forEachAt(Y,X,function(E,I,R){g(E)?$.push(E):E instanceof l.default.Container&&($=$.concat(z(E,I,F))),F-=R}),$}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(r(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,w,j),w.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,w,j))}},{key:"path",value:function(w){return r(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"path",this).call(this,w).slice(1)}},{key:"update",value:function(w){if(!0!==this.batch){var j=h.default.sources.USER;"string"==typeof w&&(j=w),Array.isArray(w)||(w=this.observer.takeRecords()),w.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,j,w),r(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"update",this).call(this,w.concat([])),w.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,j,w)}}}]),b}(l.default.Scroll);T.blotName="scroll",T.className="ql-editor",T.tagName="DIV",T.defaultChild="block",T.allowedChildren=[m.default,u.BlockEmbed,N.default],O.default=T},function(q,O,k){"use strict";function n(J){return J&&J.__esModule?J:{default:J}}function p(J,tt,nt){return tt in J?Object.defineProperty(J,tt,{value:nt,enumerable:!0,configurable:!0,writable:!0}):J[tt]=nt,J}function d(J,tt,nt){return"object"===(void 0===tt?"undefined":T(tt))?Object.keys(tt).reduce(function(st,rt){return d(st,rt,tt[rt])},J):J.reduce(function(st,rt){return rt.attributes&&rt.attributes[tt]?st.push(rt):st.insert(rt.insert,(0,j.default)({},p({},tt,nt),rt.attributes))},new G.default)}function o(J){return J.nodeType!==Node.ELEMENT_NODE?{}:J["__ql-computed-style"]||(J["__ql-computed-style"]=window.getComputedStyle(J))}function r(J,tt){for(var nt="",st=J.ops.length-1;st>=0&&nt.length<tt.length;--st){var rt=J.ops[st];if("string"!=typeof rt.insert)break;nt=rt.insert+nt}return nt.slice(-1*tt.length)===tt}function a(J){return 0!==J.childNodes.length&&["block","list-item"].indexOf(o(J).display)>-1}function l(J,tt,nt){return J.nodeType===J.TEXT_NODE?nt.reduce(function(st,rt){return rt(J,st)},new G.default):J.nodeType===J.ELEMENT_NODE?[].reduce.call(J.childNodes||[],function(st,rt){var ct=l(rt,tt,nt);return rt.nodeType===J.ELEMENT_NODE&&(ct=tt.reduce(function(xt,mt){return mt(rt,xt)},ct),ct=(rt[_t]||[]).reduce(function(xt,mt){return mt(rt,xt)},ct)),st.concat(ct)},new G.default):new G.default}function f(J,tt,nt){return d(nt,J,!0)}function h(J,tt){var nt=X.default.Attributor.Attribute.keys(J),st=X.default.Attributor.Class.keys(J),rt=X.default.Attributor.Style.keys(J),ct={};return nt.concat(st).concat(rt).forEach(function(xt){var mt=X.default.query(xt,X.default.Scope.ATTRIBUTE);null!=mt&&(ct[mt.attrName]=mt.value(J),ct[mt.attrName])||(null==(mt=Et[xt])||mt.attrName!==xt&&mt.keyName!==xt||(ct[mt.attrName]=mt.value(J)||void 0),null==(mt=Tt[xt])||mt.attrName!==xt&&mt.keyName!==xt||(ct[(mt=Tt[xt]).attrName]=mt.value(J)||void 0))}),Object.keys(ct).length>0&&(tt=d(tt,ct)),tt}function u(J,tt){var nt=X.default.query(J);if(null==nt)return tt;if(nt.prototype instanceof X.default.Embed){var st={},rt=nt.value(J);null!=rt&&(st[nt.blotName]=rt,tt=(new G.default).insert(st,nt.formats(J)))}else"function"==typeof nt.formats&&(tt=d(tt,nt.blotName,nt.formats(J)));return tt}function P(J,tt){return r(tt,"\n")||(a(J)||tt.length()>0&&J.nextSibling&&a(J.nextSibling))&&tt.insert("\n"),tt}function S(J,tt){if(a(J)&&null!=J.nextElementSibling&&!r(tt,"\n\n")){var nt=J.offsetHeight+parseFloat(o(J).marginTop)+parseFloat(o(J).marginBottom);J.nextElementSibling.offsetTop>J.offsetTop+1.5*nt&&tt.insert("\n")}return tt}function N(J,tt){var nt=J.data;if("O:P"===J.parentNode.tagName)return tt.insert(nt.trim());if(0===nt.trim().length&&J.parentNode.classList.contains("ql-clipboard"))return tt;if(!o(J.parentNode).whiteSpace.startsWith("pre")){var st=function(rt,ct){return(ct=ct.replace(/[^\u00a0]/g,"")).length<1&&rt?" ":ct};nt=(nt=nt.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,st.bind(st,!0)),(null==J.previousSibling&&a(J.parentNode)||null!=J.previousSibling&&a(J.previousSibling))&&(nt=nt.replace(/^\s+/,st.bind(st,!1))),(null==J.nextSibling&&a(J.parentNode)||null!=J.nextSibling&&a(J.nextSibling))&&(nt=nt.replace(/\s+$/,st.bind(st,!1)))}return tt.insert(nt)}Object.defineProperty(O,"__esModule",{value:!0}),O.matchText=O.matchSpacing=O.matchNewline=O.matchBlot=O.matchAttributor=O.default=void 0;var T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(J){return typeof J}:function(J){return J&&"function"==typeof Symbol&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},C=function(tt,nt){if(Array.isArray(tt))return tt;if(Symbol.iterator in Object(tt))return function J(tt,nt){var st=[],rt=!0,ct=!1,xt=void 0;try{for(var mt,Mt=tt[Symbol.iterator]();!(rt=(mt=Mt.next()).done)&&(st.push(mt.value),!nt||st.length!==nt);rt=!0);}catch(wt){ct=!0,xt=wt}finally{try{!rt&&Mt.return&&Mt.return()}finally{if(ct)throw xt}}return st}(tt,nt);throw new TypeError("Invalid attempt to destructure non-iterable instance")},b=function(){function J(tt,nt){for(var st=0;st<nt.length;st++){var rt=nt[st];rt.enumerable=rt.enumerable||!1,rt.configurable=!0,"value"in rt&&(rt.writable=!0),Object.defineProperty(tt,rt.key,rt)}}return function(tt,nt,st){return nt&&J(tt.prototype,nt),st&&J(tt,st),tt}}(),j=n(k(2)),G=n(k(4)),X=n(k(0)),F=n(k(6)),I=n(k(10)),Z=n(k(7)),H=k(34),D=k(35),V=n(k(13)),K=k(24),it=k(36),et=k(37),lt=k(38),pt=(0,I.default)("quill:clipboard"),_t="__ql-matcher",vt=[[Node.TEXT_NODE,N],[Node.TEXT_NODE,P],["br",function m(J,tt){return r(tt,"\n")||tt.insert("\n"),tt}],[Node.ELEMENT_NODE,P],[Node.ELEMENT_NODE,u],[Node.ELEMENT_NODE,S],[Node.ELEMENT_NODE,h],[Node.ELEMENT_NODE,function M(J,tt){var nt={},st=J.style||{};return st.fontStyle&&"italic"===o(J).fontStyle&&(nt.italic=!0),st.fontWeight&&(o(J).fontWeight.startsWith("bold")||parseInt(o(J).fontWeight)>=700)&&(nt.bold=!0),Object.keys(nt).length>0&&(tt=d(tt,nt)),parseFloat(st.textIndent||0)>0&&(tt=(new G.default).insert("\t").concat(tt)),tt}],["li",function _(J,tt){var nt=X.default.query(J);if(null==nt||"list-item"!==nt.blotName||!r(tt,"\n"))return tt;for(var st=-1,rt=J.parentNode;!rt.classList.contains("ql-clipboard");)"list"===(X.default.query(rt)||{}).blotName&&(st+=1),rt=rt.parentNode;return st<=0?tt:tt.compose((new G.default).retain(tt.length()-1).retain(1,{indent:st}))}],["b",f.bind(f,"bold")],["i",f.bind(f,"italic")],["style",function x(){return new G.default}]],Et=[H.AlignAttribute,it.DirectionAttribute].reduce(function(J,tt){return J[tt.keyName]=tt,J},{}),Tt=[H.AlignStyle,D.BackgroundStyle,K.ColorStyle,it.DirectionStyle,et.FontStyle,lt.SizeStyle].reduce(function(J,tt){return J[tt.keyName]=tt,J},{}),kt=function(J){function tt(nt,st){!function c(J,tt){if(!(J instanceof tt))throw new TypeError("Cannot call a class as a function")}(this,tt);var rt=function y(J,tt){if(!J)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!tt||"object"!=typeof tt&&"function"!=typeof tt?J:tt}(this,(tt.__proto__||Object.getPrototypeOf(tt)).call(this,nt,st));return rt.quill.root.addEventListener("paste",rt.onPaste.bind(rt)),rt.container=rt.quill.addContainer("ql-clipboard"),rt.container.setAttribute("contenteditable",!0),rt.container.setAttribute("tabindex",-1),rt.matchers=[],vt.concat(rt.options.matchers).forEach(function(ct){var xt=C(ct,2),Mt=xt[1];(st.matchVisual||Mt!==S)&&rt.addMatcher(xt[0],Mt)}),rt}return function g(J,tt){if("function"!=typeof tt&&null!==tt)throw new TypeError("Super expression must either be null or a function, not "+typeof tt);J.prototype=Object.create(tt&&tt.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),tt&&(Object.setPrototypeOf?Object.setPrototypeOf(J,tt):J.__proto__=tt)}(tt,J),b(tt,[{key:"addMatcher",value:function(nt,st){this.matchers.push([nt,st])}},{key:"convert",value:function(nt){if("string"==typeof nt)return this.container.innerHTML=nt.replace(/\>\r?\n +\</g,"><"),this.convert();var st=this.quill.getFormat(this.quill.selection.savedRange.index);if(st[V.default.blotName]){var rt=this.container.innerText;return this.container.innerHTML="",(new G.default).insert(rt,p({},V.default.blotName,st[V.default.blotName]))}var ct=this.prepareMatching(),xt=C(ct,2),wt=l(this.container,xt[0],xt[1]);return r(wt,"\n")&&null==wt.ops[wt.ops.length-1].attributes&&(wt=wt.compose((new G.default).retain(wt.length()-1).delete(1))),pt.log("convert",this.container.innerHTML,wt),this.container.innerHTML="",wt}},{key:"dangerouslyPasteHTML",value:function(nt,st){var rt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F.default.sources.API;if("string"==typeof nt)this.quill.setContents(this.convert(nt),st),this.quill.setSelection(0,F.default.sources.SILENT);else{var ct=this.convert(st);this.quill.updateContents((new G.default).retain(nt).concat(ct),rt),this.quill.setSelection(nt+ct.length(),F.default.sources.SILENT)}}},{key:"onPaste",value:function(nt){var st=this;if(!nt.defaultPrevented&&this.quill.isEnabled()){var rt=this.quill.getSelection(),ct=(new G.default).retain(rt.index),xt=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(F.default.sources.SILENT),setTimeout(function(){ct=ct.concat(st.convert()).delete(rt.length),st.quill.updateContents(ct,F.default.sources.USER),st.quill.setSelection(ct.length()-rt.length,F.default.sources.SILENT),st.quill.scrollingContainer.scrollTop=xt,st.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var nt=this,st=[],rt=[];return this.matchers.forEach(function(ct){var xt=C(ct,2),mt=xt[0],Mt=xt[1];switch(mt){case Node.TEXT_NODE:rt.push(Mt);break;case Node.ELEMENT_NODE:st.push(Mt);break;default:[].forEach.call(nt.container.querySelectorAll(mt),function(wt){wt[_t]=wt[_t]||[],wt[_t].push(Mt)})}}),[st,rt]}}]),tt}(Z.default);kt.DEFAULTS={matchers:[],matchVisual:!0},O.default=kt,O.matchAttributor=h,O.matchBlot=u,O.matchNewline=P,O.matchSpacing=S,O.matchText=N},function(q,O,k){"use strict";function n(x){return x&&x.__esModule?x:{default:x}}function d(x){var _=x.reduce(function(S,M){return S+(M.delete||0)},0),P=x.length()-_;return function g(x){var _=x.ops[x.ops.length-1];return null!=_&&(null!=_.insert?"string"==typeof _.insert&&_.insert.endsWith("\n"):null!=_.attributes&&Object.keys(_.attributes).some(function(P){return null!=a.default.query(P,a.default.Scope.BLOCK)}))}(x)&&(P-=1),P}Object.defineProperty(O,"__esModule",{value:!0}),O.getLastChangeIndex=O.default=void 0;var o=function(){function x(_,P){for(var S=0;S<P.length;S++){var M=P[S];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}return function(_,P,S){return P&&x(_.prototype,P),S&&x(_,S),_}}(),a=n(k(0)),f=n(k(6)),m=function(x){function _(P,S){!function p(x,_){if(!(x instanceof _))throw new TypeError("Cannot call a class as a function")}(this,_);var M=function c(x,_){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||"object"!=typeof _&&"function"!=typeof _?x:_}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,P,S));return M.lastRecorded=0,M.ignoreChange=!1,M.clear(),M.quill.on(f.default.events.EDITOR_CHANGE,function(N,T,C,b){N!==f.default.events.TEXT_CHANGE||M.ignoreChange||(M.options.userOnly&&b!==f.default.sources.USER?M.transform(T):M.record(T,C))}),M.quill.keyboard.addBinding({key:"Z",shortKey:!0},M.undo.bind(M)),M.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},M.redo.bind(M)),/Win/i.test(navigator.platform)&&M.quill.keyboard.addBinding({key:"Y",shortKey:!0},M.redo.bind(M)),M}return function y(x,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);x.prototype=Object.create(_&&_.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(x,_):x.__proto__=_)}(_,x),o(_,[{key:"change",value:function(P,S){if(0!==this.stack[P].length){var M=this.stack[P].pop();this.stack[S].push(M),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(M[P],f.default.sources.USER),this.ignoreChange=!1;var N=d(M[P]);this.quill.setSelection(N)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(P,S){if(0!==P.ops.length){this.stack.redo=[];var M=this.quill.getContents().diff(S),N=Date.now();if(this.lastRecorded+this.options.delay>N&&this.stack.undo.length>0){var T=this.stack.undo.pop();M=M.compose(T.undo),P=T.redo.compose(P)}else this.lastRecorded=N;this.stack.undo.push({redo:P,undo:M}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(P){this.stack.undo.forEach(function(S){S.undo=P.transform(S.undo,!0),S.redo=P.transform(S.redo,!0)}),this.stack.redo.forEach(function(S){S.undo=P.transform(S.undo,!0),S.redo=P.transform(S.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),_}(n(k(7)).default);m.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},O.default=m,O.getLastChangeIndex=d},function(q,O,k){"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.IndentClass=void 0;var l,y=function(){function l(f,h){for(var u=0;u<h.length;u++){var m=h[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,h,u){return h&&l(f.prototype,h),u&&l(f,u),f}}(),g=function l(f,h,u){null===f&&(f=Function.prototype);var m=Object.getOwnPropertyDescriptor(f,h);if(void 0===m){var x=Object.getPrototypeOf(f);return null===x?void 0:l(x,h,u)}if("value"in m)return m.value;var _=m.get;return void 0!==_?_.call(u):void 0},o=(l=k(0))&&l.__esModule?l:{default:l},r=function(l){function f(){return function n(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}(this,f),function p(l,f){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?l:f}(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return function c(l,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);l.prototype=Object.create(f&&f.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(l,f):l.__proto__=f)}(f,l),y(f,[{key:"add",value:function(h,u){if("+1"===u||"-1"===u){var m=this.value(h)||0;u="+1"===u?m+1:m-1}return 0===u?(this.remove(h),!0):g(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"add",this).call(this,h,u)}},{key:"canAdd",value:function(h,u){return g(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"canAdd",this).call(this,h,u)||g(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"canAdd",this).call(this,h,parseInt(u))}},{key:"value",value:function(h){return parseInt(g(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"value",this).call(this,h))||void 0}}]),f}(o.default.Attributor.Class),a=new r("indent","ql-indent",{scope:o.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});O.IndentClass=a},function(q,O,k){"use strict";Object.defineProperty(O,"__esModule",{value:!0});var o,d=function(o){function r(){return function n(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),function p(o,r){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?o:r}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function c(o,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);o.prototype=Object.create(r&&r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(o,r):o.__proto__=r)}(r,o),r}(((o=k(3))&&o.__esModule?o:{default:o}).default);d.blotName="blockquote",d.tagName="blockquote",O.default=d},function(q,O,k){"use strict";Object.defineProperty(O,"__esModule",{value:!0});var r,y=function(){function r(a,l){for(var f=0;f<l.length;f++){var h=l[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}return function(a,l,f){return l&&r(a.prototype,l),f&&r(a,f),a}}(),o=function(r){function a(){return function n(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),function p(r,a){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?r:a}(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function c(r,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(r,a):r.__proto__=a)}(a,r),y(a,null,[{key:"formats",value:function(l){return this.tagName.indexOf(l.tagName)+1}}]),a}(((r=k(3))&&r.__esModule?r:{default:r}).default);o.blotName="header",o.tagName=["H1","H2","H3","H4","H5","H6"],O.default=o},function(q,O,k){"use strict";function n(_){return _&&_.__esModule?_:{default:_}}function c(_,P){if(!(_ instanceof P))throw new TypeError("Cannot call a class as a function")}function y(_,P){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?_:P}function g(_,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);_.prototype=Object.create(P&&P.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(_,P):_.__proto__=P)}Object.defineProperty(O,"__esModule",{value:!0}),O.default=O.ListItem=void 0;var d=function(){function _(P,S){for(var M=0;M<S.length;M++){var N=S[M];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(P,N.key,N)}}return function(P,S,M){return S&&_(P.prototype,S),M&&_(P,M),P}}(),o=function _(P,S,M){null===P&&(P=Function.prototype);var N=Object.getOwnPropertyDescriptor(P,S);if(void 0===N){var T=Object.getPrototypeOf(P);return null===T?void 0:_(T,S,M)}if("value"in N)return N.value;var C=N.get;return void 0!==C?C.call(M):void 0},a=n(k(0)),f=n(k(3)),u=n(k(23)),m=function(_){function P(){return c(this,P),y(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return g(P,_),d(P,[{key:"format",value:function(S,M){S!==x.blotName||M?o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"format",this).call(this,S,M):this.replaceWith(a.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(S,M){return this.parent.isolate(this.offset(this.parent),this.length()),S===this.parent.statics.blotName?(this.parent.replaceWith(S,M),this):(this.parent.unwrap(),o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replaceWith",this).call(this,S,M))}}],[{key:"formats",value:function(S){return S.tagName===this.tagName?void 0:o(P.__proto__||Object.getPrototypeOf(P),"formats",this).call(this,S)}}]),P}(f.default);m.blotName="list-item",m.tagName="LI";var x=function(_){function P(S){c(this,P);var M=y(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,S)),N=function(T){if(T.target.parentNode===S){var C=M.statics.formats(S),b=a.default.find(T.target);"checked"===C?b.format("list","unchecked"):"unchecked"===C&&b.format("list","checked")}};return S.addEventListener("touchstart",N),S.addEventListener("mousedown",N),M}return g(P,_),d(P,null,[{key:"create",value:function(S){var M="ordered"===S?"OL":"UL",N=o(P.__proto__||Object.getPrototypeOf(P),"create",this).call(this,M);return"checked"!==S&&"unchecked"!==S||N.setAttribute("data-checked","checked"===S),N}},{key:"formats",value:function(S){return"OL"===S.tagName?"ordered":"UL"===S.tagName?S.hasAttribute("data-checked")?"true"===S.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),d(P,[{key:"format",value:function(S,M){this.children.length>0&&this.children.tail.format(S,M)}},{key:"formats",value:function(){return function p(_,P,S){return P in _?Object.defineProperty(_,P,{value:S,enumerable:!0,configurable:!0,writable:!0}):_[P]=S,_}({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(S,M){if(S instanceof m)o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,S,M);else{var N=null==M?this.length():M.offset(this),T=this.split(N);T.parent.insertBefore(S,T)}}},{key:"optimize",value:function(S){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,S);var M=this.next;null!=M&&M.prev===this&&M.statics.blotName===this.statics.blotName&&M.domNode.tagName===this.domNode.tagName&&M.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(M.moveChildren(this),M.remove())}},{key:"replace",value:function(S){if(S.statics.blotName!==this.statics.blotName){var M=a.default.create(this.statics.defaultChild);S.moveChildren(M),this.appendChild(M)}o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replace",this).call(this,S)}}]),P}(u.default);x.blotName="list",x.scope=a.default.Scope.BLOCK_BLOT,x.tagName=["OL","UL"],x.defaultChild="list-item",x.allowedChildren=[m],O.ListItem=m,O.default=x},function(q,O,k){"use strict";Object.defineProperty(O,"__esModule",{value:!0});var o,d=function(o){function r(){return function n(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),function p(o,r){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?o:r}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function c(o,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);o.prototype=Object.create(r&&r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(o,r):o.__proto__=r)}(r,o),r}(((o=k(39))&&o.__esModule?o:{default:o}).default);d.blotName="italic",d.tagName=["EM","I"],O.default=d},function(q,O,k){"use strict";Object.defineProperty(O,"__esModule",{value:!0});var a,y=function(){function a(l,f){for(var h=0;h<f.length;h++){var u=f[h];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}return function(l,f,h){return f&&a(l.prototype,f),h&&a(l,h),l}}(),g=function a(l,f,h){null===l&&(l=Function.prototype);var u=Object.getOwnPropertyDescriptor(l,f);if(void 0===u){var m=Object.getPrototypeOf(l);return null===m?void 0:a(m,f,h)}if("value"in u)return u.value;var x=u.get;return void 0!==x?x.call(h):void 0},r=function(a){function l(){return function n(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l),function p(a,l){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?a:l}(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return function c(a,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);a.prototype=Object.create(l&&l.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(a,l):a.__proto__=l)}(l,a),y(l,null,[{key:"create",value:function(f){return"super"===f?document.createElement("sup"):"sub"===f?document.createElement("sub"):g(l.__proto__||Object.getPrototypeOf(l),"create",this).call(this,f)}},{key:"formats",value:function(f){return"SUB"===f.tagName?"sub":"SUP"===f.tagName?"super":void 0}}]),l}(((a=k(5))&&a.__esModule?a:{default:a}).default);r.blotName="script",r.tagName=["SUB","SUP"],O.default=r},function(q,O,k){"use strict";Object.defineProperty(O,"__esModule",{value:!0});var o,d=function(o){function r(){return function n(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),function p(o,r){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?o:r}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function c(o,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);o.prototype=Object.create(r&&r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(o,r):o.__proto__=r)}(r,o),r}(((o=k(5))&&o.__esModule?o:{default:o}).default);d.blotName="strike",d.tagName="S",O.default=d},function(q,O,k){"use strict";Object.defineProperty(O,"__esModule",{value:!0});var o,d=function(o){function r(){return function n(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),function p(o,r){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?o:r}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function c(o,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);o.prototype=Object.create(r&&r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(o,r):o.__proto__=r)}(r,o),r}(((o=k(5))&&o.__esModule?o:{default:o}).default);d.blotName="underline",d.tagName="U",O.default=d},function(q,O,k){"use strict";Object.defineProperty(O,"__esModule",{value:!0});var f,y=function(){function f(h,u){for(var m=0;m<u.length;m++){var x=u[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(h,x.key,x)}}return function(h,u,m){return u&&f(h.prototype,u),m&&f(h,m),h}}(),g=function f(h,u,m){null===h&&(h=Function.prototype);var x=Object.getOwnPropertyDescriptor(h,u);if(void 0===x){var _=Object.getPrototypeOf(h);return null===_?void 0:f(_,u,m)}if("value"in x)return x.value;var P=x.get;return void 0!==P?P.call(m):void 0},o=(f=k(0))&&f.__esModule?f:{default:f},r=k(15),a=["alt","height","width"],l=function(f){function h(){return function n(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}(this,h),function p(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?f:h}(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return function c(f,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}(h,f),y(h,[{key:"format",value:function(u,m){a.indexOf(u)>-1?m?this.domNode.setAttribute(u,m):this.domNode.removeAttribute(u):g(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"format",this).call(this,u,m)}}],[{key:"create",value:function(u){var m=g(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this,u);return"string"==typeof u&&m.setAttribute("src",this.sanitize(u)),m}},{key:"formats",value:function(u){return a.reduce(function(m,x){return u.hasAttribute(x)&&(m[x]=u.getAttribute(x)),m},{})}},{key:"match",value:function(u){return/\.(jpe?g|gif|png)$/.test(u)||/^data:image\/.+;base64/.test(u)}},{key:"sanitize",value:function(u){return(0,r.sanitize)(u,["http","https","data"])?u:"//:0"}},{key:"value",value:function(u){return u.getAttribute("src")}}]),h}(o.default.Embed);l.blotName="image",l.tagName="IMG",O.default=l},function(q,O,k){"use strict";Object.defineProperty(O,"__esModule",{value:!0});var f,y=function(){function f(h,u){for(var m=0;m<u.length;m++){var x=u[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(h,x.key,x)}}return function(h,u,m){return u&&f(h.prototype,u),m&&f(h,m),h}}(),g=function f(h,u,m){null===h&&(h=Function.prototype);var x=Object.getOwnPropertyDescriptor(h,u);if(void 0===x){var _=Object.getPrototypeOf(h);return null===_?void 0:f(_,u,m)}if("value"in x)return x.value;var P=x.get;return void 0!==P?P.call(m):void 0},d=k(3),r=(f=k(15))&&f.__esModule?f:{default:f},a=["height","width"],l=function(f){function h(){return function n(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}(this,h),function p(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?f:h}(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return function c(f,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}(h,f),y(h,[{key:"format",value:function(u,m){a.indexOf(u)>-1?m?this.domNode.setAttribute(u,m):this.domNode.removeAttribute(u):g(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"format",this).call(this,u,m)}}],[{key:"create",value:function(u){var m=g(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this,u);return m.setAttribute("frameborder","0"),m.setAttribute("allowfullscreen",!0),m.setAttribute("src",this.sanitize(u)),m}},{key:"formats",value:function(u){return a.reduce(function(m,x){return u.hasAttribute(x)&&(m[x]=u.getAttribute(x)),m},{})}},{key:"sanitize",value:function(u){return r.default.sanitize(u)}},{key:"value",value:function(u){return u.getAttribute("src")}}]),h}(d.BlockEmbed);l.blotName="video",l.className="ql-video",l.tagName="IFRAME",O.default=l},function(q,O,k){"use strict";function n(x){return x&&x.__esModule?x:{default:x}}function p(x,_){if(!(x instanceof _))throw new TypeError("Cannot call a class as a function")}function c(x,_){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||"object"!=typeof _&&"function"!=typeof _?x:_}function y(x,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);x.prototype=Object.create(_&&_.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(x,_):x.__proto__=_)}Object.defineProperty(O,"__esModule",{value:!0}),O.default=O.FormulaBlot=void 0;var g=function(){function x(_,P){for(var S=0;S<P.length;S++){var M=P[S];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}return function(_,P,S){return P&&x(_.prototype,P),S&&x(_,S),_}}(),d=function x(_,P,S){null===_&&(_=Function.prototype);var M=Object.getOwnPropertyDescriptor(_,P);if(void 0===M){var N=Object.getPrototypeOf(_);return null===N?void 0:x(N,P,S)}if("value"in M)return M.value;var T=M.get;return void 0!==T?T.call(S):void 0},r=n(k(33)),l=n(k(6)),h=n(k(7)),u=function(x){function _(){return p(this,_),c(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return y(_,x),g(_,null,[{key:"create",value:function(P){var S=d(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,P);return"string"==typeof P&&(window.katex.render(P,S,{throwOnError:!1,errorColor:"#f00"}),S.setAttribute("data-value",P)),S}},{key:"value",value:function(P){return P.getAttribute("data-value")}}]),_}(r.default);u.blotName="formula",u.className="ql-formula",u.tagName="SPAN";var m=function(x){function _(){p(this,_);var P=c(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return P}return y(_,x),g(_,null,[{key:"register",value:function(){l.default.register(u,!0)}}]),_}(h.default);O.FormulaBlot=u,O.default=m},function(q,O,k){"use strict";function n(S){return S&&S.__esModule?S:{default:S}}function p(S,M){if(!(S instanceof M))throw new TypeError("Cannot call a class as a function")}function c(S,M){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||"object"!=typeof M&&"function"!=typeof M?S:M}function y(S,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function, not "+typeof M);S.prototype=Object.create(M&&M.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(S,M):S.__proto__=M)}Object.defineProperty(O,"__esModule",{value:!0}),O.default=O.CodeToken=O.CodeBlock=void 0;var g=function(){function S(M,N){for(var T=0;T<N.length;T++){var C=N[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(M,C.key,C)}}return function(M,N,T){return N&&S(M.prototype,N),T&&S(M,T),M}}(),d=function S(M,N,T){null===M&&(M=Function.prototype);var C=Object.getOwnPropertyDescriptor(M,N);if(void 0===C){var b=Object.getPrototypeOf(M);return null===b?void 0:S(b,N,T)}if("value"in C)return C.value;var w=C.get;return void 0!==w?w.call(T):void 0},r=n(k(0)),l=n(k(6)),h=n(k(7)),x=function(S){function M(){return p(this,M),c(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return y(M,S),g(M,[{key:"replaceWith",value:function(N){this.domNode.textContent=this.domNode.textContent,this.attach(),d(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"replaceWith",this).call(this,N)}},{key:"highlight",value:function(N){var T=this.domNode.textContent;this.cachedText!==T&&((T.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=N(T),this.domNode.normalize(),this.attach()),this.cachedText=T)}}]),M}(n(k(13)).default);x.className="ql-syntax";var _=new r.default.Attributor.Class("token","hljs",{scope:r.default.Scope.INLINE}),P=function(S){function M(N,T){p(this,M);var C=c(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,N,T));if("function"!=typeof C.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var b=null;return C.quill.on(l.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(b),b=setTimeout(function(){C.highlight(),b=null},C.options.interval)}),C.highlight(),C}return y(M,S),g(M,null,[{key:"register",value:function(){l.default.register(_,!0),l.default.register(x,!0)}}]),g(M,[{key:"highlight",value:function(){var N=this;if(!this.quill.selection.composing){this.quill.update(l.default.sources.USER);var T=this.quill.getSelection();this.quill.scroll.descendants(x).forEach(function(C){C.highlight(N.options.highlight)}),this.quill.update(l.default.sources.SILENT),null!=T&&this.quill.setSelection(T,l.default.sources.SILENT)}}}]),M}(h.default);P.DEFAULTS={highlight:null==window.hljs?null:function(S){return window.hljs.highlightAuto(S).value},interval:1e3},O.CodeBlock=x,O.CodeToken=_,O.default=P},function(q,O,k){"use strict";function n(b){return b&&b.__esModule?b:{default:b}}function y(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?b:w}function d(b,w,j){var z=document.createElement("button");z.setAttribute("type","button"),z.classList.add("ql-"+w),null!=j&&(z.value=j),b.appendChild(z)}function o(b,w){Array.isArray(w[0])||(w=[w]),w.forEach(function(j){var z=document.createElement("span");z.classList.add("ql-formats"),j.forEach(function(G){if("string"==typeof G)d(z,G);else{var Y=Object.keys(G)[0],X=G[Y];Array.isArray(X)?function r(b,w,j){var z=document.createElement("select");z.classList.add("ql-"+w),j.forEach(function(G){var Y=document.createElement("option");!1!==G?Y.setAttribute("value",G):Y.setAttribute("selected","selected"),z.appendChild(Y)}),b.appendChild(z)}(z,Y,X):d(z,Y,X)}}),b.appendChild(z)})}Object.defineProperty(O,"__esModule",{value:!0}),O.addControls=O.default=void 0;var a=function(w,j){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return function b(w,j){var z=[],G=!0,Y=!1,X=void 0;try{for(var $,F=w[Symbol.iterator]();!(G=($=F.next()).done)&&(z.push($.value),!j||z.length!==j);G=!0);}catch(E){Y=!0,X=E}finally{try{!G&&F.return&&F.return()}finally{if(Y)throw X}}return z}(w,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")},l=function(){function b(w,j){for(var z=0;z<j.length;z++){var G=j[z];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(w,G.key,G)}}return function(w,j,z){return j&&b(w.prototype,j),z&&b(w,z),w}}(),h=n(k(4)),m=n(k(0)),_=n(k(6)),S=n(k(10)),N=n(k(7)),T=(0,S.default)("quill:toolbar"),C=function(b){function w(j,z){!function c(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}(this,w);var X,G=y(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,j,z));if(Array.isArray(G.options.container)){var Y=document.createElement("div");o(Y,G.options.container),j.container.parentNode.insertBefore(Y,j.container),G.container=Y}else G.container="string"==typeof G.options.container?document.querySelector(G.options.container):G.options.container;return G.container instanceof HTMLElement?(G.container.classList.add("ql-toolbar"),G.controls=[],G.handlers={},Object.keys(G.options.handlers).forEach(function($){G.addHandler($,G.options.handlers[$])}),[].forEach.call(G.container.querySelectorAll("button, select"),function($){G.attach($)}),G.quill.on(_.default.events.EDITOR_CHANGE,function($,F){$===_.default.events.SELECTION_CHANGE&&G.update(F)}),G.quill.on(_.default.events.SCROLL_OPTIMIZE,function(){var $=G.quill.selection.getRange(),F=a($,1);G.update(F[0])}),G):(X=T.error("Container required for toolbar",G.options),y(G,X))}return function g(b,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}(w,b),l(w,[{key:"addHandler",value:function(j,z){this.handlers[j]=z}},{key:"attach",value:function(j){var z=this,G=[].find.call(j.classList,function(X){return 0===X.indexOf("ql-")});if(G){if(G=G.slice(3),"BUTTON"===j.tagName&&j.setAttribute("type","button"),null==this.handlers[G]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[G])return void T.warn("ignoring attaching to disabled format",G,j);if(null==m.default.query(G))return void T.warn("ignoring attaching to nonexistent format",G,j)}j.addEventListener("SELECT"===j.tagName?"change":"click",function(X){var $=void 0;if("SELECT"===j.tagName){if(j.selectedIndex<0)return;var F=j.options[j.selectedIndex];$=!F.hasAttribute("selected")&&(F.value||!1)}else $=!j.classList.contains("ql-active")&&(j.value||!j.hasAttribute("value")),X.preventDefault();z.quill.focus();var E=z.quill.selection.getRange(),R=a(E,1)[0];if(null!=z.handlers[G])z.handlers[G].call(z,$);else if(m.default.query(G).prototype instanceof m.default.Embed){if(!($=prompt("Enter "+G)))return;z.quill.updateContents((new h.default).retain(R.index).delete(R.length).insert(function p(b,w,j){return w in b?Object.defineProperty(b,w,{value:j,enumerable:!0,configurable:!0,writable:!0}):b[w]=j,b}({},G,$)),_.default.sources.USER)}else z.quill.format(G,$,_.default.sources.USER);z.update(R)}),this.controls.push([G,j])}}},{key:"update",value:function(j){var z=null==j?{}:this.quill.getFormat(j);this.controls.forEach(function(G){var Y=a(G,2),X=Y[0],$=Y[1];if("SELECT"===$.tagName){var F=void 0;if(null==j)F=null;else if(null==z[X])F=$.querySelector("option[selected]");else if(!Array.isArray(z[X])){var E=z[X];"string"==typeof E&&(E=E.replace(/\"/g,'\\"')),F=$.querySelector('option[value="'+E+'"]')}null==F?($.value="",$.selectedIndex=-1):F.selected=!0}else if(null==j)$.classList.remove("ql-active");else if($.hasAttribute("value")){var I=z[X]===$.getAttribute("value")||null!=z[X]&&z[X].toString()===$.getAttribute("value")||null==z[X]&&!$.getAttribute("value");$.classList.toggle("ql-active",I)}else $.classList.toggle("ql-active",null!=z[X])})}}]),w}(N.default);C.DEFAULTS={},C.DEFAULTS={container:null,handlers:{clean:function(){var b=this,w=this.quill.getSelection();if(null!=w)if(0==w.length){var j=this.quill.getFormat();Object.keys(j).forEach(function(z){null!=m.default.query(z,m.default.Scope.INLINE)&&b.quill.format(z,!1)})}else this.quill.removeFormat(w,_.default.sources.USER)},direction:function(b){var w=this.quill.getFormat().align;"rtl"===b&&null==w?this.quill.format("align","right",_.default.sources.USER):b||"right"!==w||this.quill.format("align",!1,_.default.sources.USER),this.quill.format("direction",b,_.default.sources.USER)},indent:function(b){var w=this.quill.getSelection(),j=this.quill.getFormat(w),z=parseInt(j.indent||0);if("+1"===b||"-1"===b){var G="+1"===b?1:-1;"rtl"===j.direction&&(G*=-1),this.quill.format("indent",z+G,_.default.sources.USER)}},link:function(b){!0===b&&(b=prompt("Enter link URL:")),this.quill.format("link",b,_.default.sources.USER)},list:function(b){var w=this.quill.getSelection(),j=this.quill.getFormat(w);this.quill.format("list","check"===b?"checked"!==j.list&&"unchecked"!==j.list&&"unchecked":b,_.default.sources.USER)}}},O.default=C,O.addControls=o},function(q,O){q.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(q,O){q.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(q,O){q.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(q,O){q.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(q,O){q.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(q,O){q.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(q,O){q.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(q,O){q.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(q,O){q.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(q,O){q.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(q,O){q.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(q,O){q.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(q,O){q.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(q,O){q.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(q,O){q.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(q,O){q.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(q,O){q.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(q,O){q.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(q,O){q.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(q,O){q.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(q,O){q.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(q,O){q.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(q,O){q.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(q,O){q.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(q,O){q.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(q,O){q.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(q,O){q.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(q,O){q.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(q,O){q.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(q,O){q.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(q,O){q.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(q,O){q.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(q,O,k){"use strict";function n(M){return M&&M.__esModule?M:{default:M}}function p(M,N){if(!(M instanceof N))throw new TypeError("Cannot call a class as a function")}function c(M,N){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N||"object"!=typeof N&&"function"!=typeof N?M:N}function y(M,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function, not "+typeof N);M.prototype=Object.create(N&&N.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(M,N):M.__proto__=N)}Object.defineProperty(O,"__esModule",{value:!0}),O.default=O.BubbleTooltip=void 0;var g=function M(N,T,C){null===N&&(N=Function.prototype);var b=Object.getOwnPropertyDescriptor(N,T);if(void 0===b){var w=Object.getPrototypeOf(N);return null===w?void 0:M(w,T,C)}if("value"in b)return b.value;var j=b.get;return void 0!==j?j.call(C):void 0},d=function(){function M(N,T){for(var C=0;C<T.length;C++){var b=T[C];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(N,b.key,b)}}return function(N,T,C){return T&&M(N.prototype,T),C&&M(N,C),N}}(),r=n(k(2)),l=n(k(9)),f=k(44),h=n(f),u=k(22),x=n(k(26)),_=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],P=function(M){function N(T,C){p(this,N),null!=C.modules.toolbar&&null==C.modules.toolbar.container&&(C.modules.toolbar.container=_);var b=c(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,T,C));return b.quill.container.classList.add("ql-bubble"),b}return y(N,M),d(N,[{key:"extendToolbar",value:function(T){this.tooltip=new S(this.quill,this.options.bounds),this.tooltip.root.appendChild(T.container),this.buildButtons([].slice.call(T.container.querySelectorAll("button")),x.default),this.buildPickers([].slice.call(T.container.querySelectorAll("select")),x.default)}}]),N}(h.default);P.DEFAULTS=(0,r.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(M){M?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var S=function(M){function N(T,C){p(this,N);var b=c(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,T,C));return b.quill.on(l.default.events.EDITOR_CHANGE,function(w,j,z,G){if(w===l.default.events.SELECTION_CHANGE)if(null!=j&&j.length>0&&G===l.default.sources.USER){b.show(),b.root.style.left="0px",b.root.style.width="",b.root.style.width=b.root.offsetWidth+"px";var Y=b.quill.getLines(j.index,j.length);if(1===Y.length)b.position(b.quill.getBounds(j));else{var X=Y[Y.length-1],$=b.quill.getIndex(X),F=Math.min(X.length()-1,j.index+j.length-$),E=b.quill.getBounds(new u.Range($,F));b.position(E)}}else document.activeElement!==b.textbox&&b.quill.hasFocus()&&b.hide()}),b}return y(N,M),d(N,[{key:"listen",value:function(){var T=this;g(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){T.root.classList.remove("ql-editing")}),this.quill.on(l.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!T.root.classList.contains("ql-hidden")){var C=T.quill.getSelection();null!=C&&T.position(T.quill.getBounds(C))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(T){var C=g(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"position",this).call(this,T),b=this.root.querySelector(".ql-tooltip-arrow");if(b.style.marginLeft="",0===C)return C;b.style.marginLeft=-1*C-b.offsetWidth/2+"px"}}]),N}(f.BaseTooltip);S.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),O.BubbleTooltip=S,O.default=P},function(q,O,k){"use strict";function n(C){return C&&C.__esModule?C:{default:C}}function p(C,b){if(!(C instanceof b))throw new TypeError("Cannot call a class as a function")}function c(C,b){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?C:b}function y(C,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);C.prototype=Object.create(b&&b.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(C,b):C.__proto__=b)}Object.defineProperty(O,"__esModule",{value:!0});var d=function C(b,w,j){null===b&&(b=Function.prototype);var z=Object.getOwnPropertyDescriptor(b,w);if(void 0===z){var G=Object.getPrototypeOf(b);return null===G?void 0:C(G,w,j)}if("value"in z)return z.value;var Y=z.get;return void 0!==Y?Y.call(j):void 0},o=function(){function C(b,w){for(var j=0;j<w.length;j++){var z=w[j];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(b,z.key,z)}}return function(b,w,j){return w&&C(b.prototype,w),j&&C(b,j),b}}(),a=n(k(2)),f=n(k(9)),h=k(44),u=n(h),x=n(k(15)),_=k(22),S=n(k(26)),M=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],N=function(C){function b(w,j){p(this,b),null!=j.modules.toolbar&&null==j.modules.toolbar.container&&(j.modules.toolbar.container=M);var z=c(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,w,j));return z.quill.container.classList.add("ql-snow"),z}return y(b,C),o(b,[{key:"extendToolbar",value:function(w){w.container.classList.add("ql-snow"),this.buildButtons([].slice.call(w.container.querySelectorAll("button")),S.default),this.buildPickers([].slice.call(w.container.querySelectorAll("select")),S.default),this.tooltip=new T(this.quill,this.options.bounds),w.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(j,z){w.handlers.link.call(w,!z.format.link)})}}]),b}(u.default);N.DEFAULTS=(0,a.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(C){if(C){var b=this.quill.getSelection();if(null==b||0==b.length)return;var w=this.quill.getText(b);/^\S+@\S+\.\S+$/.test(w)&&0!==w.indexOf("mailto:")&&(w="mailto:"+w),this.quill.theme.tooltip.edit("link",w)}else this.quill.format("link",!1)}}}}});var T=function(C){function b(w,j){p(this,b);var z=c(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,w,j));return z.preview=z.root.querySelector("a.ql-preview"),z}return y(b,C),o(b,[{key:"listen",value:function(){var w=this;d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(j){w.root.classList.contains("ql-editing")?w.save():w.edit("link",w.preview.textContent),j.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(j){if(null!=w.linkRange){var z=w.linkRange;w.restoreFocus(),w.quill.formatText(z,"link",!1,f.default.sources.USER),delete w.linkRange}j.preventDefault(),w.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(j,z,G){if(null!=j){if(0===j.length&&G===f.default.sources.USER){var X=function(b,w){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return function C(b,w){var j=[],z=!0,G=!1,Y=void 0;try{for(var X,$=b[Symbol.iterator]();!(z=(X=$.next()).done)&&(j.push(X.value),!w||j.length!==w);z=!0);}catch(F){G=!0,Y=F}finally{try{!z&&$.return&&$.return()}finally{if(G)throw Y}}return j}(b,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(w.quill.scroll.descendant(x.default,j.index),2),$=X[0];if(null!=$){w.linkRange=new _.Range(j.index-X[1],$.length());var E=x.default.formats($.domNode);return w.preview.textContent=E,w.preview.setAttribute("href",E),w.show(),void w.position(w.quill.getBounds(w.linkRange))}}else delete w.linkRange;w.hide()}})}},{key:"show",value:function(){d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),b}(h.BaseTooltip);T.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),O.default=N}]).default});